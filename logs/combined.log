{
  message: 'Initializing OpenCanvas StateGraph',
  level: 'info',
  timestamp: '2025-02-08T12:48:47.394Z'
}
{
  message: 'OpenCanvas StateGraph compilation complete',
  level: 'info',
  timestamp: '2025-02-08T12:48:47.398Z'
}
{
  message: 'Initializing OpenCanvas StateGraph',
  level: 'info',
  timestamp: '2025-02-08T12:49:01.064Z'
}
{
  message: 'OpenCanvas StateGraph compilation complete',
  level: 'info',
  timestamp: '2025-02-08T12:49:01.068Z'
}
{
  message: 'Initializing OpenCanvas StateGraph',
  level: 'info',
  timestamp: '2025-02-08T12:49:26.784Z'
}
{
  message: 'OpenCanvas StateGraph compilation complete',
  level: 'info',
  timestamp: '2025-02-08T12:49:26.788Z'
}
{
  message: 'Initializing OpenCanvas StateGraph',
  level: 'info',
  timestamp: '2025-02-08T12:49:50.137Z'
}
{
  message: 'OpenCanvas StateGraph compilation complete',
  level: 'info',
  timestamp: '2025-02-08T12:49:50.141Z'
}
{
  message: 'Initializing OpenCanvas StateGraph',
  level: 'info',
  timestamp: '2025-02-08T12:50:10.634Z'
}
{
  message: 'OpenCanvas StateGraph compilation complete',
  level: 'info',
  timestamp: '2025-02-08T12:50:10.639Z'
}
{
  documentCount: 13,
  documentSources: [
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md'
  ],
  level: 'info',
  message: 'Adding documents to vector store',
  timestamp: '2025-02-08T12:53:20.035Z'
}
{
  message: 'Initializing vector store',
  level: 'info',
  timestamp: '2025-02-08T12:53:20.039Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T12:53:21.534Z'
}
{
  totalDocuments: 13,
  level: 'info',
  message: 'Documents added to vector store successfully',
  timestamp: '2025-02-08T12:53:23.019Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T12:54:19.668Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-08T12:54:21.550Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Подготовь исковое заявление в суд',
          additional_kwargs: {},
          response_metadata: {},
          id: 'e08e5a11-dd53-4087-b1b9-7b5c2963762e'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Подготовь исковое заявление в суд',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: 'e08e5a11-dd53-4087-b1b9-7b5c2963762e'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-08T12:54:21.554Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-08T12:54:27.648Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-08T12:54:27.650Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T12:55:58.351Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-08T12:55:58.352Z'
}
{
  currentState: {
    messages: [],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Исковое заявление в суд',
          fullMarkdown: '**В Суд**\\\n' +
            '**Истец:** [ФИО истца]\\\n' +
            '**Адрес:** [адрес истца]\\\n' +
            '**Телефон:** [номер телефона истца]\\\n' +
            '**Ответчик:** [ФИО ответчика]\\\n' +
            '**Адрес:** [адрес ответчика]\n' +
            '\n' +
            '**Исковое заявление**\\\n' +
            '**о защите прав и законных интересов**\n' +
            '\n' +
            '**В связи с:** [краткое описание причины иска]\n' +
            '\n' +
            '**На основании:** [указать нормы законодательства, на которые ссылается истец]\n' +
            '\n' +
            '**Прошу:**\n' +
            '\n' +
            '1.  [Первая просьба истца]\n' +
            '2.  [Вторая просьба истца]\n' +
            '3.  [Третья просьба истца]\n' +
            '\n' +
            '**Приложения:**\n' +
            '\n' +
            '1.  [Перечень документов, подтверждающих требования истца]\n' +
            '2.  [Копия искового заявления для ответчика]\n' +
            '3.  [Копия документа, подтверждающего уплату государственной пошлины]\n' +
            '\n' +
            '**Дата:** [дата подачи иска]\\\n' +
            '**Подпись:** [подпись истца]\n'
        }
      ]
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-08T12:55:58.354Z'
}
{
  message: 'Starting RAG retrieval process',
  level: 'info',
  timestamp: '2025-02-08T12:55:58.360Z'
}
{
  message: 'No query found for RAG retrieval, returning empty state',
  level: 'warn',
  timestamp: '2025-02-08T12:55:58.360Z'
}
{
  documentCount: 13,
  documentSources: [
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md'
  ],
  level: 'info',
  message: 'Adding documents to vector store',
  timestamp: '2025-02-08T13:05:01.042Z'
}
{
  message: 'Initializing vector store',
  level: 'info',
  timestamp: '2025-02-08T13:05:01.047Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T13:05:01.851Z'
}
{
  totalDocuments: 13,
  level: 'info',
  message: 'Documents added to vector store successfully',
  timestamp: '2025-02-08T13:05:02.783Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T13:06:02.574Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-08T13:06:05.143Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Подготовь исковое заявление в суд',
          additional_kwargs: {},
          response_metadata: {},
          id: '77ad56ed-63b6-4e3a-ae08-ba84ea75d412'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Подготовь исковое заявление в суд',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: '77ad56ed-63b6-4e3a-ae08-ba84ea75d412'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-08T13:06:05.147Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-08T13:06:19.611Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-08T13:06:19.612Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T13:06:43.708Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-08T13:06:43.709Z'
}
{
  currentState: {
    messages: [],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Исковое заявление в суд',
          fullMarkdown: '**Исковое заявление**\\\n' +
            '**В суд**\\\n' +
            '**Истец:** [ФИО, адрес, телефон, электронная почта]\\\n' +
            '**Ответчик:** [ФИО, адрес, телефон, электронная почта]\n' +
            '\n' +
            '**Суть иска:**\\\n' +
            '[Краткое изложение сути иска, например, «Я, [ФИО], обращаюсь в суд с иском к [ФИО ответчика] о взыскании задолженности по договору № [номер договора] от [дата]»]\n' +
            '\n' +
            '**Обстоятельства дела:**\n' +
            '\n' +
            '1.  [Изложение фактов, на которых основан иск, например, «[Дата] я заключил с ответчиком договор, согласно которому ответчик обязался…»]\n' +
            '2.  [Дополнительные факты и обстоятельства, подтверждающие иск]\n' +
            '\n' +
            '**На основании вышеизложенного, руководствуясь ст. [номер статьи] Гражданского процессуального кодекса РФ,**\\\n' +
            '**ПРОШУ:**\n' +
            '\n' +
            '1.  Взыскать с ответчика сумму в размере [сумма] рублей;\n' +
            '2.  [Другие требования, если есть];\n' +
            '3.  Взыскать с ответчика судебные расходы.\n' +
            '\n' +
            '**Приложения:**\n' +
            '\n' +
            '1.  Копия договора;\n' +
            '2.  Копия переписки;\n' +
            '3.  [Другие документы, подтверждающие иск].\n' +
            '\n' +
            '**Дата:** [дата подачи иска]\\\n' +
            '**Подпись:** [подпись истца]\n'
        }
      ]
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-08T13:06:43.711Z'
}
{
  message: 'Starting RAG retrieval process',
  level: 'info',
  timestamp: '2025-02-08T13:06:43.717Z'
}
{
  query: '**Исковое заявление**\\\n' +
    '**В суд**\\\n' +
    '**Истец:** [ФИО, адрес, телефон, электронная почта]\\\n' +
    '**Ответчик:** [ФИО, адрес, телефон, электронная почта]\n' +
    '\n' +
    '**Суть иска:**\\\n' +
    '[Краткое изложение сути иска, например, «Я, [ФИО], обращаюсь в суд с иском к [ФИО ответчика] о взыскании задолженности по договору № [номер договора] от [дата]»]\n' +
    '\n' +
    '**Обстоятельства дела:**\n' +
    '\n' +
    '1.  [Изложение фактов, на которых основан иск, например, «[Дата] я заключил с ответчиком договор, согласно которому ответчик обязался…»]\n' +
    '2.  [Дополнительные факты и обстоятельства, подтверждающие иск]\n' +
    '\n' +
    '**На основании вышеизложенного, руководствуясь ст. [номер статьи] Гражданского процессуального кодекса РФ,**\\\n' +
    '**ПРОШУ:**\n' +
    '\n' +
    '1.  Взыскать с ответчика сумму в размере [сумма] рублей;\n' +
    '2.  [Другие требования, если есть];\n' +
    '3.  Взыскать с ответчика судебные расходы.\n' +
    '\n' +
    '**Приложения:**\n' +
    '\n' +
    '1.  Копия договора;\n' +
    '2.  Копия переписки;\n' +
    '3.  [Другие документы, подтверждающие иск].\n' +
    '\n' +
    '**Дата:** [дата подачи иска]\\\n' +
    '**Подпись:** [подпись истца]\n',
  level: 'info',
  message: 'Processing RAG retrieval query',
  timestamp: '2025-02-08T13:06:43.718Z'
}
{
  query: '**Исковое заявление**\\\n' +
    '**В суд**\\\n' +
    '**Истец:** [ФИО, адрес, телефон, электронная почта]\\\n' +
    '**Ответчик:** [ФИО, адрес, телефон, электронная почта]\n' +
    '\n' +
    '**Суть иска:**\\\n' +
    '[Краткое изложение сути иска, например, «Я, [ФИО], обращаюсь в суд с иском к [ФИО ответчика] о взыскании задолженности по договору № [номер договора] от [дата]»]\n' +
    '\n' +
    '**Обстоятельства дела:**\n' +
    '\n' +
    '1.  [Изложение фактов, на которых основан иск, например, «[Дата] я заключил с ответчиком договор, согласно которому ответчик обязался…»]\n' +
    '2.  [Дополнительные факты и обстоятельства, подтверждающие иск]\n' +
    '\n' +
    '**На основании вышеизложенного, руководствуясь ст. [номер статьи] Гражданского процессуального кодекса РФ,**\\\n' +
    '**ПРОШУ:**\n' +
    '\n' +
    '1.  Взыскать с ответчика сумму в размере [сумма] рублей;\n' +
    '2.  [Другие требования, если есть];\n' +
    '3.  Взыскать с ответчика судебные расходы.\n' +
    '\n' +
    '**Приложения:**\n' +
    '\n' +
    '1.  Копия договора;\n' +
    '2.  Копия переписки;\n' +
    '3.  [Другие документы, подтверждающие иск].\n' +
    '\n' +
    '**Дата:** [дата подачи иска]\\\n' +
    '**Подпись:** [подпись истца]\n',
  k: 3,
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T13:06:43.720Z'
}
{
  message: 'Initializing vector store',
  level: 'info',
  timestamp: '2025-02-08T13:06:43.722Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T13:06:44.452Z'
}
{
  resultsFound: 1,
  resultSources: [ 'unknown' ],
  level: 'info',
  message: 'Vector search completed successfully',
  timestamp: '2025-02-08T13:06:44.863Z'
}
{
  documentsFound: 1,
  documentSources: [ 'unknown' ],
  level: 'info',
  message: 'Vector search completed',
  timestamp: '2025-02-08T13:06:44.864Z'
}
{
  message: 'RAG retrieval completed successfully',
  level: 'info',
  timestamp: '2025-02-08T13:06:44.864Z'
}
{
  documentCount: 13,
  documentSources: [
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md'
  ],
  level: 'info',
  message: 'Adding documents to vector store',
  timestamp: '2025-02-08T13:09:35.518Z'
}
{
  message: 'Initializing vector store',
  level: 'info',
  timestamp: '2025-02-08T13:09:35.523Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T13:09:36.705Z'
}
{
  totalDocuments: 13,
  level: 'info',
  message: 'Documents added to vector store successfully',
  timestamp: '2025-02-08T13:09:38.076Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T13:09:56.573Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-08T13:09:58.766Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Подготовь исковое заявление в суд',
          additional_kwargs: {},
          response_metadata: {},
          id: 'becfc619-2304-46fd-b18e-04fd7f9de1a0'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Подготовь исковое заявление в суд',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: 'becfc619-2304-46fd-b18e-04fd7f9de1a0'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-08T13:09:58.769Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-08T13:10:09.378Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-08T13:10:09.379Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T13:10:38.203Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-08T13:10:38.204Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Подготовь исковое заявление в суд',
          additional_kwargs: {},
          response_metadata: {},
          id: 'becfc619-2304-46fd-b18e-04fd7f9de1a0'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Подготовь исковое заявление в суд',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: 'becfc619-2304-46fd-b18e-04fd7f9de1a0'
      },
      AIMessageChunk {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Ваше исковое заявление готово и прилагается для вашего рассмотрения. Пожалуйста, ознакомьтесь с документом и дайте знать, если необходимы какие-либо изменения или дополнения.',
          additional_kwargs: {},
          response_metadata: {
            usage: {
              prompt_tokens: 741,
              completion_tokens: 42,
              total_tokens: 783,
              prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
              completion_tokens_details: {
                reasoning_tokens: 0,
                audio_tokens: 0,
                accepted_prediction_tokens: 0,
                rejected_prediction_tokens: 0
              }
            }
          },
          tool_call_chunks: [],
          id: 'chatcmpl-AyesyL4sUiK4Fku2qqDywxrxlzX8F',
          tool_calls: [],
          invalid_tool_calls: [],
          usage_metadata: undefined
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Ваше исковое заявление готово и прилагается для вашего рассмотрения. Пожалуйста, ознакомьтесь с документом и дайте знать, если необходимы какие-либо изменения или дополнения.',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {
          usage: {
            prompt_tokens: 741,
            completion_tokens: 42,
            total_tokens: 783,
            prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
            completion_tokens_details: {
              reasoning_tokens: 0,
              audio_tokens: 0,
              accepted_prediction_tokens: 0,
              rejected_prediction_tokens: 0
            }
          }
        },
        id: 'chatcmpl-AyesyL4sUiK4Fku2qqDywxrxlzX8F',
        tool_calls: [],
        invalid_tool_calls: [],
        tool_call_chunks: [],
        usage_metadata: undefined
      }
    ],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Исковое заявление',
          fullMarkdown: '**В [название суда]**\n' +
            '\n' +
            'Истец: [ФИО, адрес, контактные данные]\n' +
            '\n' +
            'Ответчик: [ФИО или наименование организации, адрес, контактные данные]\n' +
            '\n' +
            'Цена иска: [сумма]\n' +
            '\n' +
            '**ИСКОВОЕ ЗАЯВЛЕНИЕ**\n' +
            '\n' +
            'о [предмет иска]\n' +
            '\n' +
            '**1. Обстоятельства дела:** Изложение фактов, которые привели к возникновению спора. Укажите дату, место и другие важные детали.\n' +
            '\n' +
            '**2. Основания иска:** Ссылки на нормы права, которые были нарушены ответчиком, и обоснование правомерности требований истца.\n' +
            '\n' +
            '**3. Требования истца:** Четкое изложение требований истца к ответчику, например, взыскание суммы долга, возврат имущества, компенсация ущерба и т.д.\n' +
            '\n' +
            '**4. Доказательства:** Перечень документов и иных доказательств, которые прилагаются к иску в подтверждение заявленных требований.\n' +
            '\n' +
            '**5. Приложения:**\n' +
            '\n' +
            '*   Копия искового заявления для ответчика;\n' +
            '*   Документы, подтверждающие обстоятельства дела;\n' +
            '*   Квитанция об уплате государственной пошлины;\n' +
            '*   Иные документы, подтверждающие требования истца.\n' +
            '\n' +
            '**Дата**: [дата подачи заявления]\n' +
            '\n' +
            '**Подпись истца**: ___________\n'
        }
      ]
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-08T13:10:38.209Z'
}
{
  message: 'Starting RAG retrieval process',
  level: 'info',
  timestamp: '2025-02-08T13:10:38.216Z'
}
{
  query: 'Ваше исковое заявление готово и прилагается для вашего рассмотрения. Пожалуйста, ознакомьтесь с документом и дайте знать, если необходимы какие-либо изменения или дополнения.',
  level: 'info',
  message: 'Processing RAG retrieval query',
  timestamp: '2025-02-08T13:10:38.216Z'
}
{
  query: 'Ваше исковое заявление готово и прилагается для вашего рассмотрения. Пожалуйста, ознакомьтесь с документом и дайте знать, если необходимы какие-либо изменения или дополнения.',
  k: 3,
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T13:10:38.218Z'
}
{
  message: 'Initializing vector store',
  level: 'info',
  timestamp: '2025-02-08T13:10:38.218Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T13:10:39.458Z'
}
{
  resultsFound: 1,
  resultSources: [ 'unknown' ],
  level: 'info',
  message: 'Vector search completed successfully',
  timestamp: '2025-02-08T13:10:39.972Z'
}
{
  documentsFound: 1,
  documentSources: [ 'unknown' ],
  level: 'info',
  message: 'Vector search completed',
  timestamp: '2025-02-08T13:10:39.973Z'
}
{
  message: 'RAG retrieval completed successfully',
  level: 'info',
  timestamp: '2025-02-08T13:10:39.974Z'
}
{
  message: 'Checking if title generation is needed. Message count: 3',
  level: 'info',
  timestamp: '2025-02-08T13:10:47.786Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  cwd: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas',
  level: 'info',
  message: 'Starting document loading script',
  timestamp: '2025-02-08T13:16:50.550Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-08T13:16:50.555Z'
}
{
  fileCount: 1,
  files: [ { name: 'document1.md', extension: '.md' } ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-08T13:16:50.560Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T13:16:50.565Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T13:16:50.568Z'
}
{
  documentCount: 13,
  documentSources: [
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md'
  ],
  documentContents: [
    'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
      '\r\n' +
      'Вводный инструктаж по гражд...',
    'Оглавление:\r\n' +
      '\r\n' +
      '1. Кто проводит вводный инструктаж\r\n' +
      '2. С кем нужно проводить вводный инструктаж\r\n' +
      '3. К...',
    '- руководитель занятий по ГО.\r\n' +
      '\r\n' +
      'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...',
    'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...',
    '- наличие опасных производственных факторов в организации;\r\n' +
      '- место ее расположения;\r\n' +
      '- вероятность ...',
    'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...',
    'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...',
    '5. Риски в случае непроведения вводного инструктажа\r\n' +
      '   За невыполнение обязанности провести вводный...',
    'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...',
    'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...',
    'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...',
    'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...',
    'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
  ],
  level: 'info',
  message: 'Adding documents to vector store',
  timestamp: '2025-02-08T13:16:50.571Z'
}
{
  message: 'Initializing vector store',
  level: 'info',
  timestamp: '2025-02-08T13:16:50.574Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T13:16:51.855Z'
}
{
  previousDocumentCount: 1,
  newDocumentCount: 14,
  addedDocuments: 13,
  totalDocuments: 13,
  level: 'info',
  message: 'Documents added to vector store successfully',
  timestamp: '2025-02-08T13:16:53.165Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T13:18:02.466Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-08T13:18:04.692Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь текст заключение по инструктажу по гражднской обороне ',
          additional_kwargs: {},
          response_metadata: {},
          id: 'fd7a2e79-0290-4f00-82a1-a04ab4060e1d'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь текст заключение по инструктажу по гражднской обороне ',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: 'fd7a2e79-0290-4f00-82a1-a04ab4060e1d'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-08T13:18:04.696Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-08T13:18:10.898Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-08T13:18:10.898Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T13:18:37.733Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-08T13:18:37.734Z'
}
{
  currentState: {
    messages: [],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Заключение по инструктажу',
          fullMarkdown: '**Заключение по инструктажу по гражданской обороне**\n' +
            '\n' +
            'В ходе проведенного инструктажа по гражданской обороне были рассмотрены основные вопросы, касающиеся защиты населения и территорий от чрезвычайных ситуаций. Участники инструктажа ознакомились с:\n' +
            '\n' +
            '1.  Основными понятиями и целями гражданской обороны.\n' +
            '2.  Способами оповещения и действиями в случае возникновения угрозы.\n' +
            '3.  Правилами поведения в условиях чрезвычайных ситуаций.\n' +
            '4.  Основными мероприятиями по защите и спасению людей.\n' +
            '\n' +
            'Инструкторы подчеркнули важность готовности к действиям в экстренных ситуациях и необходимость постоянного повышения уровня знаний в области гражданской обороны. Участники получили практические рекомендации по действиям в различных сценариях, что способствует повышению общей безопасности.\n' +
            '\n' +
            'По итогам инструктажа все участники подтвердили понимание содержания и готовность к действиям в случае возникновения чрезвычайных ситуаций. Рекомендуется периодически проводить повторные инструктажи и тренировки для поддержания уровня готовности и повышения осведомленности населения.\n'
        }
      ]
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-08T13:18:37.737Z'
}
{
  message: 'Starting RAG retrieval process',
  level: 'info',
  timestamp: '2025-02-08T13:18:37.743Z'
}
{
  query: '**Заключение по инструктажу по гражданской обороне**\n' +
    '\n' +
    'В ходе проведенного инструктажа по гражданской обороне были рассмотрены основные вопросы, касающиеся защиты населения и территорий от чрезвычайных ситуаций. Участники инструктажа ознакомились с:\n' +
    '\n' +
    '1.  Основными понятиями и целями гражданской обороны.\n' +
    '2.  Способами оповещения и действиями в случае возникновения угрозы.\n' +
    '3.  Правилами поведения в условиях чрезвычайных ситуаций.\n' +
    '4.  Основными мероприятиями по защите и спасению людей.\n' +
    '\n' +
    'Инструкторы подчеркнули важность готовности к действиям в экстренных ситуациях и необходимость постоянного повышения уровня знаний в области гражданской обороны. Участники получили практические рекомендации по действиям в различных сценариях, что способствует повышению общей безопасности.\n' +
    '\n' +
    'По итогам инструктажа все участники подтвердили понимание содержания и готовность к действиям в случае возникновения чрезвычайных ситуаций. Рекомендуется периодически проводить повторные инструктажи и тренировки для поддержания уровня готовности и повышения осведомленности населения.\n',
  level: 'info',
  message: 'Processing RAG retrieval query',
  timestamp: '2025-02-08T13:18:37.744Z'
}
{
  query: '**Заключение по инструктажу по гражданской обороне**\n' +
    '\n' +
    'В ходе проведенного инструктажа по гражданской обороне были рассмотрены основные вопросы, касающиеся защиты населения и территорий от чрезвычайных ситуаций. Участники инструктажа ознакомились с:\n' +
    '\n' +
    '1.  Основными понятиями и целями гражданской обороны.\n' +
    '2.  Способами оповещения и действиями в случае возникновения угрозы.\n' +
    '3.  Правилами поведения в условиях чрезвычайных ситуаций.\n' +
    '4.  Основными мероприятиями по защите и спасению людей.\n' +
    '\n' +
    'Инструкторы подчеркнули важность готовности к действиям в экстренных ситуациях и необходимость постоянного повышения уровня знаний в области гражданской обороны. Участники получили практические рекомендации по действиям в различных сценариях, что способствует повышению общей безопасности.\n' +
    '\n' +
    'По итогам инструктажа все участники подтвердили понимание содержания и готовность к действиям в случае возникновения чрезвычайных ситуаций. Рекомендуется периодически проводить повторные инструктажи и тренировки для поддержания уровня готовности и повышения осведомленности населения.\n',
  k: 3,
  queryLength: 1064,
  queryPreview: '**Заключение по инструктажу по гражданской обороне**\n' +
    '\n' +
    'В ходе проведенного инструктажа по гражданской...',
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T13:18:37.746Z'
}
{
  message: 'Initializing vector store',
  level: 'info',
  timestamp: '2025-02-08T13:18:37.748Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T13:18:38.797Z'
}
{
  resultsFound: 1,
  resultSources: [ 'unknown' ],
  resultPreviews: [ { source: 'unknown', contentPreview: 'Initial vector store....' } ],
  level: 'info',
  message: 'Vector search completed successfully',
  timestamp: '2025-02-08T13:18:39.322Z'
}
{
  documentsFound: 1,
  documentSources: [ 'unknown' ],
  level: 'info',
  message: 'Vector search completed',
  timestamp: '2025-02-08T13:18:39.323Z'
}
{
  message: 'RAG retrieval completed successfully',
  level: 'info',
  timestamp: '2025-02-08T13:18:39.324Z'
}
{
  message: 'Checking if title generation is needed. Message count: 1',
  level: 'info',
  timestamp: '2025-02-08T13:18:45.856Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-08T13:18:45.856Z'
}
{
  message: 'Starting RAG functionality tests',
  level: 'info',
  timestamp: '2025-02-08T13:25:28.610Z'
}
{
  message: 'Test 1: Initializing vector store',
  level: 'info',
  timestamp: '2025-02-08T13:25:28.613Z'
}
{
  message: 'Initializing vector store',
  level: 'info',
  timestamp: '2025-02-08T13:25:28.613Z'
}
{
  message: 'Starting RAG test script',
  level: 'info',
  timestamp: '2025-02-08T13:25:28.617Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T13:25:29.476Z'
}
{
  message: '✓ Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T13:25:29.477Z'
}
{
  message: 'Test 2: Adding documents to vector store',
  level: 'info',
  timestamp: '2025-02-08T13:25:29.477Z'
}
{
  documentCount: 2,
  documentSources: [ 'legal_ai.txt', 'contract_ml.txt' ],
  documentContents: [
    'Artificial intelligence is transforming legal research...',
    'Machine learning applications in contract analysis...'
  ],
  level: 'info',
  message: 'Adding documents to vector store',
  timestamp: '2025-02-08T13:25:29.478Z'
}
{
  previousDocumentCount: 1,
  newDocumentCount: 3,
  addedDocuments: 2,
  totalDocuments: 2,
  level: 'info',
  message: 'Documents added to vector store successfully',
  timestamp: '2025-02-08T13:25:30.237Z'
}
{
  message: '✓ Documents added successfully',
  level: 'info',
  timestamp: '2025-02-08T13:25:30.238Z'
}
{
  message: 'Test 3: Testing vector search',
  level: 'info',
  timestamp: '2025-02-08T13:25:30.239Z'
}
{
  query: 'artificial intelligence in law',
  k: 2,
  queryLength: 30,
  queryPreview: 'artificial intelligence in law...',
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T13:25:30.239Z'
}
{
  resultsFound: 2,
  resultSources: [ 'legal_ai.txt', 'contract_ml.txt' ],
  resultPreviews: [
    {
      source: 'legal_ai.txt',
      contentPreview: 'Artificial intelligence is transforming legal research...'
    },
    {
      source: 'contract_ml.txt',
      contentPreview: 'Machine learning applications in contract analysis...'
    }
  ],
  level: 'info',
  message: 'Vector search completed successfully',
  timestamp: '2025-02-08T13:25:30.613Z'
}
{
  resultCount: 2,
  firstResultPreview: 'Artificial intelligence is transforming legal research',
  level: 'info',
  message: '✓ Search returned results successfully',
  timestamp: '2025-02-08T13:25:30.614Z'
}
{
  message: 'Test 4: Testing search result limit',
  level: 'info',
  timestamp: '2025-02-08T13:25:30.615Z'
}
{
  query: 'legal',
  k: 1,
  queryLength: 5,
  queryPreview: 'legal...',
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T13:25:30.615Z'
}
{
  resultsFound: 1,
  resultSources: [ 'legal_ai.txt' ],
  resultPreviews: [
    {
      source: 'legal_ai.txt',
      contentPreview: 'Artificial intelligence is transforming legal research...'
    }
  ],
  level: 'info',
  message: 'Vector search completed successfully',
  timestamp: '2025-02-08T13:25:31.276Z'
}
{
  message: '✓ Search limit respected successfully',
  level: 'info',
  timestamp: '2025-02-08T13:25:31.277Z'
}
{
  message: 'All tests completed successfully',
  level: 'info',
  timestamp: '2025-02-08T13:25:31.278Z'
}
{
  message: 'Starting RAG functionality tests',
  level: 'info',
  timestamp: '2025-02-08T13:27:33.370Z'
}
{
  message: 'Test 1: Initializing vector store',
  level: 'info',
  timestamp: '2025-02-08T13:27:33.373Z'
}
{
  message: 'Initializing vector store',
  level: 'info',
  timestamp: '2025-02-08T13:27:33.374Z'
}
{
  message: 'Starting RAG test script',
  level: 'info',
  timestamp: '2025-02-08T13:27:33.377Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T13:27:34.608Z'
}
{
  message: '✓ Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T13:27:34.609Z'
}
{
  message: 'Test 2: Loading and adding documents from documents folder',
  level: 'info',
  timestamp: '2025-02-08T13:27:34.609Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  level: 'info',
  message: 'Loading documents from folder',
  timestamp: '2025-02-08T13:27:34.610Z'
}
{
  fileName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Loaded document',
  timestamp: '2025-02-08T13:27:34.612Z'
}
{
  documentCount: 1,
  documentSources: [ 'document1.md' ],
  documentContents: [
    'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
      '\r\n' +
      'Вводный инструктаж по гражд...'
  ],
  level: 'info',
  message: 'Adding documents to vector store',
  timestamp: '2025-02-08T13:27:34.613Z'
}
{
  previousDocumentCount: 1,
  newDocumentCount: 2,
  addedDocuments: 1,
  totalDocuments: 1,
  level: 'info',
  message: 'Documents added to vector store successfully',
  timestamp: '2025-02-08T13:27:35.435Z'
}
{
  documentCount: 1,
  documents: [ { source: 'document1.md', contentLength: 10236 } ],
  level: 'info',
  message: '✓ Documents added successfully',
  timestamp: '2025-02-08T13:27:35.436Z'
}
{
  message: 'Test 3: Testing vector search with document content',
  level: 'info',
  timestamp: '2025-02-08T13:27:35.437Z'
}
{
  query: 'Как организовать и провести вводный',
  k: 2,
  queryLength: 35,
  queryPreview: 'Как организовать и провести вводный...',
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T13:27:35.437Z'
}
{
  resultsFound: 2,
  resultSources: [ 'document1.md', 'unknown' ],
  resultPreviews: [
    {
      source: 'document1.md',
      contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    { source: 'unknown', contentPreview: 'Initial vector store....' }
  ],
  level: 'info',
  message: 'Vector search completed successfully',
  timestamp: '2025-02-08T13:27:35.932Z'
}
{
  query: 'Как организовать и провести вводный',
  resultCount: 2,
  results: [
    {
      source: 'document1.md',
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    { source: undefined, preview: 'Initial vector store....' }
  ],
  level: 'info',
  message: '✓ Search returned results successfully',
  timestamp: '2025-02-08T13:27:35.933Z'
}
{
  message: 'Test 4: Testing search result limit',
  level: 'info',
  timestamp: '2025-02-08T13:27:35.934Z'
}
{
  query: 'Как организовать и провести вводный',
  k: 1,
  queryLength: 35,
  queryPreview: 'Как организовать и провести вводный...',
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T13:27:35.934Z'
}
{
  resultsFound: 1,
  resultSources: [ 'document1.md' ],
  resultPreviews: [
    {
      source: 'document1.md',
      contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    }
  ],
  level: 'info',
  message: 'Vector search completed successfully',
  timestamp: '2025-02-08T13:27:36.317Z'
}
{
  requestedLimit: 1,
  actualResults: 1,
  level: 'info',
  message: '✓ Search limit respected successfully',
  timestamp: '2025-02-08T13:27:36.318Z'
}
{
  message: 'All tests completed successfully',
  level: 'info',
  timestamp: '2025-02-08T13:27:36.319Z'
}
{
  message: 'Starting RAG functionality tests',
  level: 'info',
  timestamp: '2025-02-08T13:28:51.782Z'
}
{
  message: 'Test 1: Initializing vector store',
  level: 'info',
  timestamp: '2025-02-08T13:28:51.785Z'
}
{
  message: 'Initializing vector store',
  level: 'info',
  timestamp: '2025-02-08T13:28:51.785Z'
}
{
  message: 'Starting RAG test script',
  level: 'info',
  timestamp: '2025-02-08T13:28:51.788Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T13:28:52.567Z'
}
{
  message: '✓ Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T13:28:52.568Z'
}
{
  message: 'Test 2: Loading and adding documents from documents folder',
  level: 'info',
  timestamp: '2025-02-08T13:28:52.568Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  level: 'info',
  message: 'Loading documents from folder',
  timestamp: '2025-02-08T13:28:52.569Z'
}
{
  fileName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Loaded document',
  timestamp: '2025-02-08T13:28:52.570Z'
}
{
  documentCount: 1,
  documentSources: [ 'document1.md' ],
  documentContents: [
    'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
      '\r\n' +
      'Вводный инструктаж по гражд...'
  ],
  level: 'info',
  message: 'Adding documents to vector store',
  timestamp: '2025-02-08T13:28:52.571Z'
}
{
  previousDocumentCount: 1,
  newDocumentCount: 2,
  addedDocuments: 1,
  totalDocuments: 1,
  level: 'info',
  message: 'Documents added to vector store successfully',
  timestamp: '2025-02-08T13:28:53.315Z'
}
{
  documentCount: 1,
  documents: [ { source: 'document1.md', contentLength: 10236 } ],
  level: 'info',
  message: '✓ Documents added successfully',
  timestamp: '2025-02-08T13:28:53.316Z'
}
{
  message: 'Test 3: Testing vector search with document content',
  level: 'info',
  timestamp: '2025-02-08T13:28:53.316Z'
}
{
  query: 'Как организовать и провести вводный',
  k: 2,
  queryLength: 35,
  queryPreview: 'Как организовать и провести вводный...',
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T13:28:53.316Z'
}
{
  resultsFound: 2,
  resultSources: [ 'document1.md', 'unknown' ],
  resultPreviews: [
    {
      source: 'document1.md',
      contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    { source: 'unknown', contentPreview: 'Initial vector store....' }
  ],
  level: 'info',
  message: 'Vector search completed successfully',
  timestamp: '2025-02-08T13:28:53.706Z'
}
{
  query: 'Как организовать и провести вводный',
  resultCount: 2,
  results: [
    {
      source: 'document1.md',
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    { source: undefined, preview: 'Initial vector store....' }
  ],
  level: 'info',
  message: '✓ Search returned results successfully',
  timestamp: '2025-02-08T13:28:53.707Z'
}
{
  message: 'Test 4: Testing search result limit',
  level: 'info',
  timestamp: '2025-02-08T13:28:53.707Z'
}
{
  query: 'Как организовать и провести вводный',
  k: 1,
  queryLength: 35,
  queryPreview: 'Как организовать и провести вводный...',
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T13:28:53.708Z'
}
{
  resultsFound: 1,
  resultSources: [ 'document1.md' ],
  resultPreviews: [
    {
      source: 'document1.md',
      contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    }
  ],
  level: 'info',
  message: 'Vector search completed successfully',
  timestamp: '2025-02-08T13:28:54.335Z'
}
{
  requestedLimit: 1,
  actualResults: 1,
  level: 'info',
  message: '✓ Search limit respected successfully',
  timestamp: '2025-02-08T13:28:54.336Z'
}
{
  message: 'All tests completed successfully',
  level: 'info',
  timestamp: '2025-02-08T13:28:54.336Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  cwd: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas',
  level: 'info',
  message: 'Starting document loading script',
  timestamp: '2025-02-08T14:22:30.300Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-08T14:22:30.304Z'
}
{
  fileCount: 1,
  files: [ { name: 'document1.md', extension: '.md' } ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-08T14:22:30.309Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T14:22:30.312Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T14:22:30.314Z'
}
{
  documentCount: 13,
  documentSources: [
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md'
  ],
  documentContents: [
    'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
      '\r\n' +
      'Вводный инструктаж по гражд...',
    'Оглавление:\r\n' +
      '\r\n' +
      '1. Кто проводит вводный инструктаж\r\n' +
      '2. С кем нужно проводить вводный инструктаж\r\n' +
      '3. К...',
    '- руководитель занятий по ГО.\r\n' +
      '\r\n' +
      'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...',
    'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...',
    '- наличие опасных производственных факторов в организации;\r\n' +
      '- место ее расположения;\r\n' +
      '- вероятность ...',
    'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...',
    'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...',
    '5. Риски в случае непроведения вводного инструктажа\r\n' +
      '   За невыполнение обязанности провести вводный...',
    'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...',
    'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...',
    'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...',
    'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...',
    'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
  ],
  level: 'info',
  message: 'Adding documents to vector store',
  timestamp: '2025-02-08T14:22:30.316Z'
}
{
  message: 'Initializing vector store',
  level: 'info',
  timestamp: '2025-02-08T14:22:30.318Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T14:22:31.224Z'
}
{
  previousDocumentCount: 1,
  newDocumentCount: 14,
  addedDocuments: 13,
  totalDocuments: 13,
  level: 'info',
  message: 'Documents added to vector store successfully',
  timestamp: '2025-02-08T14:22:32.915Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T14:23:30.766Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-08T14:23:34.993Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь подробное описание инструктажа по гражданской обороне',
          additional_kwargs: {},
          response_metadata: {},
          id: '379cedd3-9350-4812-8a5d-3e6bc8b5866b'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь подробное описание инструктажа по гражданской обороне',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: '379cedd3-9350-4812-8a5d-3e6bc8b5866b'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-08T14:23:34.997Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-08T14:23:45.949Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-08T14:23:45.949Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T14:24:19.841Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-08T14:24:19.841Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь подробное описание инструктажа по гражданской обороне',
          additional_kwargs: {},
          response_metadata: {},
          id: '379cedd3-9350-4812-8a5d-3e6bc8b5866b'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь подробное описание инструктажа по гражданской обороне',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: '379cedd3-9350-4812-8a5d-3e6bc8b5866b'
      },
      AIMessageChunk {
        lc_serializable: true,
        lc_kwargs: {
          content: 'В соответствии с вашим запросом, подготовлена инструкция по проведению инструктажа по гражданской обороне. Ознакомьтесь с документом и дайте знать, если потребуется внести изменения или дополнения.',
          additional_kwargs: {},
          response_metadata: {
            usage: {
              prompt_tokens: 1035,
              completion_tokens: 44,
              total_tokens: 1079,
              prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
              completion_tokens_details: {
                reasoning_tokens: 0,
                audio_tokens: 0,
                accepted_prediction_tokens: 0,
                rejected_prediction_tokens: 0
              }
            }
          },
          tool_call_chunks: [],
          id: 'chatcmpl-Ayg2Drxrt0fUJK0uiVeTL494XAKo6',
          tool_calls: [],
          invalid_tool_calls: [],
          usage_metadata: undefined
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'В соответствии с вашим запросом, подготовлена инструкция по проведению инструктажа по гражданской обороне. Ознакомьтесь с документом и дайте знать, если потребуется внести изменения или дополнения.',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {
          usage: {
            prompt_tokens: 1035,
            completion_tokens: 44,
            total_tokens: 1079,
            prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
            completion_tokens_details: {
              reasoning_tokens: 0,
              audio_tokens: 0,
              accepted_prediction_tokens: 0,
              rejected_prediction_tokens: 0
            }
          }
        },
        id: 'chatcmpl-Ayg2Drxrt0fUJK0uiVeTL494XAKo6',
        tool_calls: [],
        invalid_tool_calls: [],
        tool_call_chunks: [],
        usage_metadata: undefined
      }
    ],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Инструктаж по гражданской обороне',
          fullMarkdown: '# Инструкция по проведению инструктажа по гражданской обороне\n' +
            '\n' +
            '## 1. Цели и задачи инструктажа\n' +
            '\n' +
            'Инструктаж по гражданской обороне направлен на:\n' +
            '\n' +
            '*   Обучение сотрудников основам гражданской обороны.\n' +
            '*   Ознакомление с правилами поведения в условиях чрезвычайных ситуаций.\n' +
            '*   Формирование навыков оказания первой помощи.\n' +
            '*   Подготовку к действиям в случае возникновения угрозы.\n' +
            '\n' +
            '## 2. Подготовка к инструктажу\n' +
            '\n' +
            '### 2.1. Определение категории слушателей\n' +
            '\n' +
            '*   Работники организации.\n' +
            '*   Специальные группы (пожарные, медики и т.д.).\n' +
            '\n' +
            '### 2.2. Составление программы инструктажа\n' +
            '\n' +
            '*   Основные темы:\n' +
            '\n' +
            '    *   Понятие гражданской обороны.\n' +
            '    *   Правила поведения в случае ЧС.\n' +
            '    *   Оказание первой помощи.\n' +
            '    *   Использование средств индивидуальной защиты.\n' +
            '\n' +
            '### 2.3. Подбор материалов\n' +
            '\n' +
            '*   Наглядные пособия (плакаты, схемы).\n' +
            '*   Инструкции и памятки.\n' +
            '*   Видео- и аудиоматериалы.\n' +
            '\n' +
            '## 3. Проведение инструктажа\n' +
            '\n' +
            '### 3.1. Введение\n' +
            '\n' +
            '*   Объяснить цель и задачи инструктажа.\n' +
            '*   Рассказать о важности гражданской обороны.\n' +
            '\n' +
            '### 3.2. Основная часть\n' +
            '\n' +
            '*   Рассмотреть каждую тему программы:\n' +
            '\n' +
            '    *   **Понятие гражданской обороны:**\n' +
            '\n' +
            '        *   Определение, цели и задачи.\n' +
            '\n' +
            '    *   **Правила поведения в ЧС:**\n' +
            '\n' +
            '        *   Инструкции по действиям при различных ситуациях (пожар, наводнение, террористическая угроза и т.д.).\n' +
            '\n' +
            '    *   **Оказание первой помощи:**\n' +
            '\n' +
            '        *   Основные навыки (сделать перевязку, вызвать скорую помощь и т.д.).\n' +
            '\n' +
            '    *   **Использование средств индивидуальной защиты:**\n' +
            '\n' +
            '        *   Как правильно использовать маски, респираторы, защитные костюмы.\n' +
            '\n' +
            '### 3.3. Заключение\n' +
            '\n' +
            '*   Подведение итогов.\n' +
            '*   Ответы на вопросы слушателей.\n' +
            '*   Рекомендации по дальнейшему обучению.\n' +
            '\n' +
            '## 4. Оценка результатов\n' +
            '\n' +
            '*   Проведение тестирования или опроса для оценки усвоенного материала.\n' +
            '*   Выдача сертификатов или удостоверений о прохождении инструктажа.\n' +
            '\n' +
            '## 5. Документация\n' +
            '\n' +
            '*   Оформление протокола о проведении инструктажа.\n' +
            '*   Ведение журнала учета инструктажей.\n' +
            '\n' +
            '## 6. Регулярность проведения инструктажей\n' +
            '\n' +
            '*   Инструктажи должны проводиться не реже одного раза в год.\n' +
            '*   При изменении законодательства или обновлении материалов – внеочередные инструктажи.\n'
        }
      ]
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-08T14:24:19.846Z'
}
{
  hasMessages: true,
  hasArtifact: true,
  actionType: 'rag_rewrite',
  level: 'info',
  message: 'Starting RAG retrieval process',
  timestamp: '2025-02-08T14:24:19.854Z'
}
{
  messageType: 'ai',
  queryLength: 197,
  queryPreview: 'В соответствии с вашим запросом, подготовлена инструкция по проведению инструктажа по гражданской об...',
  level: 'info',
  message: 'Using last message as query',
  timestamp: '2025-02-08T14:24:19.855Z'
}
{
  queryLength: 197,
  queryType: 'artifact_content',
  level: 'info',
  message: 'Processing RAG retrieval query',
  timestamp: '2025-02-08T14:24:19.855Z'
}
{
  query: 'В соответствии с вашим запросом, подготовлена инструкция по проведению инструктажа по гражданской обороне. Ознакомьтесь с документом и дайте знать, если потребуется внести изменения или дополнения.',
  k: 3,
  queryLength: 197,
  queryPreview: 'В соответствии с вашим запросом, подготовлена инструкция по проведению инструктажа по гражданской об...',
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T14:24:19.856Z'
}
{
  message: 'Initializing vector store',
  level: 'info',
  timestamp: '2025-02-08T14:24:19.857Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T14:24:21.153Z'
}
{
  resultsFound: 1,
  resultSources: [ 'unknown' ],
  resultPreviews: [ { source: 'unknown', contentPreview: 'Initial vector store....' } ],
  level: 'info',
  message: 'Vector search completed successfully',
  timestamp: '2025-02-08T14:24:22.126Z'
}
{
  documentsFound: 1,
  documentSources: [ 'unknown' ],
  documentLengths: [ 21 ],
  level: 'info',
  message: 'Vector search completed',
  timestamp: '2025-02-08T14:24:22.127Z'
}
{
  totalContextLength: 21,
  documentsUsed: 1,
  level: 'info',
  message: 'RAG retrieval completed successfully',
  timestamp: '2025-02-08T14:24:22.127Z'
}
{
  message: 'Checking if title generation is needed. Message count: 3',
  level: 'info',
  timestamp: '2025-02-08T14:24:36.335Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T14:30:15.944Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-08T14:30:17.864Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь справку по инструктажу по гражданской обороне',
          additional_kwargs: {},
          response_metadata: {},
          id: 'cc0c858a-5614-4134-9d6c-efd4efc2341e'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь справку по инструктажу по гражданской обороне',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: 'cc0c858a-5614-4134-9d6c-efd4efc2341e'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-08T14:30:17.868Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  cwd: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas',
  level: 'info',
  message: 'Starting document loading script',
  timestamp: '2025-02-08T14:30:24.315Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-08T14:30:24.319Z'
}
{
  fileCount: 1,
  files: [ { name: 'document1.md', extension: '.md' } ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-08T14:30:24.323Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T14:30:24.328Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T14:30:24.331Z'
}
{
  documentCount: 13,
  documentSources: [
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md'
  ],
  documentContents: [
    'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
      '\r\n' +
      'Вводный инструктаж по гражд...',
    'Оглавление:\r\n' +
      '\r\n' +
      '1. Кто проводит вводный инструктаж\r\n' +
      '2. С кем нужно проводить вводный инструктаж\r\n' +
      '3. К...',
    '- руководитель занятий по ГО.\r\n' +
      '\r\n' +
      'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...',
    'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...',
    '- наличие опасных производственных факторов в организации;\r\n' +
      '- место ее расположения;\r\n' +
      '- вероятность ...',
    'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...',
    'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...',
    '5. Риски в случае непроведения вводного инструктажа\r\n' +
      '   За невыполнение обязанности провести вводный...',
    'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...',
    'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...',
    'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...',
    'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...',
    'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
  ],
  level: 'info',
  message: 'Adding documents to vector store',
  timestamp: '2025-02-08T14:30:24.333Z'
}
{
  message: 'Initializing vector store',
  level: 'info',
  timestamp: '2025-02-08T14:30:24.336Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-08T14:30:25.290Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-08T14:30:25.290Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T14:30:25.384Z'
}
{
  previousDocumentCount: 1,
  newDocumentCount: 14,
  addedDocuments: 13,
  totalDocuments: 13,
  level: 'info',
  message: 'Documents added to vector store successfully',
  timestamp: '2025-02-08T14:30:26.720Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T14:30:53.856Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-08T14:30:53.857Z'
}
{
  currentState: {
    messages: [],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Справка по ГО',
          fullMarkdown: '# Справка по инструктажу по гражданской обороне\n' +
            '\n' +
            '## 1. Общая информация\n' +
            '\n' +
            'Инструктаж по гражданской обороне (ГО) — это процесс обучения и подготовки граждан к действиям в условиях чрезвычайных ситуаций, связанных с угрозой жизни и здоровью людей, а также разрушением объектов инфраструктуры.\n' +
            '\n' +
            '## 2. Цели инструктажа\n' +
            '\n' +
            '*   Ознакомление сотрудников с основами гражданской обороны;\n' +
            '*   Обучение действиям в условиях чрезвычайных ситуаций;\n' +
            '*   Повышение уровня готовности к реагированию на угрозы.\n' +
            '\n' +
            '## 3. Основные темы инструктажа\n' +
            '\n' +
            '*   Понятие гражданской обороны и её значение;\n' +
            '*   Правила поведения в условиях чрезвычайных ситуаций;\n' +
            '*   Оборудование и средства защиты;\n' +
            '*   Действия при эвакуации;\n' +
            '*   Способы оказания первой помощи.\n' +
            '\n' +
            '## 4. Формы проведения инструктажа\n' +
            '\n' +
            '*   Лекции;\n' +
            '*   Практические занятия;\n' +
            '*   Учебные тренировки;\n' +
            '*   Симуляции.\n' +
            '\n' +
            '## 5. Документирование\n' +
            '\n' +
            'По завершении инструктажа необходимо оформить:\n' +
            '\n' +
            '*   Журнал учета инструктажей;\n' +
            '*   Протоколы о проведении занятий;\n' +
            '*   Сертификаты о прохождении обучения.\n' +
            '\n' +
            '## 6. Ответственные лица\n' +
            '\n' +
            'Ответственными за проведение инструктажей являются:\n' +
            '\n' +
            '*   Руководители организаций;\n' +
            '*   Специалисты по гражданской обороне;\n' +
            '*   Инструкторы.\n' +
            '\n' +
            '## 7. Заключение\n' +
            '\n' +
            'Регулярное проведение инструктажей по гражданской обороне способствует повышению уровня безопасности и готовности населения к действиям в чрезвычайных ситуациях.\n'
        }
      ]
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-08T14:30:53.860Z'
}
{
  hasMessages: false,
  hasArtifact: true,
  actionType: 'rag_rewrite',
  level: 'info',
  message: 'Starting RAG retrieval process',
  timestamp: '2025-02-08T14:30:53.865Z'
}
{
  message: 'No message found, attempting to use artifact content for RAG rewrite',
  level: 'info',
  timestamp: '2025-02-08T14:30:53.865Z'
}
{
  contentType: 'markdown',
  queryLength: 1371,
  queryPreview: '# Справка по инструктажу по гражданской обороне\n' +
    '\n' +
    '## 1. Общая информация\n' +
    '\n' +
    'Инструктаж по гражданской о...',
  level: 'info',
  message: 'Using artifact content as query',
  timestamp: '2025-02-08T14:30:53.866Z'
}
{
  queryLength: 1371,
  queryType: 'artifact_content',
  level: 'info',
  message: 'Processing RAG retrieval query',
  timestamp: '2025-02-08T14:30:53.866Z'
}
{
  query: '# Справка по инструктажу по гражданской обороне\n' +
    '\n' +
    '## 1. Общая информация\n' +
    '\n' +
    'Инструктаж по гражданской обороне (ГО) — это процесс обучения и подготовки граждан к действиям в условиях чрезвычайных ситуаций, связанных с угрозой жизни и здоровью людей, а также разрушением объектов инфраструктуры.\n' +
    '\n' +
    '## 2. Цели инструктажа\n' +
    '\n' +
    '*   Ознакомление сотрудников с основами гражданской обороны;\n' +
    '*   Обучение действиям в условиях чрезвычайных ситуаций;\n' +
    '*   Повышение уровня готовности к реагированию на угрозы.\n' +
    '\n' +
    '## 3. Основные темы инструктажа\n' +
    '\n' +
    '*   Понятие гражданской обороны и её значение;\n' +
    '*   Правила поведения в условиях чрезвычайных ситуаций;\n' +
    '*   Оборудование и средства защиты;\n' +
    '*   Действия при эвакуации;\n' +
    '*   Способы оказания первой помощи.\n' +
    '\n' +
    '## 4. Формы проведения инструктажа\n' +
    '\n' +
    '*   Лекции;\n' +
    '*   Практические занятия;\n' +
    '*   Учебные тренировки;\n' +
    '*   Симуляции.\n' +
    '\n' +
    '## 5. Документирование\n' +
    '\n' +
    'По завершении инструктажа необходимо оформить:\n' +
    '\n' +
    '*   Журнал учета инструктажей;\n' +
    '*   Протоколы о проведении занятий;\n' +
    '*   Сертификаты о прохождении обучения.\n' +
    '\n' +
    '## 6. Ответственные лица\n' +
    '\n' +
    'Ответственными за проведение инструктажей являются:\n' +
    '\n' +
    '*   Руководители организаций;\n' +
    '*   Специалисты по гражданской обороне;\n' +
    '*   Инструкторы.\n' +
    '\n' +
    '## 7. Заключение\n' +
    '\n' +
    'Регулярное проведение инструктажей по гражданской обороне способствует повышению уровня безопасности и готовности населения к действиям в чрезвычайных ситуациях.\n',
  k: 3,
  queryLength: 1371,
  queryPreview: '# Справка по инструктажу по гражданской обороне\n' +
    '\n' +
    '## 1. Общая информация\n' +
    '\n' +
    'Инструктаж по гражданской о...',
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T14:30:53.867Z'
}
{
  message: 'Initializing vector store',
  level: 'info',
  timestamp: '2025-02-08T14:30:53.868Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T14:30:54.881Z'
}
{
  resultsFound: 1,
  resultSources: [ 'unknown' ],
  resultPreviews: [ { source: 'unknown', contentPreview: 'Initial vector store....' } ],
  level: 'info',
  message: 'Vector search completed successfully',
  timestamp: '2025-02-08T14:30:55.610Z'
}
{
  source: 'unknown',
  length: 21,
  content: 'Initial vector store.',
  level: 'info',
  message: 'Retrieved document 1',
  timestamp: '2025-02-08T14:30:55.611Z'
}
{
  totalContextLength: 21,
  documentsUsed: 1,
  retrievedContentSummary: 'Initial vector store.',
  level: 'info',
  message: 'RAG retrieval completed successfully',
  timestamp: '2025-02-08T14:30:55.612Z'
}
{
  message: 'Checking if title generation is needed. Message count: 1',
  level: 'info',
  timestamp: '2025-02-08T14:31:04.666Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-08T14:31:04.666Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  cwd: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas',
  level: 'info',
  message: 'Starting document loading script',
  timestamp: '2025-02-08T14:33:15.476Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-08T14:33:15.480Z'
}
{
  fileCount: 1,
  files: [ { name: 'document1.md', extension: '.md' } ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-08T14:33:15.484Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T14:33:15.487Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T14:33:15.489Z'
}
{
  documentCount: 13,
  documentSources: [
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md'
  ],
  documentContents: [
    'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
      '\r\n' +
      'Вводный инструктаж по гражд...',
    'Оглавление:\r\n' +
      '\r\n' +
      '1. Кто проводит вводный инструктаж\r\n' +
      '2. С кем нужно проводить вводный инструктаж\r\n' +
      '3. К...',
    '- руководитель занятий по ГО.\r\n' +
      '\r\n' +
      'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...',
    'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...',
    '- наличие опасных производственных факторов в организации;\r\n' +
      '- место ее расположения;\r\n' +
      '- вероятность ...',
    'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...',
    'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...',
    '5. Риски в случае непроведения вводного инструктажа\r\n' +
      '   За невыполнение обязанности провести вводный...',
    'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...',
    'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...',
    'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...',
    'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...',
    'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
  ],
  level: 'info',
  message: 'Adding documents to vector store',
  timestamp: '2025-02-08T14:33:15.491Z'
}
{
  message: 'Initializing vector store',
  level: 'info',
  timestamp: '2025-02-08T14:33:15.493Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T14:33:16.453Z'
}
{
  previousDocumentCount: 1,
  newDocumentCount: 14,
  addedDocuments: 13,
  totalDocuments: 13,
  level: 'info',
  message: 'Documents added to vector store successfully',
  timestamp: '2025-02-08T14:33:17.690Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T14:36:41.580Z'
}
{
  selectedRoute: 'replyToGeneralInput',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-08T14:36:43.691Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Справка по инструктажу по гражданской обороне',
          additional_kwargs: {},
          response_metadata: {},
          id: '03c05d7a-8db7-4f95-976b-6f3fd2049288'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Справка по инструктажу по гражданской обороне',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: '03c05d7a-8db7-4f95-976b-6f3fd2049288'
      }
    ],
    next: 'replyToGeneralInput'
  },
  nextNode: 'replyToGeneralInput',
  level: 'info',
  message: 'Routing to next node: replyToGeneralInput',
  timestamp: '2025-02-08T14:36:43.696Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-08T14:36:52.643Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-08T14:36:52.644Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T14:37:45.448Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-08T14:37:46.479Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь заключение по инструктажу по гражданской обороне',
          additional_kwargs: {},
          response_metadata: {},
          id: '5d9e7b3c-b2b8-4964-bec1-6a19088952a0'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь заключение по инструктажу по гражданской обороне',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: '5d9e7b3c-b2b8-4964-bec1-6a19088952a0'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-08T14:37:46.483Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-08T14:37:50.909Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-08T14:37:50.910Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T14:38:23.145Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-08T14:38:23.146Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь заключение по инструктажу по гражданской обороне',
          additional_kwargs: {},
          response_metadata: {},
          id: '5d9e7b3c-b2b8-4964-bec1-6a19088952a0'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь заключение по инструктажу по гражданской обороне',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: '5d9e7b3c-b2b8-4964-bec1-6a19088952a0'
      },
      AIMessageChunk {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Представляю вам заключение по инструктажу по гражданской обороне. Ознакомьтесь с документом и дайте знать, если потребуется внести изменения или дополнения.',
          additional_kwargs: {},
          response_metadata: {
            usage: {
              prompt_tokens: 583,
              completion_tokens: 39,
              total_tokens: 622,
              prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
              completion_tokens_details: {
                reasoning_tokens: 0,
                audio_tokens: 0,
                accepted_prediction_tokens: 0,
                rejected_prediction_tokens: 0
              }
            }
          },
          tool_call_chunks: [],
          id: 'chatcmpl-AygFqYnikj2nJjyrW4fSoubFDbPgT',
          tool_calls: [],
          invalid_tool_calls: [],
          usage_metadata: undefined
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Представляю вам заключение по инструктажу по гражданской обороне. Ознакомьтесь с документом и дайте знать, если потребуется внести изменения или дополнения.',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {
          usage: {
            prompt_tokens: 583,
            completion_tokens: 39,
            total_tokens: 622,
            prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
            completion_tokens_details: {
              reasoning_tokens: 0,
              audio_tokens: 0,
              accepted_prediction_tokens: 0,
              rejected_prediction_tokens: 0
            }
          }
        },
        id: 'chatcmpl-AygFqYnikj2nJjyrW4fSoubFDbPgT',
        tool_calls: [],
        invalid_tool_calls: [],
        tool_call_chunks: [],
        usage_metadata: undefined
      }
    ],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Заключение по инструктажу',
          fullMarkdown: 'В соответствии с проведенным инструктажом по гражданской обороне, участники ознакомлены с основными принципами защиты населения и территорий в условиях чрезвычайных ситуаций. Обсуждены основные действия в случае возникновения угрозы, а также порядок оповещения и эвакуации. Участникам предоставлены рекомендации по подготовке к возможным чрезвычайным ситуациям и действиям в условиях стихийных бедствий. Все присутствующие подтвердили свое понимание и готовность к действиям в случае необходимости. Настоятельно призывается к регулярному обновлению знаний и навыков в области гражданской обороны.\n'
        }
      ]
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-08T14:38:23.149Z'
}
{
  hasMessages: true,
  hasArtifact: true,
  actionType: 'rag_rewrite',
  level: 'info',
  message: 'Starting RAG retrieval process',
  timestamp: '2025-02-08T14:38:23.159Z'
}
{
  messageType: 'ai',
  queryLength: 156,
  queryPreview: 'Представляю вам заключение по инструктажу по гражданской обороне. Ознакомьтесь с документом и дайте ...',
  level: 'info',
  message: 'Using last message as query',
  timestamp: '2025-02-08T14:38:23.160Z'
}
{
  queryLength: 156,
  queryType: 'artifact_content',
  level: 'info',
  message: 'Processing RAG retrieval query',
  timestamp: '2025-02-08T14:38:23.160Z'
}
{
  query: 'Представляю вам заключение по инструктажу по гражданской обороне. Ознакомьтесь с документом и дайте знать, если потребуется внести изменения или дополнения.',
  k: 3,
  queryLength: 156,
  queryPreview: 'Представляю вам заключение по инструктажу по гражданской обороне. Ознакомьтесь с документом и дайте ...',
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T14:38:23.161Z'
}
{
  message: 'Initializing vector store',
  level: 'info',
  timestamp: '2025-02-08T14:38:23.161Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T14:38:23.991Z'
}
{
  resultsFound: 1,
  resultSources: [ 'unknown' ],
  resultPreviews: [ { source: 'unknown', contentPreview: 'Initial vector store....' } ],
  level: 'info',
  message: 'Vector search completed successfully',
  timestamp: '2025-02-08T14:38:25.002Z'
}
{
  source: 'unknown',
  length: 21,
  content: 'Initial vector store.',
  level: 'info',
  message: 'Retrieved document 1',
  timestamp: '2025-02-08T14:38:25.003Z'
}
{
  totalContextLength: 21,
  documentsUsed: 1,
  retrievedContentSummary: 'Initial vector store.',
  level: 'info',
  message: 'RAG retrieval completed successfully',
  timestamp: '2025-02-08T14:38:25.003Z'
}
{
  message: 'Checking if title generation is needed. Message count: 3',
  level: 'info',
  timestamp: '2025-02-08T14:38:31.610Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  cwd: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas',
  level: 'info',
  message: 'Starting document loading script',
  timestamp: '2025-02-08T14:39:51.712Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-08T14:39:51.715Z'
}
{
  fileCount: 1,
  files: [ { name: 'document1.md', extension: '.md' } ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-08T14:39:51.719Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T14:39:51.722Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T14:39:51.724Z'
}
{
  documentCount: 13,
  documentSources: [
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md'
  ],
  documentContents: [
    'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
      '\r\n' +
      'Вводный инструктаж по гражд...',
    'Оглавление:\r\n' +
      '\r\n' +
      '1. Кто проводит вводный инструктаж\r\n' +
      '2. С кем нужно проводить вводный инструктаж\r\n' +
      '3. К...',
    '- руководитель занятий по ГО.\r\n' +
      '\r\n' +
      'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...',
    'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...',
    '- наличие опасных производственных факторов в организации;\r\n' +
      '- место ее расположения;\r\n' +
      '- вероятность ...',
    'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...',
    'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...',
    '5. Риски в случае непроведения вводного инструктажа\r\n' +
      '   За невыполнение обязанности провести вводный...',
    'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...',
    'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...',
    'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...',
    'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...',
    'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
  ],
  level: 'info',
  message: 'Adding documents to vector store',
  timestamp: '2025-02-08T14:39:51.726Z'
}
{
  message: 'Initializing vector store',
  level: 'info',
  timestamp: '2025-02-08T14:39:51.728Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T14:39:53.302Z'
}
{
  previousDocumentCount: 1,
  newDocumentCount: 14,
  addedDocuments: 13,
  totalDocuments: 13,
  level: 'info',
  message: 'Documents added to vector store successfully',
  timestamp: '2025-02-08T14:39:54.955Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T14:40:24.407Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-08T14:40:24.407Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь заключение по инструктажу по гражданской обороне',
          additional_kwargs: {},
          response_metadata: {},
          id: '5d9e7b3c-b2b8-4964-bec1-6a19088952a0'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь заключение по инструктажу по гражданской обороне',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: '5d9e7b3c-b2b8-4964-bec1-6a19088952a0'
      },
      AIMessageChunk {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Представляю вам заключение по инструктажу по гражданской обороне. Ознакомьтесь с документом и дайте знать, если потребуется внести изменения или дополнения.',
          additional_kwargs: {},
          response_metadata: {
            usage: {
              prompt_tokens: 583,
              completion_tokens: 39,
              total_tokens: 622,
              prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
              completion_tokens_details: {
                reasoning_tokens: 0,
                audio_tokens: 0,
                accepted_prediction_tokens: 0,
                rejected_prediction_tokens: 0
              }
            }
          },
          tool_call_chunks: [],
          id: 'chatcmpl-AygFqYnikj2nJjyrW4fSoubFDbPgT',
          tool_calls: [],
          invalid_tool_calls: [],
          usage_metadata: undefined
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Представляю вам заключение по инструктажу по гражданской обороне. Ознакомьтесь с документом и дайте знать, если потребуется внести изменения или дополнения.',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {
          usage: {
            prompt_tokens: 583,
            completion_tokens: 39,
            total_tokens: 622,
            prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
            completion_tokens_details: {
              reasoning_tokens: 0,
              audio_tokens: 0,
              accepted_prediction_tokens: 0,
              rejected_prediction_tokens: 0
            }
          }
        },
        id: 'chatcmpl-AygFqYnikj2nJjyrW4fSoubFDbPgT',
        tool_calls: [],
        invalid_tool_calls: [],
        tool_call_chunks: [],
        usage_metadata: undefined
      },
      AIMessageChunk {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Представляю вашему вниманию заключение по инструктажу по гражданской обороне. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуется внести изменения или дополнения.',
          additional_kwargs: {},
          response_metadata: {
            usage: {
              prompt_tokens: 645,
              completion_tokens: 44,
              total_tokens: 689,
              prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
              completion_tokens_details: {
                reasoning_tokens: 0,
                audio_tokens: 0,
                accepted_prediction_tokens: 0,
                rejected_prediction_tokens: 0
              }
            }
          },
          tool_call_chunks: [],
          id: 'chatcmpl-AygGVqNwNoMuZRdN0g3BUnu2m1Nz2',
          tool_calls: [],
          invalid_tool_calls: [],
          usage_metadata: undefined
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Представляю вашему вниманию заключение по инструктажу по гражданской обороне. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуется внести изменения или дополнения.',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {
          usage: {
            prompt_tokens: 645,
            completion_tokens: 44,
            total_tokens: 689,
            prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
            completion_tokens_details: {
              reasoning_tokens: 0,
              audio_tokens: 0,
              accepted_prediction_tokens: 0,
              rejected_prediction_tokens: 0
            }
          }
        },
        id: 'chatcmpl-AygGVqNwNoMuZRdN0g3BUnu2m1Nz2',
        tool_calls: [],
        invalid_tool_calls: [],
        tool_call_chunks: [],
        usage_metadata: undefined
      }
    ],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Заключение по инструктажу',
          fullMarkdown: 'В соответствии с проведенным инструктажом по гражданской обороне, участники ознакомлены с основными принципами защиты населения и территорий в условиях чрезвычайных ситуаций. Обсуждены основные действия в случае возникновения угрозы, а также порядок оповещения и эвакуации. Участникам предоставлены рекомендации по подготовке к возможным чрезвычайным ситуациям и действиям в условиях стихийных бедствий. Все присутствующие подтвердили свое понимание и готовность к действиям в случае необходимости. Настоятельно призывается к регулярному обновлению знаний и навыков в области гражданской обороны.\n'
        }
      ]
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite',
    context: 'Initial vector store.'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-08T14:40:24.415Z'
}
{
  hasMessages: true,
  hasArtifact: true,
  actionType: 'rag_rewrite',
  level: 'info',
  message: 'Starting RAG retrieval process',
  timestamp: '2025-02-08T14:40:24.428Z'
}
{
  messageType: 'ai',
  queryLength: 180,
  queryPreview: 'Представляю вашему вниманию заключение по инструктажу по гражданской обороне. Пожалуйста, ознакомьте...',
  level: 'info',
  message: 'Using last message as query',
  timestamp: '2025-02-08T14:40:24.429Z'
}
{
  queryLength: 180,
  queryType: 'artifact_content',
  level: 'info',
  message: 'Processing RAG retrieval query',
  timestamp: '2025-02-08T14:40:24.429Z'
}
{
  query: 'Представляю вашему вниманию заключение по инструктажу по гражданской обороне. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуется внести изменения или дополнения.',
  k: 3,
  queryLength: 180,
  queryPreview: 'Представляю вашему вниманию заключение по инструктажу по гражданской обороне. Пожалуйста, ознакомьте...',
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T14:40:24.430Z'
}
{
  resultsFound: 1,
  resultSources: [ 'unknown' ],
  resultPreviews: [ { source: 'unknown', contentPreview: 'Initial vector store....' } ],
  level: 'info',
  message: 'Vector search completed successfully',
  timestamp: '2025-02-08T14:40:25.314Z'
}
{
  source: 'unknown',
  length: 21,
  content: 'Initial vector store.',
  level: 'info',
  message: 'Retrieved document 1',
  timestamp: '2025-02-08T14:40:25.315Z'
}
{
  totalContextLength: 21,
  documentsUsed: 1,
  retrievedContentSummary: 'Initial vector store.',
  level: 'info',
  message: 'RAG retrieval completed successfully',
  timestamp: '2025-02-08T14:40:25.315Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-08T14:41:42.109Z'
}
{
  message: 'Initializing vector store',
  level: 'info',
  timestamp: '2025-02-08T14:41:42.112Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T14:41:42.113Z'
}
{
  fileCount: 1,
  files: [ { name: 'document1.md', extension: '.md' } ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-08T14:41:42.117Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T14:41:42.119Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T14:41:42.121Z'
}
{
  documentCount: 13,
  documentSources: [
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md'
  ],
  documentContents: [
    'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
      '\r\n' +
      'Вводный инструктаж по гражд...',
    'Оглавление:\r\n' +
      '\r\n' +
      '1. Кто проводит вводный инструктаж\r\n' +
      '2. С кем нужно проводить вводный инструктаж\r\n' +
      '3. К...',
    '- руководитель занятий по ГО.\r\n' +
      '\r\n' +
      'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...',
    'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...',
    '- наличие опасных производственных факторов в организации;\r\n' +
      '- место ее расположения;\r\n' +
      '- вероятность ...',
    'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...',
    'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...',
    '5. Риски в случае непроведения вводного инструктажа\r\n' +
      '   За невыполнение обязанности провести вводный...',
    'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...',
    'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...',
    'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...',
    'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...',
    'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
  ],
  level: 'info',
  message: 'Adding documents to vector store',
  timestamp: '2025-02-08T14:41:42.124Z'
}
{
  previousDocumentCount: 0,
  newDocumentCount: 13,
  addedDocuments: 13,
  totalDocuments: 13,
  level: 'info',
  message: 'Documents added to vector store successfully',
  timestamp: '2025-02-08T14:41:43.817Z'
}
{
  chunksCreated: 13,
  fileName: 'document1.md',
  level: 'info',
  message: 'Added document to vector store: document1.md',
  timestamp: '2025-02-08T14:41:43.817Z'
}
{
  totalFiles: 1,
  totalDocumentsProcessed: 1,
  totalChunksCreated: 13,
  level: 'info',
  message: 'Document loading process completed',
  timestamp: '2025-02-08T14:41:43.818Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T14:43:08.319Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-08T14:43:10.264Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Подготовь заключение по инструктажу по гражданской обороне',
          additional_kwargs: {},
          response_metadata: {},
          id: '514ace3a-1f6e-4aee-8ba7-276c6fd208c1'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Подготовь заключение по инструктажу по гражданской обороне',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: '514ace3a-1f6e-4aee-8ba7-276c6fd208c1'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-08T14:43:10.269Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-08T14:43:21.503Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-08T14:43:21.503Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T14:43:57.060Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-08T14:43:57.061Z'
}
{
  currentState: {
    messages: [],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Заключение по инструктажу',
          fullMarkdown: '**Заключение по инструктажу по гражданской обороне**\n' +
            '\n' +
            '**1. Общая информация**\\\n' +
            'Инструктаж по гражданской обороне проводился с целью ознакомления сотрудников с основными правилами и действиями в условиях чрезвычайных ситуаций, а также с порядком организации защиты населения и территорий.\n' +
            '\n' +
            '**2. Цели и задачи инструктажа**\n' +
            '\n' +
            '*   Повышение уровня осведомленности сотрудников о рисках и угрозах, связанных с чрезвычайными ситуациями.\n' +
            '*   Обучение основным действиям при возникновении угрозы.\n' +
            '*   Ознакомление с планом эвакуации и местами сбора.\n' +
            '*   Подготовка к действиям в условиях радиационных, химических и биологических угроз.\n' +
            '\n' +
            '**3. Содержание инструктажа**\\\n' +
            'Инструктаж включал в себя следующие темы:\n' +
            '\n' +
            '*   Основные понятия гражданской обороны.\n' +
            '*   Правила поведения в чрезвычайных ситуациях.\n' +
            '*   Использование средств индивидуальной защиты.\n' +
            '*   Организация медицинской помощи и первая помощь.\n' +
            '*   Эвакуация и порядок действий в случае угрозы.\n' +
            '\n' +
            '**4. Итоги и рекомендации**\\\n' +
            'По итогам проведенного инструктажа все участники продемонстрировали достаточный уровень понимания и готовности к действиям в чрезвычайных ситуациях. Рекомендуется:\n' +
            '\n' +
            '*   Регулярно проводить повторные инструктажи для поддержания уровня подготовки сотрудников.\n' +
            '*   Обновлять информацию и материалы инструктажей в соответствии с изменениями в законодательстве и практике.\n' +
            '*   Установить контроль за выполнением рекомендаций и действий, предусмотренных инструктажом.\n' +
            '\n' +
            '**5. Заключение**\\\n' +
            'Инструктаж по гражданской обороне является важной частью подготовки сотрудников к действиям в условиях чрезвычайных ситуаций. Его регулярное проведение и обновление информации способствуют повышению уровня безопасности и готовности к возможным угрозам.\n' +
            '\n' +
            '**Дата проведения инструктажа:** [дата]\\\n' +
            '**Ответственный за проведение инструктажа:** [ФИО]\\\n' +
            '**Подписи участников:**\n' +
            '\n' +
            '1.\n' +
            '2.\n' +
            '3.\n'
        }
      ]
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-08T14:43:57.065Z'
}
{
  hasMessages: false,
  hasArtifact: true,
  actionType: 'rag_rewrite',
  level: 'info',
  message: 'Starting RAG retrieval process',
  timestamp: '2025-02-08T14:43:57.077Z'
}
{
  message: 'No message found, attempting to use artifact content for RAG rewrite',
  level: 'info',
  timestamp: '2025-02-08T14:43:57.078Z'
}
{
  contentType: 'markdown',
  queryLength: 1836,
  queryPreview: '**Заключение по инструктажу по гражданской обороне**\n' +
    '\n' +
    '**1. Общая информация**\\\n' +
    'Инструктаж по граждан...',
  level: 'info',
  message: 'Using artifact content as query',
  timestamp: '2025-02-08T14:43:57.078Z'
}
{
  queryLength: 1836,
  queryType: 'artifact_content',
  level: 'info',
  message: 'Processing RAG retrieval query',
  timestamp: '2025-02-08T14:43:57.079Z'
}
{
  query: '**Заключение по инструктажу по гражданской обороне**\n' +
    '\n' +
    '**1. Общая информация**\\\n' +
    'Инструктаж по гражданской обороне проводился с целью ознакомления сотрудников с основными правилами и действиями в условиях чрезвычайных ситуаций, а также с порядком организации защиты населения и территорий.\n' +
    '\n' +
    '**2. Цели и задачи инструктажа**\n' +
    '\n' +
    '*   Повышение уровня осведомленности сотрудников о рисках и угрозах, связанных с чрезвычайными ситуациями.\n' +
    '*   Обучение основным действиям при возникновении угрозы.\n' +
    '*   Ознакомление с планом эвакуации и местами сбора.\n' +
    '*   Подготовка к действиям в условиях радиационных, химических и биологических угроз.\n' +
    '\n' +
    '**3. Содержание инструктажа**\\\n' +
    'Инструктаж включал в себя следующие темы:\n' +
    '\n' +
    '*   Основные понятия гражданской обороны.\n' +
    '*   Правила поведения в чрезвычайных ситуациях.\n' +
    '*   Использование средств индивидуальной защиты.\n' +
    '*   Организация медицинской помощи и первая помощь.\n' +
    '*   Эвакуация и порядок действий в случае угрозы.\n' +
    '\n' +
    '**4. Итоги и рекомендации**\\\n' +
    'По итогам проведенного инструктажа все участники продемонстрировали достаточный уровень понимания и готовности к действиям в чрезвычайных ситуациях. Рекомендуется:\n' +
    '\n' +
    '*   Регулярно проводить повторные инструктажи для поддержания уровня подготовки сотрудников.\n' +
    '*   Обновлять информацию и материалы инструктажей в соответствии с изменениями в законодательстве и практике.\n' +
    '*   Установить контроль за выполнением рекомендаций и действий, предусмотренных инструктажом.\n' +
    '\n' +
    '**5. Заключение**\\\n' +
    'Инструктаж по гражданской обороне является важной частью подготовки сотрудников к действиям в условиях чрезвычайных ситуаций. Его регулярное проведение и обновление информации способствуют повышению уровня безопасности и готовности к возможным угрозам.\n' +
    '\n' +
    '**Дата проведения инструктажа:** [дата]\\\n' +
    '**Ответственный за проведение инструктажа:** [ФИО]\\\n' +
    '**Подписи участников:**\n' +
    '\n' +
    '1.\n' +
    '2.\n' +
    '3.\n',
  k: 3,
  queryLength: 1836,
  queryPreview: '**Заключение по инструктажу по гражданской обороне**\n' +
    '\n' +
    '**1. Общая информация**\\\n' +
    'Инструктаж по граждан...',
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T14:43:57.080Z'
}
{
  message: 'Initializing vector store',
  level: 'info',
  timestamp: '2025-02-08T14:43:57.082Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T14:43:57.083Z'
}
{
  resultsFound: 0,
  resultSources: [],
  resultPreviews: [],
  level: 'info',
  message: 'Vector search completed successfully',
  timestamp: '2025-02-08T14:43:57.954Z'
}
{
  totalContextLength: 0,
  documentsUsed: 0,
  retrievedContentSummary: '',
  level: 'info',
  message: 'RAG retrieval completed successfully',
  timestamp: '2025-02-08T14:43:57.954Z'
}
{
  message: 'Checking if title generation is needed. Message count: 1',
  level: 'info',
  timestamp: '2025-02-08T14:44:11.921Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-08T14:44:11.921Z'
}
{
  message: 'Starting RAG system test',
  level: 'info',
  timestamp: '2025-02-08T14:49:17.946Z'
}
{
  message: 'Step 1: Initializing RAG system',
  level: 'info',
  timestamp: '2025-02-08T14:49:17.950Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 1,
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-08T14:49:17.951Z'
}
{
  message: 'Initializing vector store',
  level: 'info',
  timestamp: '2025-02-08T14:49:17.951Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T14:49:17.952Z'
}
{
  fileCount: 1,
  files: [ { name: 'document1.md', extension: '.md' } ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-08T14:49:17.956Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T14:49:17.961Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkSizes: [
    973, 901, 971, 937,
    972, 861, 915, 775,
    903, 648, 580, 875,
    274
  ],
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T14:49:17.963Z'
}
{
  documentCount: 13,
  documentSources: [
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md'
  ],
  documentPreviews: [
    {
      source: 'document1.md',
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      source: 'document1.md',
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      source: 'document1.md',
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      source: 'document1.md',
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      source: 'document1.md',
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      source: 'document1.md',
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      source: 'document1.md',
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      source: 'document1.md',
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      source: 'document1.md',
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      source: 'document1.md',
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      source: 'document1.md',
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      source: 'document1.md',
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      source: 'document1.md',
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Adding documents to vector store',
  timestamp: '2025-02-08T14:49:17.966Z'
}
{
  previousDocumentCount: 0,
  newDocumentCount: 13,
  addedDocuments: 13,
  level: 'info',
  message: 'Documents added to vector store successfully',
  timestamp: '2025-02-08T14:49:19.529Z'
}
{
  chunksCreated: 13,
  fileName: 'document1.md',
  level: 'info',
  message: 'Added document to vector store: document1.md',
  timestamp: '2025-02-08T14:49:19.529Z'
}
{
  totalFiles: 1,
  totalDocumentsProcessed: 1,
  totalChunksCreated: 13,
  failedFiles: [],
  vectorStoreStatus: { isInitialized: true, documentCount: 13 },
  level: 'info',
  message: 'Document loading process completed',
  timestamp: '2025-02-08T14:49:19.530Z'
}
{
  message: 'Step 2: Testing vector search with sample queries',
  level: 'info',
  timestamp: '2025-02-08T14:49:19.530Z'
}
{
  message: 'Testing search with query: "гражданская оборона"',
  level: 'info',
  timestamp: '2025-02-08T14:49:19.531Z'
}
{
  queryLength: 19,
  queryPreview: 'гражданская оборона...',
  k: 2,
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T14:49:19.531Z'
}
{
  resultsFound: 2,
  resultSources: [ 'document1.md', 'document1.md' ],
  resultPreviews: [
    {
      source: 'document1.md',
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      source: 'document1.md',
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    }
  ],
  level: 'info',
  message: 'Vector search completed successfully',
  timestamp: '2025-02-08T14:49:20.384Z'
}
{
  query: 'гражданская оборона',
  resultCount: 2,
  results: [
    {
      source: 'document1.md',
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      source: 'document1.md',
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    }
  ],
  level: 'info',
  message: 'Search results found',
  timestamp: '2025-02-08T14:49:20.385Z'
}
{
  message: 'Testing search with query: "инструктаж"',
  level: 'info',
  timestamp: '2025-02-08T14:49:20.386Z'
}
{
  queryLength: 10,
  queryPreview: 'инструктаж...',
  k: 2,
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T14:49:20.386Z'
}
{
  resultsFound: 2,
  resultSources: [ 'document1.md', 'document1.md' ],
  resultPreviews: [
    {
      source: 'document1.md',
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      source: 'document1.md',
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Vector search completed successfully',
  timestamp: '2025-02-08T14:49:20.779Z'
}
{
  query: 'инструктаж',
  resultCount: 2,
  results: [
    {
      source: 'document1.md',
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      source: 'document1.md',
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Search results found',
  timestamp: '2025-02-08T14:49:20.780Z'
}
{
  message: 'Testing search with query: "эвакуация"',
  level: 'info',
  timestamp: '2025-02-08T14:49:20.780Z'
}
{
  queryLength: 9,
  queryPreview: 'эвакуация...',
  k: 2,
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T14:49:20.780Z'
}
{
  resultsFound: 2,
  resultSources: [ 'document1.md', 'document1.md' ],
  resultPreviews: [
    {
      source: 'document1.md',
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      source: 'document1.md',
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    }
  ],
  level: 'info',
  message: 'Vector search completed successfully',
  timestamp: '2025-02-08T14:49:21.416Z'
}
{
  query: 'эвакуация',
  resultCount: 2,
  results: [
    {
      source: 'document1.md',
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      source: 'document1.md',
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    }
  ],
  level: 'info',
  message: 'Search results found',
  timestamp: '2025-02-08T14:49:21.416Z'
}
{
  message: 'Testing search with query: "чрезвычайная ситуация"',
  level: 'info',
  timestamp: '2025-02-08T14:49:21.417Z'
}
{
  queryLength: 21,
  queryPreview: 'чрезвычайная ситуация...',
  k: 2,
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T14:49:21.417Z'
}
{
  resultsFound: 2,
  resultSources: [ 'document1.md', 'document1.md' ],
  resultPreviews: [
    {
      source: 'document1.md',
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      source: 'document1.md',
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    }
  ],
  level: 'info',
  message: 'Vector search completed successfully',
  timestamp: '2025-02-08T14:49:21.911Z'
}
{
  query: 'чрезвычайная ситуация',
  resultCount: 2,
  results: [
    {
      source: 'document1.md',
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      source: 'document1.md',
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    }
  ],
  level: 'info',
  message: 'Search results found',
  timestamp: '2025-02-08T14:49:21.912Z'
}
{
  message: 'RAG system test completed successfully',
  level: 'info',
  timestamp: '2025-02-08T14:49:21.912Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  cwd: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas',
  level: 'info',
  message: 'Starting document loading script',
  timestamp: '2025-02-08T14:54:12.916Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 1,
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-08T14:54:12.919Z'
}
{
  message: 'Initializing vector store',
  level: 'info',
  timestamp: '2025-02-08T14:54:12.921Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T14:54:12.922Z'
}
{
  fileCount: 1,
  files: [ { name: 'document1.md', extension: '.md' } ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-08T14:54:12.926Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T14:54:12.929Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkSizes: [
    973, 901, 971, 937,
    972, 861, 915, 775,
    903, 648, 580, 875,
    274
  ],
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T14:54:12.932Z'
}
{
  documentCount: 13,
  documentSources: [
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md'
  ],
  documentPreviews: [
    {
      source: 'document1.md',
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      source: 'document1.md',
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      source: 'document1.md',
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      source: 'document1.md',
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      source: 'document1.md',
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      source: 'document1.md',
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      source: 'document1.md',
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      source: 'document1.md',
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      source: 'document1.md',
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      source: 'document1.md',
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      source: 'document1.md',
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      source: 'document1.md',
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      source: 'document1.md',
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Adding documents to vector store',
  timestamp: '2025-02-08T14:54:12.934Z'
}
{
  previousDocumentCount: 0,
  newDocumentCount: 13,
  addedDocuments: 13,
  level: 'info',
  message: 'Documents added to vector store successfully',
  timestamp: '2025-02-08T14:54:14.948Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T14:55:17.552Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-08T14:55:19.522Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь заключение по инструктажу по гражданской обороне',
          additional_kwargs: {},
          response_metadata: {},
          id: 'ef98a279-a57b-43e1-b356-ae3db891ba2a'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь заключение по инструктажу по гражданской обороне',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: 'ef98a279-a57b-43e1-b356-ae3db891ba2a'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-08T14:55:19.527Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-08T14:55:28.301Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-08T14:55:28.302Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T14:55:58.035Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-08T14:55:58.036Z'
}
{
  currentState: {
    messages: [],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Заключение по инструктажу',
          fullMarkdown: 'Заключение по инструктажу по гражданской обороне\n' +
            '\n' +
            'В соответствии с требованиями законодательства Российской Федерации и внутренними нормативными актами, проведен инструктаж по гражданской обороне для работников организации. В ходе инструктажа были рассмотрены ключевые аспекты, касающиеся правил поведения в условиях чрезвычайных ситуаций, а также основные меры по обеспечению безопасности и защиты жизни и здоровья граждан.\n' +
            '\n' +
            'Все участники инструктажа ознакомлены с:\n' +
            '\n' +
            '1.  Основными понятиями и терминами в области гражданской обороны;\n' +
            '2.  Правилами поведения при возникновении различных чрезвычайных ситуаций (пожары, наводнения, техногенные катастрофы);\n' +
            '3.  Способами оповещения и эвакуации;\n' +
            '4.  Действиями в случае обнаружения подозрительных предметов;\n' +
            '5.  Правилами оказания первой помощи.\n' +
            '\n' +
            'По итогам инструктажа проведено тестирование, результаты которого показали достаточный уровень усвоения материала. Все участники получили разъяснения по возникшим вопросам.\n' +
            '\n' +
            'Рекомендуется периодически повторять инструктажи и обновлять знания работников в области гражданской обороны, а также проводить практические тренировки для закрепления навыков.\n' +
            '\n' +
            'Дата проведения инструктажа: [дата]\n' +
            '\n' +
            'Ответственное лицо: [ФИО, должность]\n' +
            '\n' +
            'Подпись: _______________\n' +
            '\n' +
            'М.П.\n'
        }
      ]
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-08T14:55:58.043Z'
}
{
  hasMessages: false,
  hasArtifact: true,
  actionType: 'rag_rewrite',
  level: 'info',
  message: 'Starting RAG retrieval process',
  timestamp: '2025-02-08T14:55:58.055Z'
}
{
  message: 'No message found, attempting to use artifact content for RAG rewrite',
  level: 'info',
  timestamp: '2025-02-08T14:55:58.056Z'
}
{
  contentType: 'markdown',
  queryLength: 1252,
  queryPreview: 'Заключение по инструктажу по гражданской обороне\n' +
    '\n' +
    'В соответствии с требованиями законодательства Рос...',
  level: 'info',
  message: 'Using artifact content as query',
  timestamp: '2025-02-08T14:55:58.056Z'
}
{
  queryLength: 1252,
  queryType: 'artifact_content',
  level: 'info',
  message: 'Processing RAG retrieval query',
  timestamp: '2025-02-08T14:55:58.057Z'
}
{
  queryLength: 1252,
  queryPreview: 'Заключение по инструктажу по гражданской обороне\n' +
    '\n' +
    'В соответствии с требованиями законодательства Рос...',
  k: 3,
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T14:55:58.059Z'
}
{
  message: 'Vector store not initialized for search, initializing now',
  level: 'warn',
  timestamp: '2025-02-08T14:55:58.059Z'
}
{
  message: 'Initializing vector store',
  level: 'info',
  timestamp: '2025-02-08T14:55:58.060Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T14:55:58.061Z'
}
{
  message: 'Vector store is empty, no documents to search',
  level: 'warn',
  timestamp: '2025-02-08T14:55:58.061Z'
}
{
  query: 'Заключение по инструктажу по гражданской обороне\n' +
    '\n' +
    'В соответствии с требованиями законодательства Рос...',
  level: 'warn',
  message: 'No relevant documents found in vector search',
  timestamp: '2025-02-08T14:55:58.061Z'
}
{
  message: 'Checking if title generation is needed. Message count: 1',
  level: 'info',
  timestamp: '2025-02-08T14:56:10.627Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-08T14:56:10.628Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  cwd: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas',
  level: 'info',
  message: 'Starting document loading script',
  timestamp: '2025-02-08T15:25:56.833Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 1,
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-08T15:25:56.836Z'
}
{
  collection: 'legal-documents',
  persistDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\.chroma',
  level: 'info',
  message: 'Initializing vector store',
  timestamp: '2025-02-08T15:25:56.837Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T15:25:56.838Z'
}
{
  fileCount: 1,
  files: [ { name: 'document1.md', extension: '.md' } ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-08T15:25:56.843Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T15:25:56.847Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkSizes: [
    973, 901, 971, 937,
    972, 861, 915, 775,
    903, 648, 580, 875,
    274
  ],
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T15:25:56.850Z'
}
{
  documentCount: 13,
  documentSources: [
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md'
  ],
  documentPreviews: [
    {
      source: 'document1.md',
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      source: 'document1.md',
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      source: 'document1.md',
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      source: 'document1.md',
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      source: 'document1.md',
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      source: 'document1.md',
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      source: 'document1.md',
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      source: 'document1.md',
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      source: 'document1.md',
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      source: 'document1.md',
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      source: 'document1.md',
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      source: 'document1.md',
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      source: 'document1.md',
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Adding documents to vector store',
  timestamp: '2025-02-08T15:25:56.852Z'
}
{
  previousDocumentCount: 0,
  newDocumentCount: 13,
  addedDocuments: 13,
  level: 'info',
  message: 'Documents added to vector store successfully',
  timestamp: '2025-02-08T15:25:59.164Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T15:27:01.446Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-08T15:27:03.510Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь заключение по инструктажу по гражданской обороне',
          additional_kwargs: {},
          response_metadata: {},
          id: '22a2f772-b0d3-47c0-b347-5e142282d664'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь заключение по инструктажу по гражданской обороне',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: '22a2f772-b0d3-47c0-b347-5e142282d664'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-08T15:27:03.517Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-08T15:27:10.608Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-08T15:27:10.608Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T15:27:37.654Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-08T15:27:37.654Z'
}
{
  currentState: {
    messages: [],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Заключение по инструктажу',
          fullMarkdown: 'В соответствии с проведенным инструктажом по гражданской обороне, участники ознакомлены с основными принципами и правилами поведения в условиях чрезвычайных ситуаций. Инструктаж охватывает следующие ключевые аспекты:\n' +
            '\n' +
            '1.  **Определение гражданской обороны**: объяснены цели и задачи гражданской обороны, а также роль каждого гражданина в обеспечении безопасности.\n' +
            '2.  **Основные угрозы**: рассмотрены возможные виды угроз, включая природные катастрофы, техногенные аварии и военные конфликты.\n' +
            '3.  **Порядок действий**: участникам даны рекомендации по действиям в случае возникновения чрезвычайной ситуации, включая эвакуацию, использование средств индивидуальной защиты и оказание первой помощи.\n' +
            '4.  **Обязанности граждан**: подчеркнута важность соблюдения установленных правил и инструкций, а также необходимость участия в учениях и тренировках.\n' +
            '\n' +
            'Все участники прошли тестирование на усвоение материала, результаты которого показали высокий уровень понимания тематики. Рекомендуется периодически проводить повторные инструктажи для поддержания актуальности знаний.\n' +
            '\n' +
            'Заключение составлено для внутреннего использования и может быть предоставлено по запросу уполномоченных органов.\n'
        }
      ]
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-08T15:27:37.658Z'
}
{
  hasMessages: false,
  hasArtifact: true,
  actionType: 'rag_rewrite',
  level: 'info',
  message: 'Starting RAG retrieval process',
  timestamp: '2025-02-08T15:27:37.666Z'
}
{
  message: 'No message found, attempting to use artifact content for RAG rewrite',
  level: 'info',
  timestamp: '2025-02-08T15:27:37.667Z'
}
{
  contentType: 'markdown',
  queryLength: 1181,
  queryPreview: 'В соответствии с проведенным инструктажом по гражданской обороне, участники ознакомлены с основными ...',
  level: 'info',
  message: 'Using artifact content as query',
  timestamp: '2025-02-08T15:27:37.667Z'
}
{
  queryLength: 1181,
  queryType: 'artifact_content',
  level: 'info',
  message: 'Processing RAG retrieval query',
  timestamp: '2025-02-08T15:27:37.667Z'
}
{
  queryLength: 1181,
  queryPreview: 'В соответствии с проведенным инструктажом по гражданской обороне, участники ознакомлены с основными ...',
  k: 3,
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T15:27:37.668Z'
}
{
  collection: 'legal-documents',
  persistDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\.chroma',
  level: 'info',
  message: 'Initializing vector store',
  timestamp: '2025-02-08T15:27:37.668Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T15:27:37.670Z'
}
{
  message: 'Vector store is empty, no documents to search',
  level: 'warn',
  timestamp: '2025-02-08T15:27:37.670Z'
}
{
  query: 'В соответствии с проведенным инструктажом по гражданской обороне, участники ознакомлены с основными ...',
  level: 'warn',
  message: 'No relevant documents found in vector search',
  timestamp: '2025-02-08T15:27:37.670Z'
}
{
  message: 'Checking if title generation is needed. Message count: 1',
  level: 'info',
  timestamp: '2025-02-08T15:27:45.696Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-08T15:27:45.696Z'
}
{
  message: 'Starting RAG system test',
  level: 'info',
  timestamp: '2025-02-08T15:31:06.633Z'
}
{
  message: 'Step 1: Initializing RAG system',
  level: 'info',
  timestamp: '2025-02-08T15:31:06.636Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 1,
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-08T15:31:06.637Z'
}
{
  collection: 'legal-documents',
  persistDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\.chroma',
  level: 'info',
  message: 'Initializing vector store',
  timestamp: '2025-02-08T15:31:06.637Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T15:31:06.639Z'
}
{
  fileCount: 1,
  files: [ { name: 'document1.md', extension: '.md' } ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-08T15:31:06.643Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T15:31:06.646Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkSizes: [
    973, 901, 971, 937,
    972, 861, 915, 775,
    903, 648, 580, 875,
    274
  ],
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T15:31:06.648Z'
}
{
  documentCount: 13,
  documentSources: [
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md'
  ],
  documentPreviews: [
    {
      source: 'document1.md',
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      source: 'document1.md',
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      source: 'document1.md',
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      source: 'document1.md',
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      source: 'document1.md',
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      source: 'document1.md',
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      source: 'document1.md',
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      source: 'document1.md',
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      source: 'document1.md',
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      source: 'document1.md',
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      source: 'document1.md',
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      source: 'document1.md',
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      source: 'document1.md',
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Adding documents to vector store',
  timestamp: '2025-02-08T15:31:06.650Z'
}
{
  previousDocumentCount: 0,
  newDocumentCount: 26,
  addedDocuments: 26,
  level: 'info',
  message: 'Documents added to vector store successfully',
  timestamp: '2025-02-08T15:31:08.717Z'
}
{
  chunksCreated: 13,
  fileName: 'document1.md',
  level: 'info',
  message: 'Added document to vector store: document1.md',
  timestamp: '2025-02-08T15:31:08.718Z'
}
{
  totalFiles: 1,
  totalDocumentsProcessed: 1,
  totalChunksCreated: 13,
  failedFiles: [],
  vectorStoreStatus: Promise { <pending> },
  level: 'info',
  message: 'Document loading process completed',
  timestamp: '2025-02-08T15:31:08.718Z'
}
{
  message: 'Step 2: Testing vector search with sample queries',
  level: 'info',
  timestamp: '2025-02-08T15:31:08.719Z'
}
{
  message: 'Testing search with query: "гражданская оборона"',
  level: 'info',
  timestamp: '2025-02-08T15:31:08.719Z'
}
{
  queryLength: 19,
  queryPreview: 'гражданская оборона...',
  k: 2,
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T15:31:08.720Z'
}
{
  resultsFound: 2,
  resultSources: [ 'document1.md', 'document1.md' ],
  resultPreviews: [
    {
      source: 'document1.md',
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражданской обороне обязаны проводить все организации, имеющие работников.\r\n' +
        'Такой инструктаж проводится с...'
    },
    {
      source: 'document1.md',
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражданской обороне обязаны проводить все организации, имеющие работников.\r\n' +
        'Такой инструктаж проводится с...'
    }
  ],
  level: 'info',
  message: 'Vector search completed successfully',
  timestamp: '2025-02-08T15:31:09.287Z'
}
{
  query: 'гражданская оборона',
  resultCount: 2,
  results: [
    {
      source: 'document1.md',
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      source: 'document1.md',
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    }
  ],
  level: 'info',
  message: 'Search results found',
  timestamp: '2025-02-08T15:31:09.287Z'
}
{
  message: 'Testing search with query: "инструктаж"',
  level: 'info',
  timestamp: '2025-02-08T15:31:09.288Z'
}
{
  queryLength: 10,
  queryPreview: 'инструктаж...',
  k: 2,
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T15:31:09.288Z'
}
{
  resultsFound: 2,
  resultSources: [ 'document1.md', 'document1.md' ],
  resultPreviews: [
    {
      source: 'document1.md',
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка реализации вводного инструктажа по ГО). В приказе (распоряжении) обязательно укажите, какие программы ...'
    },
    {
      source: 'document1.md',
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка реализации вводного инструктажа по ГО). В приказе (распоряжении) обязательно укажите, какие программы ...'
    }
  ],
  level: 'info',
  message: 'Vector search completed successfully',
  timestamp: '2025-02-08T15:31:09.919Z'
}
{
  query: 'инструктаж',
  resultCount: 2,
  results: [
    {
      source: 'document1.md',
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      source: 'document1.md',
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    }
  ],
  level: 'info',
  message: 'Search results found',
  timestamp: '2025-02-08T15:31:09.920Z'
}
{
  message: 'Testing search with query: "эвакуация"',
  level: 'info',
  timestamp: '2025-02-08T15:31:09.920Z'
}
{
  queryLength: 9,
  queryPreview: 'эвакуация...',
  k: 2,
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T15:31:09.921Z'
}
{
  resultsFound: 2,
  resultSources: [ 'document1.md', 'document1.md' ],
  resultPreviews: [
    {
      source: 'document1.md',
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность радиационного загрязнения, химического заражения зоны, где находится организация;\r\n' +
        '- отнесение орган...'
    },
    {
      source: 'document1.md',
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность радиационного загрязнения, химического заражения зоны, где находится организация;\r\n' +
        '- отнесение орган...'
    }
  ],
  level: 'info',
  message: 'Vector search completed successfully',
  timestamp: '2025-02-08T15:31:10.485Z'
}
{
  query: 'эвакуация',
  resultCount: 2,
  results: [
    {
      source: 'document1.md',
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      source: 'document1.md',
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    }
  ],
  level: 'info',
  message: 'Search results found',
  timestamp: '2025-02-08T15:31:10.486Z'
}
{
  message: 'Testing search with query: "чрезвычайная ситуация"',
  level: 'info',
  timestamp: '2025-02-08T15:31:10.486Z'
}
{
  queryLength: 21,
  queryPreview: 'чрезвычайная ситуация...',
  k: 2,
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T15:31:10.487Z'
}
{
  resultsFound: 2,
  resultSources: [ 'document1.md', 'document1.md' ],
  resultPreviews: [
    {
      source: 'document1.md',
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный инструктаж по гражданской обороне работодателю грозит штраф в следующем размере (ч. 2 ст. 20.7 КоАП...'
    },
    {
      source: 'document1.md',
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный инструктаж по гражданской обороне работодателю грозит штраф в следующем размере (ч. 2 ст. 20.7 КоАП...'
    }
  ],
  level: 'info',
  message: 'Vector search completed successfully',
  timestamp: '2025-02-08T15:31:10.998Z'
}
{
  query: 'чрезвычайная ситуация',
  resultCount: 2,
  results: [
    {
      source: 'document1.md',
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      source: 'document1.md',
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    }
  ],
  level: 'info',
  message: 'Search results found',
  timestamp: '2025-02-08T15:31:10.999Z'
}
{
  message: 'RAG system test completed successfully',
  level: 'info',
  timestamp: '2025-02-08T15:31:10.999Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  cwd: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas',
  level: 'info',
  message: 'Starting document loading script',
  timestamp: '2025-02-08T15:33:00.435Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 1,
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-08T15:33:00.438Z'
}
{
  collection: 'legal-documents',
  persistDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\.chroma',
  level: 'info',
  message: 'Initializing vector store',
  timestamp: '2025-02-08T15:33:00.439Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T15:33:00.441Z'
}
{
  fileCount: 1,
  files: [ { name: 'document1.md', extension: '.md' } ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-08T15:33:00.444Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T15:33:00.447Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkSizes: [
    973, 901, 971, 937,
    972, 861, 915, 775,
    903, 648, 580, 875,
    274
  ],
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T15:33:00.450Z'
}
{
  documentCount: 13,
  documentSources: [
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md'
  ],
  documentPreviews: [
    {
      source: 'document1.md',
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      source: 'document1.md',
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      source: 'document1.md',
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      source: 'document1.md',
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      source: 'document1.md',
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      source: 'document1.md',
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      source: 'document1.md',
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      source: 'document1.md',
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      source: 'document1.md',
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      source: 'document1.md',
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      source: 'document1.md',
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      source: 'document1.md',
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      source: 'document1.md',
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Adding documents to vector store',
  timestamp: '2025-02-08T15:33:00.452Z'
}
{
  previousDocumentCount: 0,
  newDocumentCount: 39,
  addedDocuments: 39,
  level: 'info',
  message: 'Documents added to vector store successfully',
  timestamp: '2025-02-08T15:33:02.284Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T15:36:58.553Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-08T15:37:01.280Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь заключение по инструктажу по гражданской оборорне',
          additional_kwargs: {},
          response_metadata: {},
          id: '9d5c2736-163a-43c4-bedf-52aaf566e0c5'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь заключение по инструктажу по гражданской оборорне',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: '9d5c2736-163a-43c4-bedf-52aaf566e0c5'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-08T15:37:01.287Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-08T15:37:09.369Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-08T15:37:09.369Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T15:37:44.710Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-08T15:37:44.711Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь заключение по инструктажу по гражданской оборорне',
          additional_kwargs: {},
          response_metadata: {},
          id: '9d5c2736-163a-43c4-bedf-52aaf566e0c5'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь заключение по инструктажу по гражданской оборорне',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: '9d5c2736-163a-43c4-bedf-52aaf566e0c5'
      },
      AIMessageChunk {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Представляю вам заключение по инструктажу по гражданской обороне, подготовленное в соответствии с вашими указаниями. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуются какие-либо изменения или дополнения.',
          additional_kwargs: {},
          response_metadata: {
            usage: {
              prompt_tokens: 729,
              completion_tokens: 55,
              total_tokens: 784,
              prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
              completion_tokens_details: {
                reasoning_tokens: 0,
                audio_tokens: 0,
                accepted_prediction_tokens: 0,
                rejected_prediction_tokens: 0
              }
            }
          },
          tool_call_chunks: [],
          id: 'chatcmpl-AyhBEToBKs9KdKt0jaRBELjPsqISE',
          tool_calls: [],
          invalid_tool_calls: [],
          usage_metadata: undefined
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Представляю вам заключение по инструктажу по гражданской обороне, подготовленное в соответствии с вашими указаниями. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуются какие-либо изменения или дополнения.',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {
          usage: {
            prompt_tokens: 729,
            completion_tokens: 55,
            total_tokens: 784,
            prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
            completion_tokens_details: {
              reasoning_tokens: 0,
              audio_tokens: 0,
              accepted_prediction_tokens: 0,
              rejected_prediction_tokens: 0
            }
          }
        },
        id: 'chatcmpl-AyhBEToBKs9KdKt0jaRBELjPsqISE',
        tool_calls: [],
        invalid_tool_calls: [],
        tool_call_chunks: [],
        usage_metadata: undefined
      }
    ],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Заключение инструктажа ГО',
          fullMarkdown: '**Заключение по инструктажу по гражданской обороне**\n' +
            '\n' +
            'В соответствии с требованиями законодательства Российской Федерации и действующими нормативными актами, проведен инструктаж по гражданской обороне для сотрудников организации.\n' +
            '\n' +
            '**Дата проведения:** [дата]\\\n' +
            '**Место проведения:** [место]\\\n' +
            '**Участники:** [список участников]\n' +
            '\n' +
            'В ходе инструктажа были рассмотрены следующие ключевые темы:\n' +
            '\n' +
            '1.  Основные понятия и цели гражданской обороны.\n' +
            '2.  Обязанности сотрудников в области гражданской обороны.\n' +
            '3.  Правила поведения в чрезвычайных ситуациях.\n' +
            '4.  Порядок оповещения и эвакуации.\n' +
            '5.  Использование средств индивидуальной защиты.\n' +
            '\n' +
            'Участники инструктажа продемонстрировали понимание представленных материалов и готовы применять полученные знания на практике.\n' +
            '\n' +
            '**Рекомендации:**\n' +
            '\n' +
            '*   Регулярно обновлять знания сотрудников в области гражданской обороны.\n' +
            '*   Проводить практические тренировки по действиям в чрезвычайных ситуациях.\n' +
            '\n' +
            '**Ответственный за проведение инструктажа:** [Ф.И.О., должность]\\\n' +
            '**Подписи участников:**\\\n' +
            '[Подписи участников]\n' +
            '\n' +
            '**Дата составления заключения:** [дата]\n' +
            '\n' +
            '**[Название организации]**\n'
        }
      ]
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-08T15:37:44.716Z'
}
{
  hasMessages: true,
  hasArtifact: true,
  actionType: 'rag_rewrite',
  artifactContentLength: 1,
  messageCount: 2,
  level: 'info',
  message: 'Starting RAG retrieval process',
  timestamp: '2025-02-08T15:37:44.727Z'
}
{
  messageType: 'human',
  queryLength: 57,
  queryPreview: 'Составь заключение по инструктажу по гражданской оборорне',
  messageIndex: 0,
  totalMessages: 2,
  level: 'info',
  message: 'Using last human message as query',
  timestamp: '2025-02-08T15:37:44.728Z'
}
{
  queryLength: 57,
  queryType: 'artifact_content',
  queryPreview: 'Составь заключение по инструктажу по гражданской оборорне',
  level: 'info',
  message: 'Processing RAG retrieval query',
  timestamp: '2025-02-08T15:37:44.729Z'
}
{
  queryLength: 57,
  queryPreview: 'Составь заключение по инструктажу по гражданской оборорне...',
  k: 3,
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T15:37:44.730Z'
}
{
  collection: 'legal-documents',
  persistDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\.chroma',
  level: 'info',
  message: 'Initializing vector store',
  timestamp: '2025-02-08T15:37:44.730Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T15:37:44.731Z'
}
{
  message: 'Vector store is empty, no documents to search',
  level: 'warn',
  timestamp: '2025-02-08T15:37:44.731Z'
}
{
  query: 'Составь заключение по инструктажу по гражданской оборорне',
  actionType: 'rag_rewrite',
  level: 'warn',
  message: 'No relevant documents found in vector search',
  timestamp: '2025-02-08T15:37:44.732Z'
}
{
  message: 'Checking if title generation is needed. Message count: 3',
  level: 'info',
  timestamp: '2025-02-08T15:37:53.176Z'
}
{
  message: 'Starting RAG system test',
  level: 'info',
  timestamp: '2025-02-08T15:41:28.302Z'
}
{
  message: 'Step 1: Initializing RAG system',
  level: 'info',
  timestamp: '2025-02-08T15:41:28.305Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 1,
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-08T15:41:28.306Z'
}
{
  collection: 'legal-documents',
  persistDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\.chroma',
  level: 'info',
  message: 'Initializing vector store',
  timestamp: '2025-02-08T15:41:28.306Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T15:41:28.307Z'
}
{
  fileCount: 4,
  files: [
    { name: 'document1.md', extension: '.md' },
    { name: 'document2.md', extension: '.md' },
    { name: 'document3.md', extension: '.md' },
    { name: 'document4.md', extension: '.md' }
  ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-08T15:41:28.311Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T15:41:28.313Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkSizes: [
    973, 901, 971, 937,
    972, 861, 915, 775,
    903, 648, 580, 875,
    274
  ],
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T15:41:28.315Z'
}
{
  documentCount: 13,
  documentSources: [
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md'
  ],
  documentPreviews: [
    {
      source: 'document1.md',
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      source: 'document1.md',
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      source: 'document1.md',
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      source: 'document1.md',
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      source: 'document1.md',
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      source: 'document1.md',
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      source: 'document1.md',
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      source: 'document1.md',
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      source: 'document1.md',
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      source: 'document1.md',
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      source: 'document1.md',
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      source: 'document1.md',
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      source: 'document1.md',
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Adding documents to vector store',
  timestamp: '2025-02-08T15:41:28.318Z'
}
{
  previousDocumentCount: 0,
  newDocumentCount: 52,
  addedDocuments: 52,
  level: 'info',
  message: 'Documents added to vector store successfully',
  timestamp: '2025-02-08T15:41:32.387Z'
}
{
  chunksCreated: 13,
  fileName: 'document1.md',
  level: 'info',
  message: 'Added document to vector store: document1.md',
  timestamp: '2025-02-08T15:41:32.387Z'
}
{
  documentName: 'document2.md',
  contentLength: 8574,
  contentPreview: 'Как провести вводный инструктаж по охране труда\r\n' +
    '\r\n' +
    'Вводный инструктаж по охране труда обязаны провод...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T15:41:32.388Z'
}
{
  documentName: 'document2.md',
  chunksCreated: 11,
  chunkSizes: [
    957, 775, 868, 650,
    949, 681, 922, 878,
    954, 890, 938
  ],
  chunkPreviews: [
    {
      size: 957,
      preview: 'Как провести вводный инструктаж по охране труда\r\n' +
        '\r\n' +
        'Вводный инструктаж по охране труда обязаны провод...'
    },
    {
      size: 775,
      preview: '5. Каковы риски в случае непроведения вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '6. Кто проводит вводны...'
    },
    {
      size: 868,
      preview: 'Работники организации (ИП), проводящие инструктаж, должны пройти обучение требованиям охраны труда в...'
    },
    {
      size: 650,
      preview: '2.1. Каков срок проведения вводного инструктажа по охране труда\r\n' +
        'Вводный инструктаж по охране труда ...'
    },
    {
      size: 949,
      preview: 'Инструктаж по охране труда на рабочем месте (в том числе и первичный) проводится в объеме мероприяти...'
    },
    {
      size: 681,
      preview: 'Для проведения вводного инструктажа вам нужно (п. п. 9, 11, 69, 88 Правил обучения по охране труда):...'
    },
    {
      size: 922,
      preview: 'Вводный инструктаж завершается проверкой знания требований охраны труда. Это неотъемлемая часть пров...'
    },
    {
      size: 878,
      preview: 'В Приложении N 1 указаны следующие темы для программы вводного инструктажа по охране труда:\r\n' +
        '\r\n' +
        '- Све...'
    },
    {
      size: 954,
      preview: '- Действия работников при возникновении возможных аварийных ситуаций. Виды сигнализаций и звуковых о...'
    },
    {
      size: 890,
      preview: 'Обратите внимание, что положения о ведении электронного документооборота в сфере трудовых отношений ...'
    },
    {
      size: 938,
      preview: '- фамилию, имя, отчество (при наличии), профессию (должность) работника, проводившего инструктаж;\r\n' +
        '-...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T15:41:32.389Z'
}
{
  documentCount: 11,
  documentSources: [
    'document2.md',
    'document2.md',
    'document2.md',
    'document2.md',
    'document2.md',
    'document2.md',
    'document2.md',
    'document2.md',
    'document2.md',
    'document2.md',
    'document2.md'
  ],
  documentPreviews: [
    {
      source: 'document2.md',
      preview: 'Как провести вводный инструктаж по охране труда\r\n' +
        '\r\n' +
        'Вводный инструктаж по охране труда обязаны провод...'
    },
    {
      source: 'document2.md',
      preview: '5. Каковы риски в случае непроведения вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '6. Кто проводит вводны...'
    },
    {
      source: 'document2.md',
      preview: 'Работники организации (ИП), проводящие инструктаж, должны пройти обучение требованиям охраны труда в...'
    },
    {
      source: 'document2.md',
      preview: '2.1. Каков срок проведения вводного инструктажа по охране труда\r\n' +
        'Вводный инструктаж по охране труда ...'
    },
    {
      source: 'document2.md',
      preview: 'Инструктаж по охране труда на рабочем месте (в том числе и первичный) проводится в объеме мероприяти...'
    },
    {
      source: 'document2.md',
      preview: 'Для проведения вводного инструктажа вам нужно (п. п. 9, 11, 69, 88 Правил обучения по охране труда):...'
    },
    {
      source: 'document2.md',
      preview: 'Вводный инструктаж завершается проверкой знания требований охраны труда. Это неотъемлемая часть пров...'
    },
    {
      source: 'document2.md',
      preview: 'В Приложении N 1 указаны следующие темы для программы вводного инструктажа по охране труда:\r\n' +
        '\r\n' +
        '- Све...'
    },
    {
      source: 'document2.md',
      preview: '- Действия работников при возникновении возможных аварийных ситуаций. Виды сигнализаций и звуковых о...'
    },
    {
      source: 'document2.md',
      preview: 'Обратите внимание, что положения о ведении электронного документооборота в сфере трудовых отношений ...'
    },
    {
      source: 'document2.md',
      preview: '- фамилию, имя, отчество (при наличии), профессию (должность) работника, проводившего инструктаж;\r\n' +
        '-...'
    }
  ],
  level: 'info',
  message: 'Adding documents to vector store',
  timestamp: '2025-02-08T15:41:32.391Z'
}
{
  previousDocumentCount: 52,
  newDocumentCount: 63,
  addedDocuments: 11,
  level: 'info',
  message: 'Documents added to vector store successfully',
  timestamp: '2025-02-08T15:41:33.468Z'
}
{
  chunksCreated: 11,
  fileName: 'document2.md',
  level: 'info',
  message: 'Added document to vector store: document2.md',
  timestamp: '2025-02-08T15:41:33.469Z'
}
{
  documentName: 'document3.md',
  contentLength: 17193,
  contentPreview: 'Как проводятся противопожарные инструктажи\r\n' +
    '\r\n' +
    'Допускать к работе на объекте защиты сотрудников можно...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T15:41:33.470Z'
}
{
  documentName: 'document3.md',
  chunksCreated: 22,
  chunkSizes: [
    947, 917, 886, 854, 962,
    831, 909, 880, 961, 854,
    988, 919, 972, 970, 841,
    956, 933, 761, 871, 927,
    982, 143
  ],
  chunkPreviews: [
    {
      size: 947,
      preview: 'Как проводятся противопожарные инструктажи\r\n' +
        '\r\n' +
        'Допускать к работе на объекте защиты сотрудников можно...'
    },
    {
      size: 917,
      preview: '3. Как проводится первичный противопожарный инструктаж на рабочем месте\r\n' +
        '4. Как проводится повторный...'
    },
    {
      size: 886,
      preview: 'Обучение мерам пожарной безопасности осуществляется, в частности, по программам противопожарного инс...'
    },
    {
      size: 854,
      preview: '- изучения ими действий в случае возникновения пожара.\r\n' +
        '  Проведите противопожарный инструктаж в соо...'
    },
    {
      size: 962,
      preview: 'Противопожарный инструктаж завершается проверкой знаний и умений на предмет их соответствия требован...'
    },
    {
      size: 831,
      preview: '1.1. Кто проводит противопожарный инструктаж\r\n' +
        '  Противопожарный инструктаж проводят лица, которые ос...'
    },
    {
      size: 909,
      preview: 'Такими лицами могут быть (п. п. 7, 8 Приложения N 1 к этому Приказу):\r\n' +
        '- руководитель организации;\r\n' +
        '...'
    },
    {
      size: 880,
      preview: '- на вводный;\r\n' +
        '- первичный на рабочем месте;\r\n' +
        '- повторный;\r\n' +
        '- внеплановый;\r\n' +
        '- целевой.\r\n' +
        '\r\n' +
        '2. Как про...'
    },
    {
      size: 961,
      preview: 'При совмещении вводного противопожарного инструктажа и первичного противопожарного инструктажа на ра...'
    },
    {
      size: 854,
      preview: '- права и обязанности в области пожарной безопасности лиц, которые осуществляют трудовую или служебн...'
    },
    {
      size: 988,
      preview: 'Этот вид инструктажа нужно провести непосредственно на рабочем месте до начала трудовой (служебной) ...'
    },
    {
      size: 919,
      preview: '- общие сведения о взрывопожарной и пожарной опасности веществ и материалов, изготавливаемой продукц...'
    },
    {
      size: 972,
      preview: '- о лицах, которые осуществляют трудовую (служебную) деятельность в организации, связанную с охраной...'
    },
    {
      size: 970,
      preview: 'б) отнесены к категориям повышенной взрывопожароопасности, взрывопожароопасности, пожароопасности.\r\n' +
        '...'
    },
    {
      size: 841,
      preview: '5. Как проводится внеплановый противопожарный инструктаж\r\n' +
        '   Провести внеплановый противопожарный ин...'
    },
    {
      size: 956,
      preview: '- лица, осуществляющие трудовую или служебную деятельность в организации, допустили нарушения обязат...'
    },
    {
      size: 933,
      preview: '- руководитель организации или назначенное им лицо приняло соответствующее решение.\r\n' +
        '\r\n' +
        '  5.1. Как со...'
    },
    {
      size: 761,
      preview: 'В частности, его проводят (п. 18 Приложения N 1 к Приказу N 806):\r\n' +
        '\r\n' +
        '- перед выполнением огневых раб...'
    },
    {
      size: 871,
      preview: '7. Как заполнить журнал учета противопожарных инструктажей\r\n' +
        '   Должностное лицо, которое проводило п...'
    },
    {
      size: 927,
      preview: 'Запись в журнале не требуется, если оформляется наряд-допуск на выполнение огневых работ (п. 23 Прил...'
    },
    {
      size: 982,
      preview: 'Обратите внимание, что результаты проведения противопожарных инструктажей и проверки знаний и умений...'
    },
    {
      size: 143,
      preview: 'SAMPLE Образец заполнения журнала учета противопожарных инструктажей (на примере ситуации, когда про...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T15:41:33.470Z'
}
{
  documentCount: 22,
  documentSources: [
    'document3.md', 'document3.md',
    'document3.md', 'document3.md',
    'document3.md', 'document3.md',
    'document3.md', 'document3.md',
    'document3.md', 'document3.md',
    'document3.md', 'document3.md',
    'document3.md', 'document3.md',
    'document3.md', 'document3.md',
    'document3.md', 'document3.md',
    'document3.md', 'document3.md',
    'document3.md', 'document3.md'
  ],
  documentPreviews: [
    {
      source: 'document3.md',
      preview: 'Как проводятся противопожарные инструктажи\r\n' +
        '\r\n' +
        'Допускать к работе на объекте защиты сотрудников можно...'
    },
    {
      source: 'document3.md',
      preview: '3. Как проводится первичный противопожарный инструктаж на рабочем месте\r\n' +
        '4. Как проводится повторный...'
    },
    {
      source: 'document3.md',
      preview: 'Обучение мерам пожарной безопасности осуществляется, в частности, по программам противопожарного инс...'
    },
    {
      source: 'document3.md',
      preview: '- изучения ими действий в случае возникновения пожара.\r\n' +
        '  Проведите противопожарный инструктаж в соо...'
    },
    {
      source: 'document3.md',
      preview: 'Противопожарный инструктаж завершается проверкой знаний и умений на предмет их соответствия требован...'
    },
    {
      source: 'document3.md',
      preview: '1.1. Кто проводит противопожарный инструктаж\r\n' +
        '  Противопожарный инструктаж проводят лица, которые ос...'
    },
    {
      source: 'document3.md',
      preview: 'Такими лицами могут быть (п. п. 7, 8 Приложения N 1 к этому Приказу):\r\n' +
        '- руководитель организации;\r\n' +
        '...'
    },
    {
      source: 'document3.md',
      preview: '- на вводный;\r\n' +
        '- первичный на рабочем месте;\r\n' +
        '- повторный;\r\n' +
        '- внеплановый;\r\n' +
        '- целевой.\r\n' +
        '\r\n' +
        '2. Как про...'
    },
    {
      source: 'document3.md',
      preview: 'При совмещении вводного противопожарного инструктажа и первичного противопожарного инструктажа на ра...'
    },
    {
      source: 'document3.md',
      preview: '- права и обязанности в области пожарной безопасности лиц, которые осуществляют трудовую или служебн...'
    },
    {
      source: 'document3.md',
      preview: 'Этот вид инструктажа нужно провести непосредственно на рабочем месте до начала трудовой (служебной) ...'
    },
    {
      source: 'document3.md',
      preview: '- общие сведения о взрывопожарной и пожарной опасности веществ и материалов, изготавливаемой продукц...'
    },
    {
      source: 'document3.md',
      preview: '- о лицах, которые осуществляют трудовую (служебную) деятельность в организации, связанную с охраной...'
    },
    {
      source: 'document3.md',
      preview: 'б) отнесены к категориям повышенной взрывопожароопасности, взрывопожароопасности, пожароопасности.\r\n' +
        '...'
    },
    {
      source: 'document3.md',
      preview: '5. Как проводится внеплановый противопожарный инструктаж\r\n' +
        '   Провести внеплановый противопожарный ин...'
    },
    {
      source: 'document3.md',
      preview: '- лица, осуществляющие трудовую или служебную деятельность в организации, допустили нарушения обязат...'
    },
    {
      source: 'document3.md',
      preview: '- руководитель организации или назначенное им лицо приняло соответствующее решение.\r\n' +
        '\r\n' +
        '  5.1. Как со...'
    },
    {
      source: 'document3.md',
      preview: 'В частности, его проводят (п. 18 Приложения N 1 к Приказу N 806):\r\n' +
        '\r\n' +
        '- перед выполнением огневых раб...'
    },
    {
      source: 'document3.md',
      preview: '7. Как заполнить журнал учета противопожарных инструктажей\r\n' +
        '   Должностное лицо, которое проводило п...'
    },
    {
      source: 'document3.md',
      preview: 'Запись в журнале не требуется, если оформляется наряд-допуск на выполнение огневых работ (п. 23 Прил...'
    },
    {
      source: 'document3.md',
      preview: 'Обратите внимание, что результаты проведения противопожарных инструктажей и проверки знаний и умений...'
    },
    {
      source: 'document3.md',
      preview: 'SAMPLE Образец заполнения журнала учета противопожарных инструктажей (на примере ситуации, когда про...'
    }
  ],
  level: 'info',
  message: 'Adding documents to vector store',
  timestamp: '2025-02-08T15:41:33.472Z'
}
{
  previousDocumentCount: 63,
  newDocumentCount: 85,
  addedDocuments: 22,
  level: 'info',
  message: 'Documents added to vector store successfully',
  timestamp: '2025-02-08T15:41:35.044Z'
}
{
  chunksCreated: 22,
  fileName: 'document3.md',
  level: 'info',
  message: 'Added document to vector store: document3.md',
  timestamp: '2025-02-08T15:41:35.044Z'
}
{
  documentName: 'document4.md',
  contentLength: 5394,
  contentPreview: 'Какие бывают виды инструктажей по охране труда\r\n' +
    '\r\n' +
    'Инструктажи по охране труда подразделяются: на вво...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T15:41:35.045Z'
}
{
  documentName: 'document4.md',
  chunksCreated: 8,
  chunkSizes: [
    213, 993, 905,
    513, 823, 926,
    899, 938
  ],
  chunkPreviews: [
    {
      size: 213,
      preview: 'Какие бывают виды инструктажей по охране труда\r\n' +
        '\r\n' +
        'Инструктажи по охране труда подразделяются: на вво...'
    },
    {
      size: 993,
      preview: 'Инструктажи по охране труда подразделяются: на вводный, инструктаж по охране труда на рабочем месте ...'
    },
    {
      size: 905,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кому нужно проводить вводный инструктаж по охране труда\r\n' +
        '2. Кому нужно проводить п...'
    },
    {
      size: 513,
      preview: 'SAMPLE Образец приказа о проведении вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '7. Кому нужно проводить ...'
    },
    {
      size: 823,
      preview: 'В то же время некоторых работников можно освободить от первичного инструктажа (п. 13 Правил обучения...'
    },
    {
      size: 926,
      preview: 'Кто должен проводить инструктаж по охране труда на рабочем месте генеральному директору\r\n' +
        'Если генера...'
    },
    {
      size: 899,
      preview: '4. Кому и для каких целей нужно проводить внеплановый инструктаж по охране труда на рабочем месте\r\n' +
        ' ...'
    },
    {
      size: 938,
      preview: '5. Кому и для каких целей нужно проводить целевой инструктаж по охране труда\r\n' +
        '   Целевой инструктаж ...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T15:41:35.046Z'
}
{
  documentCount: 8,
  documentSources: [
    'document4.md',
    'document4.md',
    'document4.md',
    'document4.md',
    'document4.md',
    'document4.md',
    'document4.md',
    'document4.md'
  ],
  documentPreviews: [
    {
      source: 'document4.md',
      preview: 'Какие бывают виды инструктажей по охране труда\r\n' +
        '\r\n' +
        'Инструктажи по охране труда подразделяются: на вво...'
    },
    {
      source: 'document4.md',
      preview: 'Инструктажи по охране труда подразделяются: на вводный, инструктаж по охране труда на рабочем месте ...'
    },
    {
      source: 'document4.md',
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кому нужно проводить вводный инструктаж по охране труда\r\n' +
        '2. Кому нужно проводить п...'
    },
    {
      source: 'document4.md',
      preview: 'SAMPLE Образец приказа о проведении вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '7. Кому нужно проводить ...'
    },
    {
      source: 'document4.md',
      preview: 'В то же время некоторых работников можно освободить от первичного инструктажа (п. 13 Правил обучения...'
    },
    {
      source: 'document4.md',
      preview: 'Кто должен проводить инструктаж по охране труда на рабочем месте генеральному директору\r\n' +
        'Если генера...'
    },
    {
      source: 'document4.md',
      preview: '4. Кому и для каких целей нужно проводить внеплановый инструктаж по охране труда на рабочем месте\r\n' +
        ' ...'
    },
    {
      source: 'document4.md',
      preview: '5. Кому и для каких целей нужно проводить целевой инструктаж по охране труда\r\n' +
        '   Целевой инструктаж ...'
    }
  ],
  level: 'info',
  message: 'Adding documents to vector store',
  timestamp: '2025-02-08T15:41:35.047Z'
}
{
  previousDocumentCount: 85,
  newDocumentCount: 93,
  addedDocuments: 8,
  level: 'info',
  message: 'Documents added to vector store successfully',
  timestamp: '2025-02-08T15:41:36.579Z'
}
{
  chunksCreated: 8,
  fileName: 'document4.md',
  level: 'info',
  message: 'Added document to vector store: document4.md',
  timestamp: '2025-02-08T15:41:36.580Z'
}
{
  totalFiles: 4,
  totalDocumentsProcessed: 4,
  totalChunksCreated: 54,
  failedFiles: [],
  vectorStoreStatus: Promise { <pending> },
  level: 'info',
  message: 'Document loading process completed',
  timestamp: '2025-02-08T15:41:36.580Z'
}
{
  message: 'Step 2: Testing vector search with sample queries',
  level: 'info',
  timestamp: '2025-02-08T15:41:36.580Z'
}
{
  message: 'Testing search with query: "гражданская оборона"',
  level: 'info',
  timestamp: '2025-02-08T15:41:36.581Z'
}
{
  queryLength: 19,
  queryPreview: 'гражданская оборона...',
  k: 2,
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T15:41:36.581Z'
}
{
  resultsFound: 2,
  resultSources: [ 'document1.md', 'document1.md' ],
  resultPreviews: [
    {
      source: 'document1.md',
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражданской обороне обязаны проводить все организации, имеющие работников.\r\n' +
        'Такой инструктаж проводится с...'
    },
    {
      source: 'document1.md',
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражданской обороне обязаны проводить все организации, имеющие работников.\r\n' +
        'Такой инструктаж проводится с...'
    }
  ],
  level: 'info',
  message: 'Vector search completed successfully',
  timestamp: '2025-02-08T15:41:37.107Z'
}
{
  query: 'гражданская оборона',
  resultCount: 2,
  results: [
    {
      source: 'document1.md',
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      source: 'document1.md',
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    }
  ],
  level: 'info',
  message: 'Search results found',
  timestamp: '2025-02-08T15:41:37.108Z'
}
{
  message: 'Testing search with query: "инструктаж"',
  level: 'info',
  timestamp: '2025-02-08T15:41:37.108Z'
}
{
  queryLength: 10,
  queryPreview: 'инструктаж...',
  k: 2,
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T15:41:37.108Z'
}
{
  resultsFound: 2,
  resultSources: [ 'document1.md', 'document1.md' ],
  resultPreviews: [
    {
      source: 'document1.md',
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка реализации вводного инструктажа по ГО). В приказе (распоряжении) обязательно укажите, какие программы ...'
    },
    {
      source: 'document1.md',
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка реализации вводного инструктажа по ГО). В приказе (распоряжении) обязательно укажите, какие программы ...'
    }
  ],
  level: 'info',
  message: 'Vector search completed successfully',
  timestamp: '2025-02-08T15:41:37.694Z'
}
{
  query: 'инструктаж',
  resultCount: 2,
  results: [
    {
      source: 'document1.md',
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      source: 'document1.md',
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    }
  ],
  level: 'info',
  message: 'Search results found',
  timestamp: '2025-02-08T15:41:37.695Z'
}
{
  message: 'Testing search with query: "эвакуация"',
  level: 'info',
  timestamp: '2025-02-08T15:41:37.696Z'
}
{
  queryLength: 9,
  queryPreview: 'эвакуация...',
  k: 2,
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T15:41:37.696Z'
}
{
  resultsFound: 2,
  resultSources: [ 'document3.md', 'document2.md' ],
  resultPreviews: [
    {
      source: 'document3.md',
      preview: '- о лицах, которые осуществляют трудовую (служебную) деятельность в организации, связанную с охраной (защитой) объектов и (или) имущества организации;\r\n' +
        '- о лицах, которые осуществляют трудовую или слу...'
    },
    {
      source: 'document2.md',
      preview: 'Обратите внимание, что положения о ведении электронного документооборота в сфере трудовых отношений не применяются к документам, подтверждающим прохождение работником инструктажей по охране труда, в т...'
    }
  ],
  level: 'info',
  message: 'Vector search completed successfully',
  timestamp: '2025-02-08T15:41:38.377Z'
}
{
  query: 'эвакуация',
  resultCount: 2,
  results: [
    {
      source: 'document3.md',
      preview: '- о лицах, которые осуществляют трудовую (служебную) деятельность в организации, связанную с охраной...'
    },
    {
      source: 'document2.md',
      preview: 'Обратите внимание, что положения о ведении электронного документооборота в сфере трудовых отношений ...'
    }
  ],
  level: 'info',
  message: 'Search results found',
  timestamp: '2025-02-08T15:41:38.378Z'
}
{
  message: 'Testing search with query: "чрезвычайная ситуация"',
  level: 'info',
  timestamp: '2025-02-08T15:41:38.379Z'
}
{
  queryLength: 21,
  queryPreview: 'чрезвычайная ситуация...',
  k: 2,
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T15:41:38.379Z'
}
{
  resultsFound: 2,
  resultSources: [ 'document1.md', 'document1.md' ],
  resultPreviews: [
    {
      source: 'document1.md',
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный инструктаж по гражданской обороне работодателю грозит штраф в следующем размере (ч. 2 ст. 20.7 КоАП...'
    },
    {
      source: 'document1.md',
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный инструктаж по гражданской обороне работодателю грозит штраф в следующем размере (ч. 2 ст. 20.7 КоАП...'
    }
  ],
  level: 'info',
  message: 'Vector search completed successfully',
  timestamp: '2025-02-08T15:41:38.872Z'
}
{
  query: 'чрезвычайная ситуация',
  resultCount: 2,
  results: [
    {
      source: 'document1.md',
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      source: 'document1.md',
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    }
  ],
  level: 'info',
  message: 'Search results found',
  timestamp: '2025-02-08T15:41:38.873Z'
}
{
  message: 'RAG system test completed successfully',
  level: 'info',
  timestamp: '2025-02-08T15:41:38.873Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T15:42:25.412Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-08T15:42:25.413Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь заключение по инструктажу по гражданской оборорне',
          additional_kwargs: {},
          response_metadata: {},
          id: '9d5c2736-163a-43c4-bedf-52aaf566e0c5'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь заключение по инструктажу по гражданской оборорне',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: '9d5c2736-163a-43c4-bedf-52aaf566e0c5'
      },
      AIMessageChunk {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Представляю вам заключение по инструктажу по гражданской обороне, подготовленное в соответствии с вашими указаниями. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуются какие-либо изменения или дополнения.',
          additional_kwargs: {},
          response_metadata: {
            usage: {
              prompt_tokens: 729,
              completion_tokens: 55,
              total_tokens: 784,
              prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
              completion_tokens_details: {
                reasoning_tokens: 0,
                audio_tokens: 0,
                accepted_prediction_tokens: 0,
                rejected_prediction_tokens: 0
              }
            }
          },
          tool_call_chunks: [],
          id: 'chatcmpl-AyhBEToBKs9KdKt0jaRBELjPsqISE',
          tool_calls: [],
          invalid_tool_calls: [],
          usage_metadata: undefined
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Представляю вам заключение по инструктажу по гражданской обороне, подготовленное в соответствии с вашими указаниями. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуются какие-либо изменения или дополнения.',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {
          usage: {
            prompt_tokens: 729,
            completion_tokens: 55,
            total_tokens: 784,
            prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
            completion_tokens_details: {
              reasoning_tokens: 0,
              audio_tokens: 0,
              accepted_prediction_tokens: 0,
              rejected_prediction_tokens: 0
            }
          }
        },
        id: 'chatcmpl-AyhBEToBKs9KdKt0jaRBELjPsqISE',
        tool_calls: [],
        invalid_tool_calls: [],
        tool_call_chunks: [],
        usage_metadata: undefined
      },
      AIMessageChunk {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Представляю вашему вниманию заключение по инструктажу по гражданской обороне, подготовленное в соответствии с вашими запросами. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуется внести изменения или дополнения.',
          additional_kwargs: {},
          response_metadata: {
            usage: {
              prompt_tokens: 779,
              completion_tokens: 55,
              total_tokens: 834,
              prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
              completion_tokens_details: {
                reasoning_tokens: 0,
                audio_tokens: 0,
                accepted_prediction_tokens: 0,
                rejected_prediction_tokens: 0
              }
            }
          },
          tool_call_chunks: [],
          id: 'chatcmpl-AyhBwDn3F7e7UA6S9VtIAusAfWwHi',
          tool_calls: [],
          invalid_tool_calls: [],
          usage_metadata: undefined
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Представляю вашему вниманию заключение по инструктажу по гражданской обороне, подготовленное в соответствии с вашими запросами. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуется внести изменения или дополнения.',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {
          usage: {
            prompt_tokens: 779,
            completion_tokens: 55,
            total_tokens: 834,
            prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
            completion_tokens_details: {
              reasoning_tokens: 0,
              audio_tokens: 0,
              accepted_prediction_tokens: 0,
              rejected_prediction_tokens: 0
            }
          }
        },
        id: 'chatcmpl-AyhBwDn3F7e7UA6S9VtIAusAfWwHi',
        tool_calls: [],
        invalid_tool_calls: [],
        tool_call_chunks: [],
        usage_metadata: undefined
      }
    ],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Заключение инструктажа ГО',
          fullMarkdown: '**Заключение по инструктажу по гражданской обороне**\n' +
            '\n' +
            'В соответствии с требованиями законодательства Российской Федерации и действующими нормативными актами, проведен инструктаж по гражданской обороне для сотрудников организации.\n' +
            '\n' +
            '**Дата проведения:** [дата]\\\n' +
            '**Место проведения:** [место]\\\n' +
            '**Участники:** [список участников]\n' +
            '\n' +
            'В ходе инструктажа были рассмотрены следующие ключевые темы:\n' +
            '\n' +
            '1.  Основные понятия и цели гражданской обороны.\n' +
            '2.  Обязанности сотрудников в области гражданской обороны.\n' +
            '3.  Правила поведения в чрезвычайных ситуациях.\n' +
            '4.  Порядок оповещения и эвакуации.\n' +
            '5.  Использование средств индивидуальной защиты.\n' +
            '\n' +
            'Участники инструктажа продемонстрировали понимание представленных материалов и готовы применять полученные знания на практике.\n' +
            '\n' +
            '**Рекомендации:**\n' +
            '\n' +
            '*   Регулярно обновлять знания сотрудников в области гражданской обороны.\n' +
            '*   Проводить практические тренировки по действиям в чрезвычайных ситуациях.\n' +
            '\n' +
            '**Ответственный за проведение инструктажа:** [Ф.И.О., должность]\\\n' +
            '**Подписи участников:**\\\n' +
            '[Подписи участников]\n' +
            '\n' +
            '**Дата составления заключения:** [дата]\n' +
            '\n' +
            '**[Название организации]**\n'
        }
      ]
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-08T15:42:25.419Z'
}
{
  hasMessages: true,
  hasArtifact: true,
  actionType: 'rag_rewrite',
  artifactContentLength: 1,
  messageCount: 3,
  level: 'info',
  message: 'Starting RAG retrieval process',
  timestamp: '2025-02-08T15:42:25.431Z'
}
{
  messageType: 'human',
  queryLength: 57,
  queryPreview: 'Составь заключение по инструктажу по гражданской оборорне',
  messageIndex: 0,
  totalMessages: 3,
  level: 'info',
  message: 'Using last human message as query',
  timestamp: '2025-02-08T15:42:25.432Z'
}
{
  queryLength: 57,
  queryType: 'artifact_content',
  queryPreview: 'Составь заключение по инструктажу по гражданской оборорне',
  level: 'info',
  message: 'Processing RAG retrieval query',
  timestamp: '2025-02-08T15:42:25.432Z'
}
{
  queryLength: 57,
  queryPreview: 'Составь заключение по инструктажу по гражданской оборорне...',
  k: 3,
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T15:42:25.433Z'
}
{
  message: 'Vector store is empty, no documents to search',
  level: 'warn',
  timestamp: '2025-02-08T15:42:25.433Z'
}
{
  query: 'Составь заключение по инструктажу по гражданской оборорне',
  actionType: 'rag_rewrite',
  level: 'warn',
  message: 'No relevant documents found in vector search',
  timestamp: '2025-02-08T15:42:25.433Z'
}
{
  message: 'Checking if title generation is needed. Message count: 4',
  level: 'info',
  timestamp: '2025-02-08T15:42:34.464Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  cwd: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas',
  level: 'info',
  message: 'Starting document loading script',
  timestamp: '2025-02-08T15:46:47.848Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 1,
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-08T15:46:47.851Z'
}
{
  collection: 'legal-documents',
  persistDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\.chroma',
  level: 'info',
  message: 'Initializing vector store',
  timestamp: '2025-02-08T15:46:47.852Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T15:46:47.854Z'
}
{
  fileCount: 4,
  files: [
    { name: 'document1.md', extension: '.md' },
    { name: 'document2.md', extension: '.md' },
    { name: 'document3.md', extension: '.md' },
    { name: 'document4.md', extension: '.md' }
  ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-08T15:46:47.857Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T15:46:47.861Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkSizes: [
    973, 901, 971, 937,
    972, 861, 915, 775,
    903, 648, 580, 875,
    274
  ],
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T15:46:47.863Z'
}
{
  documentCount: 13,
  documentSources: [
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md'
  ],
  documentPreviews: [
    {
      source: 'document1.md',
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      source: 'document1.md',
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      source: 'document1.md',
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      source: 'document1.md',
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      source: 'document1.md',
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      source: 'document1.md',
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      source: 'document1.md',
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      source: 'document1.md',
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      source: 'document1.md',
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      source: 'document1.md',
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      source: 'document1.md',
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      source: 'document1.md',
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      source: 'document1.md',
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Adding documents to vector store',
  timestamp: '2025-02-08T15:46:47.866Z'
}
{
  previousDocumentCount: 0,
  newDocumentCount: 106,
  addedDocuments: 106,
  level: 'info',
  message: 'Documents added to vector store successfully',
  timestamp: '2025-02-08T15:46:49.563Z'
}
{
  chunksCreated: 13,
  fileName: 'document1.md',
  level: 'info',
  message: 'Added document to vector store: document1.md',
  timestamp: '2025-02-08T15:46:49.563Z'
}
{
  documentName: 'document2.md',
  contentLength: 8574,
  contentPreview: 'Как провести вводный инструктаж по охране труда\r\n' +
    '\r\n' +
    'Вводный инструктаж по охране труда обязаны провод...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T15:46:49.564Z'
}
{
  documentName: 'document2.md',
  chunksCreated: 11,
  chunkSizes: [
    957, 775, 868, 650,
    949, 681, 922, 878,
    954, 890, 938
  ],
  chunkPreviews: [
    {
      size: 957,
      preview: 'Как провести вводный инструктаж по охране труда\r\n' +
        '\r\n' +
        'Вводный инструктаж по охране труда обязаны провод...'
    },
    {
      size: 775,
      preview: '5. Каковы риски в случае непроведения вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '6. Кто проводит вводны...'
    },
    {
      size: 868,
      preview: 'Работники организации (ИП), проводящие инструктаж, должны пройти обучение требованиям охраны труда в...'
    },
    {
      size: 650,
      preview: '2.1. Каков срок проведения вводного инструктажа по охране труда\r\n' +
        'Вводный инструктаж по охране труда ...'
    },
    {
      size: 949,
      preview: 'Инструктаж по охране труда на рабочем месте (в том числе и первичный) проводится в объеме мероприяти...'
    },
    {
      size: 681,
      preview: 'Для проведения вводного инструктажа вам нужно (п. п. 9, 11, 69, 88 Правил обучения по охране труда):...'
    },
    {
      size: 922,
      preview: 'Вводный инструктаж завершается проверкой знания требований охраны труда. Это неотъемлемая часть пров...'
    },
    {
      size: 878,
      preview: 'В Приложении N 1 указаны следующие темы для программы вводного инструктажа по охране труда:\r\n' +
        '\r\n' +
        '- Све...'
    },
    {
      size: 954,
      preview: '- Действия работников при возникновении возможных аварийных ситуаций. Виды сигнализаций и звуковых о...'
    },
    {
      size: 890,
      preview: 'Обратите внимание, что положения о ведении электронного документооборота в сфере трудовых отношений ...'
    },
    {
      size: 938,
      preview: '- фамилию, имя, отчество (при наличии), профессию (должность) работника, проводившего инструктаж;\r\n' +
        '-...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T15:46:49.565Z'
}
{
  documentCount: 11,
  documentSources: [
    'document2.md',
    'document2.md',
    'document2.md',
    'document2.md',
    'document2.md',
    'document2.md',
    'document2.md',
    'document2.md',
    'document2.md',
    'document2.md',
    'document2.md'
  ],
  documentPreviews: [
    {
      source: 'document2.md',
      preview: 'Как провести вводный инструктаж по охране труда\r\n' +
        '\r\n' +
        'Вводный инструктаж по охране труда обязаны провод...'
    },
    {
      source: 'document2.md',
      preview: '5. Каковы риски в случае непроведения вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '6. Кто проводит вводны...'
    },
    {
      source: 'document2.md',
      preview: 'Работники организации (ИП), проводящие инструктаж, должны пройти обучение требованиям охраны труда в...'
    },
    {
      source: 'document2.md',
      preview: '2.1. Каков срок проведения вводного инструктажа по охране труда\r\n' +
        'Вводный инструктаж по охране труда ...'
    },
    {
      source: 'document2.md',
      preview: 'Инструктаж по охране труда на рабочем месте (в том числе и первичный) проводится в объеме мероприяти...'
    },
    {
      source: 'document2.md',
      preview: 'Для проведения вводного инструктажа вам нужно (п. п. 9, 11, 69, 88 Правил обучения по охране труда):...'
    },
    {
      source: 'document2.md',
      preview: 'Вводный инструктаж завершается проверкой знания требований охраны труда. Это неотъемлемая часть пров...'
    },
    {
      source: 'document2.md',
      preview: 'В Приложении N 1 указаны следующие темы для программы вводного инструктажа по охране труда:\r\n' +
        '\r\n' +
        '- Све...'
    },
    {
      source: 'document2.md',
      preview: '- Действия работников при возникновении возможных аварийных ситуаций. Виды сигнализаций и звуковых о...'
    },
    {
      source: 'document2.md',
      preview: 'Обратите внимание, что положения о ведении электронного документооборота в сфере трудовых отношений ...'
    },
    {
      source: 'document2.md',
      preview: '- фамилию, имя, отчество (при наличии), профессию (должность) работника, проводившего инструктаж;\r\n' +
        '-...'
    }
  ],
  level: 'info',
  message: 'Adding documents to vector store',
  timestamp: '2025-02-08T15:46:49.566Z'
}
{
  previousDocumentCount: 106,
  newDocumentCount: 117,
  addedDocuments: 11,
  level: 'info',
  message: 'Documents added to vector store successfully',
  timestamp: '2025-02-08T15:46:50.418Z'
}
{
  chunksCreated: 11,
  fileName: 'document2.md',
  level: 'info',
  message: 'Added document to vector store: document2.md',
  timestamp: '2025-02-08T15:46:50.418Z'
}
{
  documentName: 'document3.md',
  contentLength: 17193,
  contentPreview: 'Как проводятся противопожарные инструктажи\r\n' +
    '\r\n' +
    'Допускать к работе на объекте защиты сотрудников можно...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T15:46:50.419Z'
}
{
  documentName: 'document3.md',
  chunksCreated: 22,
  chunkSizes: [
    947, 917, 886, 854, 962,
    831, 909, 880, 961, 854,
    988, 919, 972, 970, 841,
    956, 933, 761, 871, 927,
    982, 143
  ],
  chunkPreviews: [
    {
      size: 947,
      preview: 'Как проводятся противопожарные инструктажи\r\n' +
        '\r\n' +
        'Допускать к работе на объекте защиты сотрудников можно...'
    },
    {
      size: 917,
      preview: '3. Как проводится первичный противопожарный инструктаж на рабочем месте\r\n' +
        '4. Как проводится повторный...'
    },
    {
      size: 886,
      preview: 'Обучение мерам пожарной безопасности осуществляется, в частности, по программам противопожарного инс...'
    },
    {
      size: 854,
      preview: '- изучения ими действий в случае возникновения пожара.\r\n' +
        '  Проведите противопожарный инструктаж в соо...'
    },
    {
      size: 962,
      preview: 'Противопожарный инструктаж завершается проверкой знаний и умений на предмет их соответствия требован...'
    },
    {
      size: 831,
      preview: '1.1. Кто проводит противопожарный инструктаж\r\n' +
        '  Противопожарный инструктаж проводят лица, которые ос...'
    },
    {
      size: 909,
      preview: 'Такими лицами могут быть (п. п. 7, 8 Приложения N 1 к этому Приказу):\r\n' +
        '- руководитель организации;\r\n' +
        '...'
    },
    {
      size: 880,
      preview: '- на вводный;\r\n' +
        '- первичный на рабочем месте;\r\n' +
        '- повторный;\r\n' +
        '- внеплановый;\r\n' +
        '- целевой.\r\n' +
        '\r\n' +
        '2. Как про...'
    },
    {
      size: 961,
      preview: 'При совмещении вводного противопожарного инструктажа и первичного противопожарного инструктажа на ра...'
    },
    {
      size: 854,
      preview: '- права и обязанности в области пожарной безопасности лиц, которые осуществляют трудовую или служебн...'
    },
    {
      size: 988,
      preview: 'Этот вид инструктажа нужно провести непосредственно на рабочем месте до начала трудовой (служебной) ...'
    },
    {
      size: 919,
      preview: '- общие сведения о взрывопожарной и пожарной опасности веществ и материалов, изготавливаемой продукц...'
    },
    {
      size: 972,
      preview: '- о лицах, которые осуществляют трудовую (служебную) деятельность в организации, связанную с охраной...'
    },
    {
      size: 970,
      preview: 'б) отнесены к категориям повышенной взрывопожароопасности, взрывопожароопасности, пожароопасности.\r\n' +
        '...'
    },
    {
      size: 841,
      preview: '5. Как проводится внеплановый противопожарный инструктаж\r\n' +
        '   Провести внеплановый противопожарный ин...'
    },
    {
      size: 956,
      preview: '- лица, осуществляющие трудовую или служебную деятельность в организации, допустили нарушения обязат...'
    },
    {
      size: 933,
      preview: '- руководитель организации или назначенное им лицо приняло соответствующее решение.\r\n' +
        '\r\n' +
        '  5.1. Как со...'
    },
    {
      size: 761,
      preview: 'В частности, его проводят (п. 18 Приложения N 1 к Приказу N 806):\r\n' +
        '\r\n' +
        '- перед выполнением огневых раб...'
    },
    {
      size: 871,
      preview: '7. Как заполнить журнал учета противопожарных инструктажей\r\n' +
        '   Должностное лицо, которое проводило п...'
    },
    {
      size: 927,
      preview: 'Запись в журнале не требуется, если оформляется наряд-допуск на выполнение огневых работ (п. 23 Прил...'
    },
    {
      size: 982,
      preview: 'Обратите внимание, что результаты проведения противопожарных инструктажей и проверки знаний и умений...'
    },
    {
      size: 143,
      preview: 'SAMPLE Образец заполнения журнала учета противопожарных инструктажей (на примере ситуации, когда про...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T15:46:50.420Z'
}
{
  documentCount: 22,
  documentSources: [
    'document3.md', 'document3.md',
    'document3.md', 'document3.md',
    'document3.md', 'document3.md',
    'document3.md', 'document3.md',
    'document3.md', 'document3.md',
    'document3.md', 'document3.md',
    'document3.md', 'document3.md',
    'document3.md', 'document3.md',
    'document3.md', 'document3.md',
    'document3.md', 'document3.md',
    'document3.md', 'document3.md'
  ],
  documentPreviews: [
    {
      source: 'document3.md',
      preview: 'Как проводятся противопожарные инструктажи\r\n' +
        '\r\n' +
        'Допускать к работе на объекте защиты сотрудников можно...'
    },
    {
      source: 'document3.md',
      preview: '3. Как проводится первичный противопожарный инструктаж на рабочем месте\r\n' +
        '4. Как проводится повторный...'
    },
    {
      source: 'document3.md',
      preview: 'Обучение мерам пожарной безопасности осуществляется, в частности, по программам противопожарного инс...'
    },
    {
      source: 'document3.md',
      preview: '- изучения ими действий в случае возникновения пожара.\r\n' +
        '  Проведите противопожарный инструктаж в соо...'
    },
    {
      source: 'document3.md',
      preview: 'Противопожарный инструктаж завершается проверкой знаний и умений на предмет их соответствия требован...'
    },
    {
      source: 'document3.md',
      preview: '1.1. Кто проводит противопожарный инструктаж\r\n' +
        '  Противопожарный инструктаж проводят лица, которые ос...'
    },
    {
      source: 'document3.md',
      preview: 'Такими лицами могут быть (п. п. 7, 8 Приложения N 1 к этому Приказу):\r\n' +
        '- руководитель организации;\r\n' +
        '...'
    },
    {
      source: 'document3.md',
      preview: '- на вводный;\r\n' +
        '- первичный на рабочем месте;\r\n' +
        '- повторный;\r\n' +
        '- внеплановый;\r\n' +
        '- целевой.\r\n' +
        '\r\n' +
        '2. Как про...'
    },
    {
      source: 'document3.md',
      preview: 'При совмещении вводного противопожарного инструктажа и первичного противопожарного инструктажа на ра...'
    },
    {
      source: 'document3.md',
      preview: '- права и обязанности в области пожарной безопасности лиц, которые осуществляют трудовую или служебн...'
    },
    {
      source: 'document3.md',
      preview: 'Этот вид инструктажа нужно провести непосредственно на рабочем месте до начала трудовой (служебной) ...'
    },
    {
      source: 'document3.md',
      preview: '- общие сведения о взрывопожарной и пожарной опасности веществ и материалов, изготавливаемой продукц...'
    },
    {
      source: 'document3.md',
      preview: '- о лицах, которые осуществляют трудовую (служебную) деятельность в организации, связанную с охраной...'
    },
    {
      source: 'document3.md',
      preview: 'б) отнесены к категориям повышенной взрывопожароопасности, взрывопожароопасности, пожароопасности.\r\n' +
        '...'
    },
    {
      source: 'document3.md',
      preview: '5. Как проводится внеплановый противопожарный инструктаж\r\n' +
        '   Провести внеплановый противопожарный ин...'
    },
    {
      source: 'document3.md',
      preview: '- лица, осуществляющие трудовую или служебную деятельность в организации, допустили нарушения обязат...'
    },
    {
      source: 'document3.md',
      preview: '- руководитель организации или назначенное им лицо приняло соответствующее решение.\r\n' +
        '\r\n' +
        '  5.1. Как со...'
    },
    {
      source: 'document3.md',
      preview: 'В частности, его проводят (п. 18 Приложения N 1 к Приказу N 806):\r\n' +
        '\r\n' +
        '- перед выполнением огневых раб...'
    },
    {
      source: 'document3.md',
      preview: '7. Как заполнить журнал учета противопожарных инструктажей\r\n' +
        '   Должностное лицо, которое проводило п...'
    },
    {
      source: 'document3.md',
      preview: 'Запись в журнале не требуется, если оформляется наряд-допуск на выполнение огневых работ (п. 23 Прил...'
    },
    {
      source: 'document3.md',
      preview: 'Обратите внимание, что результаты проведения противопожарных инструктажей и проверки знаний и умений...'
    },
    {
      source: 'document3.md',
      preview: 'SAMPLE Образец заполнения журнала учета противопожарных инструктажей (на примере ситуации, когда про...'
    }
  ],
  level: 'info',
  message: 'Adding documents to vector store',
  timestamp: '2025-02-08T15:46:50.423Z'
}
{
  previousDocumentCount: 117,
  newDocumentCount: 139,
  addedDocuments: 22,
  level: 'info',
  message: 'Documents added to vector store successfully',
  timestamp: '2025-02-08T15:46:51.524Z'
}
{
  chunksCreated: 22,
  fileName: 'document3.md',
  level: 'info',
  message: 'Added document to vector store: document3.md',
  timestamp: '2025-02-08T15:46:51.524Z'
}
{
  documentName: 'document4.md',
  contentLength: 5394,
  contentPreview: 'Какие бывают виды инструктажей по охране труда\r\n' +
    '\r\n' +
    'Инструктажи по охране труда подразделяются: на вво...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T15:46:51.525Z'
}
{
  documentName: 'document4.md',
  chunksCreated: 8,
  chunkSizes: [
    213, 993, 905,
    513, 823, 926,
    899, 938
  ],
  chunkPreviews: [
    {
      size: 213,
      preview: 'Какие бывают виды инструктажей по охране труда\r\n' +
        '\r\n' +
        'Инструктажи по охране труда подразделяются: на вво...'
    },
    {
      size: 993,
      preview: 'Инструктажи по охране труда подразделяются: на вводный, инструктаж по охране труда на рабочем месте ...'
    },
    {
      size: 905,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кому нужно проводить вводный инструктаж по охране труда\r\n' +
        '2. Кому нужно проводить п...'
    },
    {
      size: 513,
      preview: 'SAMPLE Образец приказа о проведении вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '7. Кому нужно проводить ...'
    },
    {
      size: 823,
      preview: 'В то же время некоторых работников можно освободить от первичного инструктажа (п. 13 Правил обучения...'
    },
    {
      size: 926,
      preview: 'Кто должен проводить инструктаж по охране труда на рабочем месте генеральному директору\r\n' +
        'Если генера...'
    },
    {
      size: 899,
      preview: '4. Кому и для каких целей нужно проводить внеплановый инструктаж по охране труда на рабочем месте\r\n' +
        ' ...'
    },
    {
      size: 938,
      preview: '5. Кому и для каких целей нужно проводить целевой инструктаж по охране труда\r\n' +
        '   Целевой инструктаж ...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T15:46:51.526Z'
}
{
  documentCount: 8,
  documentSources: [
    'document4.md',
    'document4.md',
    'document4.md',
    'document4.md',
    'document4.md',
    'document4.md',
    'document4.md',
    'document4.md'
  ],
  documentPreviews: [
    {
      source: 'document4.md',
      preview: 'Какие бывают виды инструктажей по охране труда\r\n' +
        '\r\n' +
        'Инструктажи по охране труда подразделяются: на вво...'
    },
    {
      source: 'document4.md',
      preview: 'Инструктажи по охране труда подразделяются: на вводный, инструктаж по охране труда на рабочем месте ...'
    },
    {
      source: 'document4.md',
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кому нужно проводить вводный инструктаж по охране труда\r\n' +
        '2. Кому нужно проводить п...'
    },
    {
      source: 'document4.md',
      preview: 'SAMPLE Образец приказа о проведении вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '7. Кому нужно проводить ...'
    },
    {
      source: 'document4.md',
      preview: 'В то же время некоторых работников можно освободить от первичного инструктажа (п. 13 Правил обучения...'
    },
    {
      source: 'document4.md',
      preview: 'Кто должен проводить инструктаж по охране труда на рабочем месте генеральному директору\r\n' +
        'Если генера...'
    },
    {
      source: 'document4.md',
      preview: '4. Кому и для каких целей нужно проводить внеплановый инструктаж по охране труда на рабочем месте\r\n' +
        ' ...'
    },
    {
      source: 'document4.md',
      preview: '5. Кому и для каких целей нужно проводить целевой инструктаж по охране труда\r\n' +
        '   Целевой инструктаж ...'
    }
  ],
  level: 'info',
  message: 'Adding documents to vector store',
  timestamp: '2025-02-08T15:46:51.527Z'
}
{
  previousDocumentCount: 139,
  newDocumentCount: 147,
  addedDocuments: 8,
  level: 'info',
  message: 'Documents added to vector store successfully',
  timestamp: '2025-02-08T15:46:52.207Z'
}
{
  message: 'Starting RAG system test',
  level: 'info',
  timestamp: '2025-02-08T15:47:07.376Z'
}
{
  message: 'Step 1: Initializing RAG system',
  level: 'info',
  timestamp: '2025-02-08T15:47:07.378Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 1,
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-08T15:47:07.379Z'
}
{
  collection: 'legal-documents',
  persistDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\.chroma',
  level: 'info',
  message: 'Initializing vector store',
  timestamp: '2025-02-08T15:47:07.380Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T15:47:07.381Z'
}
{
  fileCount: 4,
  files: [
    { name: 'document1.md', extension: '.md' },
    { name: 'document2.md', extension: '.md' },
    { name: 'document3.md', extension: '.md' },
    { name: 'document4.md', extension: '.md' }
  ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-08T15:47:07.385Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T15:47:07.388Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkSizes: [
    973, 901, 971, 937,
    972, 861, 915, 775,
    903, 648, 580, 875,
    274
  ],
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T15:47:07.390Z'
}
{
  documentCount: 13,
  documentSources: [
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md', 'document1.md',
    'document1.md'
  ],
  documentPreviews: [
    {
      source: 'document1.md',
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      source: 'document1.md',
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      source: 'document1.md',
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      source: 'document1.md',
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      source: 'document1.md',
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      source: 'document1.md',
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      source: 'document1.md',
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      source: 'document1.md',
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      source: 'document1.md',
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      source: 'document1.md',
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      source: 'document1.md',
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      source: 'document1.md',
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      source: 'document1.md',
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Adding documents to vector store',
  timestamp: '2025-02-08T15:47:07.394Z'
}
{
  previousDocumentCount: 0,
  newDocumentCount: 160,
  addedDocuments: 160,
  level: 'info',
  message: 'Documents added to vector store successfully',
  timestamp: '2025-02-08T15:47:09.286Z'
}
{
  chunksCreated: 13,
  fileName: 'document1.md',
  level: 'info',
  message: 'Added document to vector store: document1.md',
  timestamp: '2025-02-08T15:47:09.286Z'
}
{
  documentName: 'document2.md',
  contentLength: 8574,
  contentPreview: 'Как провести вводный инструктаж по охране труда\r\n' +
    '\r\n' +
    'Вводный инструктаж по охране труда обязаны провод...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T15:47:09.288Z'
}
{
  documentName: 'document2.md',
  chunksCreated: 11,
  chunkSizes: [
    957, 775, 868, 650,
    949, 681, 922, 878,
    954, 890, 938
  ],
  chunkPreviews: [
    {
      size: 957,
      preview: 'Как провести вводный инструктаж по охране труда\r\n' +
        '\r\n' +
        'Вводный инструктаж по охране труда обязаны провод...'
    },
    {
      size: 775,
      preview: '5. Каковы риски в случае непроведения вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '6. Кто проводит вводны...'
    },
    {
      size: 868,
      preview: 'Работники организации (ИП), проводящие инструктаж, должны пройти обучение требованиям охраны труда в...'
    },
    {
      size: 650,
      preview: '2.1. Каков срок проведения вводного инструктажа по охране труда\r\n' +
        'Вводный инструктаж по охране труда ...'
    },
    {
      size: 949,
      preview: 'Инструктаж по охране труда на рабочем месте (в том числе и первичный) проводится в объеме мероприяти...'
    },
    {
      size: 681,
      preview: 'Для проведения вводного инструктажа вам нужно (п. п. 9, 11, 69, 88 Правил обучения по охране труда):...'
    },
    {
      size: 922,
      preview: 'Вводный инструктаж завершается проверкой знания требований охраны труда. Это неотъемлемая часть пров...'
    },
    {
      size: 878,
      preview: 'В Приложении N 1 указаны следующие темы для программы вводного инструктажа по охране труда:\r\n' +
        '\r\n' +
        '- Све...'
    },
    {
      size: 954,
      preview: '- Действия работников при возникновении возможных аварийных ситуаций. Виды сигнализаций и звуковых о...'
    },
    {
      size: 890,
      preview: 'Обратите внимание, что положения о ведении электронного документооборота в сфере трудовых отношений ...'
    },
    {
      size: 938,
      preview: '- фамилию, имя, отчество (при наличии), профессию (должность) работника, проводившего инструктаж;\r\n' +
        '-...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T15:47:09.288Z'
}
{
  documentCount: 11,
  documentSources: [
    'document2.md',
    'document2.md',
    'document2.md',
    'document2.md',
    'document2.md',
    'document2.md',
    'document2.md',
    'document2.md',
    'document2.md',
    'document2.md',
    'document2.md'
  ],
  documentPreviews: [
    {
      source: 'document2.md',
      preview: 'Как провести вводный инструктаж по охране труда\r\n' +
        '\r\n' +
        'Вводный инструктаж по охране труда обязаны провод...'
    },
    {
      source: 'document2.md',
      preview: '5. Каковы риски в случае непроведения вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '6. Кто проводит вводны...'
    },
    {
      source: 'document2.md',
      preview: 'Работники организации (ИП), проводящие инструктаж, должны пройти обучение требованиям охраны труда в...'
    },
    {
      source: 'document2.md',
      preview: '2.1. Каков срок проведения вводного инструктажа по охране труда\r\n' +
        'Вводный инструктаж по охране труда ...'
    },
    {
      source: 'document2.md',
      preview: 'Инструктаж по охране труда на рабочем месте (в том числе и первичный) проводится в объеме мероприяти...'
    },
    {
      source: 'document2.md',
      preview: 'Для проведения вводного инструктажа вам нужно (п. п. 9, 11, 69, 88 Правил обучения по охране труда):...'
    },
    {
      source: 'document2.md',
      preview: 'Вводный инструктаж завершается проверкой знания требований охраны труда. Это неотъемлемая часть пров...'
    },
    {
      source: 'document2.md',
      preview: 'В Приложении N 1 указаны следующие темы для программы вводного инструктажа по охране труда:\r\n' +
        '\r\n' +
        '- Све...'
    },
    {
      source: 'document2.md',
      preview: '- Действия работников при возникновении возможных аварийных ситуаций. Виды сигнализаций и звуковых о...'
    },
    {
      source: 'document2.md',
      preview: 'Обратите внимание, что положения о ведении электронного документооборота в сфере трудовых отношений ...'
    },
    {
      source: 'document2.md',
      preview: '- фамилию, имя, отчество (при наличии), профессию (должность) работника, проводившего инструктаж;\r\n' +
        '-...'
    }
  ],
  level: 'info',
  message: 'Adding documents to vector store',
  timestamp: '2025-02-08T15:47:09.289Z'
}
{
  previousDocumentCount: 160,
  newDocumentCount: 171,
  addedDocuments: 11,
  level: 'info',
  message: 'Documents added to vector store successfully',
  timestamp: '2025-02-08T15:47:10.738Z'
}
{
  chunksCreated: 11,
  fileName: 'document2.md',
  level: 'info',
  message: 'Added document to vector store: document2.md',
  timestamp: '2025-02-08T15:47:10.738Z'
}
{
  documentName: 'document3.md',
  contentLength: 17193,
  contentPreview: 'Как проводятся противопожарные инструктажи\r\n' +
    '\r\n' +
    'Допускать к работе на объекте защиты сотрудников можно...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T15:47:10.739Z'
}
{
  documentName: 'document3.md',
  chunksCreated: 22,
  chunkSizes: [
    947, 917, 886, 854, 962,
    831, 909, 880, 961, 854,
    988, 919, 972, 970, 841,
    956, 933, 761, 871, 927,
    982, 143
  ],
  chunkPreviews: [
    {
      size: 947,
      preview: 'Как проводятся противопожарные инструктажи\r\n' +
        '\r\n' +
        'Допускать к работе на объекте защиты сотрудников можно...'
    },
    {
      size: 917,
      preview: '3. Как проводится первичный противопожарный инструктаж на рабочем месте\r\n' +
        '4. Как проводится повторный...'
    },
    {
      size: 886,
      preview: 'Обучение мерам пожарной безопасности осуществляется, в частности, по программам противопожарного инс...'
    },
    {
      size: 854,
      preview: '- изучения ими действий в случае возникновения пожара.\r\n' +
        '  Проведите противопожарный инструктаж в соо...'
    },
    {
      size: 962,
      preview: 'Противопожарный инструктаж завершается проверкой знаний и умений на предмет их соответствия требован...'
    },
    {
      size: 831,
      preview: '1.1. Кто проводит противопожарный инструктаж\r\n' +
        '  Противопожарный инструктаж проводят лица, которые ос...'
    },
    {
      size: 909,
      preview: 'Такими лицами могут быть (п. п. 7, 8 Приложения N 1 к этому Приказу):\r\n' +
        '- руководитель организации;\r\n' +
        '...'
    },
    {
      size: 880,
      preview: '- на вводный;\r\n' +
        '- первичный на рабочем месте;\r\n' +
        '- повторный;\r\n' +
        '- внеплановый;\r\n' +
        '- целевой.\r\n' +
        '\r\n' +
        '2. Как про...'
    },
    {
      size: 961,
      preview: 'При совмещении вводного противопожарного инструктажа и первичного противопожарного инструктажа на ра...'
    },
    {
      size: 854,
      preview: '- права и обязанности в области пожарной безопасности лиц, которые осуществляют трудовую или служебн...'
    },
    {
      size: 988,
      preview: 'Этот вид инструктажа нужно провести непосредственно на рабочем месте до начала трудовой (служебной) ...'
    },
    {
      size: 919,
      preview: '- общие сведения о взрывопожарной и пожарной опасности веществ и материалов, изготавливаемой продукц...'
    },
    {
      size: 972,
      preview: '- о лицах, которые осуществляют трудовую (служебную) деятельность в организации, связанную с охраной...'
    },
    {
      size: 970,
      preview: 'б) отнесены к категориям повышенной взрывопожароопасности, взрывопожароопасности, пожароопасности.\r\n' +
        '...'
    },
    {
      size: 841,
      preview: '5. Как проводится внеплановый противопожарный инструктаж\r\n' +
        '   Провести внеплановый противопожарный ин...'
    },
    {
      size: 956,
      preview: '- лица, осуществляющие трудовую или служебную деятельность в организации, допустили нарушения обязат...'
    },
    {
      size: 933,
      preview: '- руководитель организации или назначенное им лицо приняло соответствующее решение.\r\n' +
        '\r\n' +
        '  5.1. Как со...'
    },
    {
      size: 761,
      preview: 'В частности, его проводят (п. 18 Приложения N 1 к Приказу N 806):\r\n' +
        '\r\n' +
        '- перед выполнением огневых раб...'
    },
    {
      size: 871,
      preview: '7. Как заполнить журнал учета противопожарных инструктажей\r\n' +
        '   Должностное лицо, которое проводило п...'
    },
    {
      size: 927,
      preview: 'Запись в журнале не требуется, если оформляется наряд-допуск на выполнение огневых работ (п. 23 Прил...'
    },
    {
      size: 982,
      preview: 'Обратите внимание, что результаты проведения противопожарных инструктажей и проверки знаний и умений...'
    },
    {
      size: 143,
      preview: 'SAMPLE Образец заполнения журнала учета противопожарных инструктажей (на примере ситуации, когда про...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T15:47:10.740Z'
}
{
  documentCount: 22,
  documentSources: [
    'document3.md', 'document3.md',
    'document3.md', 'document3.md',
    'document3.md', 'document3.md',
    'document3.md', 'document3.md',
    'document3.md', 'document3.md',
    'document3.md', 'document3.md',
    'document3.md', 'document3.md',
    'document3.md', 'document3.md',
    'document3.md', 'document3.md',
    'document3.md', 'document3.md',
    'document3.md', 'document3.md'
  ],
  documentPreviews: [
    {
      source: 'document3.md',
      preview: 'Как проводятся противопожарные инструктажи\r\n' +
        '\r\n' +
        'Допускать к работе на объекте защиты сотрудников можно...'
    },
    {
      source: 'document3.md',
      preview: '3. Как проводится первичный противопожарный инструктаж на рабочем месте\r\n' +
        '4. Как проводится повторный...'
    },
    {
      source: 'document3.md',
      preview: 'Обучение мерам пожарной безопасности осуществляется, в частности, по программам противопожарного инс...'
    },
    {
      source: 'document3.md',
      preview: '- изучения ими действий в случае возникновения пожара.\r\n' +
        '  Проведите противопожарный инструктаж в соо...'
    },
    {
      source: 'document3.md',
      preview: 'Противопожарный инструктаж завершается проверкой знаний и умений на предмет их соответствия требован...'
    },
    {
      source: 'document3.md',
      preview: '1.1. Кто проводит противопожарный инструктаж\r\n' +
        '  Противопожарный инструктаж проводят лица, которые ос...'
    },
    {
      source: 'document3.md',
      preview: 'Такими лицами могут быть (п. п. 7, 8 Приложения N 1 к этому Приказу):\r\n' +
        '- руководитель организации;\r\n' +
        '...'
    },
    {
      source: 'document3.md',
      preview: '- на вводный;\r\n' +
        '- первичный на рабочем месте;\r\n' +
        '- повторный;\r\n' +
        '- внеплановый;\r\n' +
        '- целевой.\r\n' +
        '\r\n' +
        '2. Как про...'
    },
    {
      source: 'document3.md',
      preview: 'При совмещении вводного противопожарного инструктажа и первичного противопожарного инструктажа на ра...'
    },
    {
      source: 'document3.md',
      preview: '- права и обязанности в области пожарной безопасности лиц, которые осуществляют трудовую или служебн...'
    },
    {
      source: 'document3.md',
      preview: 'Этот вид инструктажа нужно провести непосредственно на рабочем месте до начала трудовой (служебной) ...'
    },
    {
      source: 'document3.md',
      preview: '- общие сведения о взрывопожарной и пожарной опасности веществ и материалов, изготавливаемой продукц...'
    },
    {
      source: 'document3.md',
      preview: '- о лицах, которые осуществляют трудовую (служебную) деятельность в организации, связанную с охраной...'
    },
    {
      source: 'document3.md',
      preview: 'б) отнесены к категориям повышенной взрывопожароопасности, взрывопожароопасности, пожароопасности.\r\n' +
        '...'
    },
    {
      source: 'document3.md',
      preview: '5. Как проводится внеплановый противопожарный инструктаж\r\n' +
        '   Провести внеплановый противопожарный ин...'
    },
    {
      source: 'document3.md',
      preview: '- лица, осуществляющие трудовую или служебную деятельность в организации, допустили нарушения обязат...'
    },
    {
      source: 'document3.md',
      preview: '- руководитель организации или назначенное им лицо приняло соответствующее решение.\r\n' +
        '\r\n' +
        '  5.1. Как со...'
    },
    {
      source: 'document3.md',
      preview: 'В частности, его проводят (п. 18 Приложения N 1 к Приказу N 806):\r\n' +
        '\r\n' +
        '- перед выполнением огневых раб...'
    },
    {
      source: 'document3.md',
      preview: '7. Как заполнить журнал учета противопожарных инструктажей\r\n' +
        '   Должностное лицо, которое проводило п...'
    },
    {
      source: 'document3.md',
      preview: 'Запись в журнале не требуется, если оформляется наряд-допуск на выполнение огневых работ (п. 23 Прил...'
    },
    {
      source: 'document3.md',
      preview: 'Обратите внимание, что результаты проведения противопожарных инструктажей и проверки знаний и умений...'
    },
    {
      source: 'document3.md',
      preview: 'SAMPLE Образец заполнения журнала учета противопожарных инструктажей (на примере ситуации, когда про...'
    }
  ],
  level: 'info',
  message: 'Adding documents to vector store',
  timestamp: '2025-02-08T15:47:10.743Z'
}
{
  previousDocumentCount: 171,
  newDocumentCount: 193,
  addedDocuments: 22,
  level: 'info',
  message: 'Documents added to vector store successfully',
  timestamp: '2025-02-08T15:47:12.056Z'
}
{
  chunksCreated: 22,
  fileName: 'document3.md',
  level: 'info',
  message: 'Added document to vector store: document3.md',
  timestamp: '2025-02-08T15:47:12.057Z'
}
{
  documentName: 'document4.md',
  contentLength: 5394,
  contentPreview: 'Какие бывают виды инструктажей по охране труда\r\n' +
    '\r\n' +
    'Инструктажи по охране труда подразделяются: на вво...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T15:47:12.058Z'
}
{
  documentName: 'document4.md',
  chunksCreated: 8,
  chunkSizes: [
    213, 993, 905,
    513, 823, 926,
    899, 938
  ],
  chunkPreviews: [
    {
      size: 213,
      preview: 'Какие бывают виды инструктажей по охране труда\r\n' +
        '\r\n' +
        'Инструктажи по охране труда подразделяются: на вво...'
    },
    {
      size: 993,
      preview: 'Инструктажи по охране труда подразделяются: на вводный, инструктаж по охране труда на рабочем месте ...'
    },
    {
      size: 905,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кому нужно проводить вводный инструктаж по охране труда\r\n' +
        '2. Кому нужно проводить п...'
    },
    {
      size: 513,
      preview: 'SAMPLE Образец приказа о проведении вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '7. Кому нужно проводить ...'
    },
    {
      size: 823,
      preview: 'В то же время некоторых работников можно освободить от первичного инструктажа (п. 13 Правил обучения...'
    },
    {
      size: 926,
      preview: 'Кто должен проводить инструктаж по охране труда на рабочем месте генеральному директору\r\n' +
        'Если генера...'
    },
    {
      size: 899,
      preview: '4. Кому и для каких целей нужно проводить внеплановый инструктаж по охране труда на рабочем месте\r\n' +
        ' ...'
    },
    {
      size: 938,
      preview: '5. Кому и для каких целей нужно проводить целевой инструктаж по охране труда\r\n' +
        '   Целевой инструктаж ...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T15:47:12.058Z'
}
{
  documentCount: 8,
  documentSources: [
    'document4.md',
    'document4.md',
    'document4.md',
    'document4.md',
    'document4.md',
    'document4.md',
    'document4.md',
    'document4.md'
  ],
  documentPreviews: [
    {
      source: 'document4.md',
      preview: 'Какие бывают виды инструктажей по охране труда\r\n' +
        '\r\n' +
        'Инструктажи по охране труда подразделяются: на вво...'
    },
    {
      source: 'document4.md',
      preview: 'Инструктажи по охране труда подразделяются: на вводный, инструктаж по охране труда на рабочем месте ...'
    },
    {
      source: 'document4.md',
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кому нужно проводить вводный инструктаж по охране труда\r\n' +
        '2. Кому нужно проводить п...'
    },
    {
      source: 'document4.md',
      preview: 'SAMPLE Образец приказа о проведении вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '7. Кому нужно проводить ...'
    },
    {
      source: 'document4.md',
      preview: 'В то же время некоторых работников можно освободить от первичного инструктажа (п. 13 Правил обучения...'
    },
    {
      source: 'document4.md',
      preview: 'Кто должен проводить инструктаж по охране труда на рабочем месте генеральному директору\r\n' +
        'Если генера...'
    },
    {
      source: 'document4.md',
      preview: '4. Кому и для каких целей нужно проводить внеплановый инструктаж по охране труда на рабочем месте\r\n' +
        ' ...'
    },
    {
      source: 'document4.md',
      preview: '5. Кому и для каких целей нужно проводить целевой инструктаж по охране труда\r\n' +
        '   Целевой инструктаж ...'
    }
  ],
  level: 'info',
  message: 'Adding documents to vector store',
  timestamp: '2025-02-08T15:47:12.059Z'
}
{
  previousDocumentCount: 193,
  newDocumentCount: 201,
  addedDocuments: 8,
  level: 'info',
  message: 'Documents added to vector store successfully',
  timestamp: '2025-02-08T15:47:12.723Z'
}
{
  chunksCreated: 8,
  fileName: 'document4.md',
  level: 'info',
  message: 'Added document to vector store: document4.md',
  timestamp: '2025-02-08T15:47:12.724Z'
}
{
  totalFiles: 4,
  totalDocumentsProcessed: 4,
  totalChunksCreated: 54,
  failedFiles: [],
  vectorStoreStatus: Promise { <pending> },
  level: 'info',
  message: 'Document loading process completed',
  timestamp: '2025-02-08T15:47:12.724Z'
}
{
  message: 'Step 2: Testing vector search with sample queries',
  level: 'info',
  timestamp: '2025-02-08T15:47:12.725Z'
}
{
  message: 'Testing search with query: "гражданская оборона"',
  level: 'info',
  timestamp: '2025-02-08T15:47:12.725Z'
}
{
  queryLength: 19,
  queryPreview: 'гражданская оборона...',
  k: 2,
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T15:47:12.725Z'
}
{
  resultsFound: 2,
  resultSources: [ 'document1.md', 'document1.md' ],
  resultPreviews: [
    {
      source: 'document1.md',
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражданской обороне обязаны проводить все организации, имеющие работников.\r\n' +
        'Такой инструктаж проводится с...'
    },
    {
      source: 'document1.md',
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражданской обороне обязаны проводить все организации, имеющие работников.\r\n' +
        'Такой инструктаж проводится с...'
    }
  ],
  level: 'info',
  message: 'Vector search completed successfully',
  timestamp: '2025-02-08T15:47:13.171Z'
}
{
  query: 'гражданская оборона',
  resultCount: 2,
  results: [
    {
      source: 'document1.md',
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      source: 'document1.md',
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    }
  ],
  level: 'info',
  message: 'Search results found',
  timestamp: '2025-02-08T15:47:13.172Z'
}
{
  message: 'Testing search with query: "инструктаж"',
  level: 'info',
  timestamp: '2025-02-08T15:47:13.173Z'
}
{
  queryLength: 10,
  queryPreview: 'инструктаж...',
  k: 2,
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T15:47:13.173Z'
}
{
  resultsFound: 2,
  resultSources: [ 'document1.md', 'document1.md' ],
  resultPreviews: [
    {
      source: 'document1.md',
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка реализации вводного инструктажа по ГО). В приказе (распоряжении) обязательно укажите, какие программы ...'
    },
    {
      source: 'document1.md',
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка реализации вводного инструктажа по ГО). В приказе (распоряжении) обязательно укажите, какие программы ...'
    }
  ],
  level: 'info',
  message: 'Vector search completed successfully',
  timestamp: '2025-02-08T15:47:13.715Z'
}
{
  query: 'инструктаж',
  resultCount: 2,
  results: [
    {
      source: 'document1.md',
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      source: 'document1.md',
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    }
  ],
  level: 'info',
  message: 'Search results found',
  timestamp: '2025-02-08T15:47:13.716Z'
}
{
  message: 'Testing search with query: "эвакуация"',
  level: 'info',
  timestamp: '2025-02-08T15:47:13.717Z'
}
{
  queryLength: 9,
  queryPreview: 'эвакуация...',
  k: 2,
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T15:47:13.717Z'
}
{
  resultsFound: 2,
  resultSources: [ 'document3.md', 'document3.md' ],
  resultPreviews: [
    {
      source: 'document3.md',
      preview: '- о лицах, которые осуществляют трудовую (служебную) деятельность в организации, связанную с охраной (защитой) объектов и (или) имущества организации;\r\n' +
        '- о лицах, которые осуществляют трудовую или слу...'
    },
    {
      source: 'document3.md',
      preview: '- о лицах, которые осуществляют трудовую (служебную) деятельность в организации, связанную с охраной (защитой) объектов и (или) имущества организации;\r\n' +
        '- о лицах, которые осуществляют трудовую или слу...'
    }
  ],
  level: 'info',
  message: 'Vector search completed successfully',
  timestamp: '2025-02-08T15:47:14.732Z'
}
{
  query: 'эвакуация',
  resultCount: 2,
  results: [
    {
      source: 'document3.md',
      preview: '- о лицах, которые осуществляют трудовую (служебную) деятельность в организации, связанную с охраной...'
    },
    {
      source: 'document3.md',
      preview: '- о лицах, которые осуществляют трудовую (служебную) деятельность в организации, связанную с охраной...'
    }
  ],
  level: 'info',
  message: 'Search results found',
  timestamp: '2025-02-08T15:47:14.733Z'
}
{
  message: 'Testing search with query: "чрезвычайная ситуация"',
  level: 'info',
  timestamp: '2025-02-08T15:47:14.734Z'
}
{
  queryLength: 21,
  queryPreview: 'чрезвычайная ситуация...',
  k: 2,
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T15:47:14.734Z'
}
{
  resultsFound: 2,
  resultSources: [ 'document1.md', 'document1.md' ],
  resultPreviews: [
    {
      source: 'document1.md',
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный инструктаж по гражданской обороне работодателю грозит штраф в следующем размере (ч. 2 ст. 20.7 КоАП...'
    },
    {
      source: 'document1.md',
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный инструктаж по гражданской обороне работодателю грозит штраф в следующем размере (ч. 2 ст. 20.7 КоАП...'
    }
  ],
  level: 'info',
  message: 'Vector search completed successfully',
  timestamp: '2025-02-08T15:47:15.646Z'
}
{
  query: 'чрезвычайная ситуация',
  resultCount: 2,
  results: [
    {
      source: 'document1.md',
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      source: 'document1.md',
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    }
  ],
  level: 'info',
  message: 'Search results found',
  timestamp: '2025-02-08T15:47:15.647Z'
}
{
  message: 'RAG system test completed successfully',
  level: 'info',
  timestamp: '2025-02-08T15:47:15.648Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T15:52:04.260Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-08T15:52:06.134Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Инструктаж при приеме на работу',
          additional_kwargs: {},
          response_metadata: {},
          id: '8a8da469-98aa-4bfc-a3f3-77baef282124'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Инструктаж при приеме на работу',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: '8a8da469-98aa-4bfc-a3f3-77baef282124'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-08T15:52:06.140Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-08T15:52:15.287Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-08T15:52:15.288Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T15:52:38.893Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-08T15:52:38.893Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Инструктаж при приеме на работу',
          additional_kwargs: {},
          response_metadata: {},
          id: '8a8da469-98aa-4bfc-a3f3-77baef282124'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Инструктаж при приеме на работу',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: '8a8da469-98aa-4bfc-a3f3-77baef282124'
      },
      AIMessageChunk {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Уважаемый коллега, подготовлен инструктаж при приеме на работу, который включает основные правила и процедуры для новых сотрудников. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуется внести изменения или дополнения.',
          additional_kwargs: {},
          response_metadata: {
            usage: {
              prompt_tokens: 836,
              completion_tokens: 51,
              total_tokens: 887,
              prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
              completion_tokens_details: {
                reasoning_tokens: 0,
                audio_tokens: 0,
                accepted_prediction_tokens: 0,
                rejected_prediction_tokens: 0
              }
            }
          },
          tool_call_chunks: [],
          id: 'chatcmpl-AyhPrqj7IMiYLVJzJ1AoHU1c5YMeh',
          tool_calls: [],
          invalid_tool_calls: [],
          usage_metadata: undefined
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Уважаемый коллега, подготовлен инструктаж при приеме на работу, который включает основные правила и процедуры для новых сотрудников. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуется внести изменения или дополнения.',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {
          usage: {
            prompt_tokens: 836,
            completion_tokens: 51,
            total_tokens: 887,
            prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
            completion_tokens_details: {
              reasoning_tokens: 0,
              audio_tokens: 0,
              accepted_prediction_tokens: 0,
              rejected_prediction_tokens: 0
            }
          }
        },
        id: 'chatcmpl-AyhPrqj7IMiYLVJzJ1AoHU1c5YMeh',
        tool_calls: [],
        invalid_tool_calls: [],
        tool_call_chunks: [],
        usage_metadata: undefined
      }
    ],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Инструктаж при приеме на работу',
          fullMarkdown: '# Инструктаж при приеме на работу\n' +
            '\n' +
            '## 1. Общие положения\n' +
            '\n' +
            '1.1. Настоящий инструктаж предназначен для ознакомления работников с основными правилами и процедурами, действующими в организации.\\\n' +
            '1.2. Все новые сотрудники обязаны пройти инструктаж перед началом своей трудовой деятельности.\n' +
            '\n' +
            '## 2. Цели инструктажа\n' +
            '\n' +
            '2.1. Обеспечение безопасности работников.\\\n' +
            '2.2. Ознакомление с внутренними правилами и нормами организации.\\\n' +
            '2.3. Формирование корпоративной культуры.\n' +
            '\n' +
            '## 3. Содержание инструктажа\n' +
            '\n' +
            '3.1. Ознакомление с организацией\n' +
            '\n' +
            '*   История компании\n' +
            '*   Структура и основные направления деятельности\n' +
            '*   Важнейшие достижения\n' +
            '\n' +
            '3.2. Правила внутреннего распорядка\n' +
            '\n' +
            '*   Рабочее время и его учет\n' +
            '*   Правила поведения на рабочем месте\n' +
            '*   Ответственность за нарушение правил\n' +
            '\n' +
            '3.3. Безопасность труда\n' +
            '\n' +
            '*   Общие требования безопасности\n' +
            '*   Порядок действий в экстренных ситуациях\n' +
            '*   Обязанности работников по охране труда\n' +
            '\n' +
            '3.4. Корпоративная культура\n' +
            '\n' +
            '*   Ценности и миссия компании\n' +
            '*   Ожидания от сотрудников\n' +
            '*   Важность командной работы\n' +
            '\n' +
            '## 4. Подписание документов\n' +
            '\n' +
            '4.1. После завершения инструктажа новый сотрудник обязан подписать следующие документы:\n' +
            '\n' +
            '*   Акт о прохождении инструктажа\n' +
            '*   Правила внутреннего распорядка\n' +
            '*   Политика по охране труда\n' +
            '\n' +
            '## 5. Заключительные положения\n' +
            '\n' +
            '5.1. Инструктаж проводится ответственным лицом, назначенным руководством компании.\\\n' +
            '5.2. В случае возникновения вопросов или непонимания новых правил, сотрудник должен обратиться к своему непосредственному руководителю или в отдел кадров.\n'
        }
      ]
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-08T15:52:38.898Z'
}
{
  hasMessages: true,
  hasArtifact: true,
  actionType: 'rag_rewrite',
  artifactContentLength: 1,
  messageCount: 2,
  level: 'info',
  message: 'Starting RAG retrieval process',
  timestamp: '2025-02-08T15:52:38.906Z'
}
{
  messageType: 'human',
  queryLength: 31,
  queryPreview: 'Инструктаж при приеме на работу',
  messageIndex: 0,
  totalMessages: 2,
  level: 'info',
  message: 'Using last human message as query',
  timestamp: '2025-02-08T15:52:38.908Z'
}
{
  queryLength: 31,
  queryType: 'artifact_content',
  queryPreview: 'Инструктаж при приеме на работу',
  level: 'info',
  message: 'Processing RAG retrieval query',
  timestamp: '2025-02-08T15:52:38.908Z'
}
{
  queryLength: 31,
  queryPreview: 'Инструктаж при приеме на работу...',
  k: 3,
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T15:52:38.909Z'
}
{
  collection: 'legal-documents',
  persistDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\.chroma',
  level: 'info',
  message: 'Initializing vector store',
  timestamp: '2025-02-08T15:52:38.909Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T15:52:38.910Z'
}
{
  message: 'Vector store is empty, no documents to search',
  level: 'warn',
  timestamp: '2025-02-08T15:52:38.911Z'
}
{
  query: 'Инструктаж при приеме на работу',
  actionType: 'rag_rewrite',
  level: 'warn',
  message: 'No relevant documents found in vector search',
  timestamp: '2025-02-08T15:52:38.912Z'
}
{
  message: 'Checking if title generation is needed. Message count: 3',
  level: 'info',
  timestamp: '2025-02-08T15:52:50.190Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T15:57:40.412Z'
}
{
  selectedRoute: 'replyToGeneralInput',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-08T15:57:42.416Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Виды инструктаже при приеме на работу',
          additional_kwargs: {},
          response_metadata: {},
          id: '7bcc1fc9-98b9-4cfc-892a-5ca57e4a5b33'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Виды инструктаже при приеме на работу',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: '7bcc1fc9-98b9-4cfc-892a-5ca57e4a5b33'
      }
    ],
    next: 'replyToGeneralInput'
  },
  nextNode: 'replyToGeneralInput',
  level: 'info',
  message: 'Routing to next node: replyToGeneralInput',
  timestamp: '2025-02-08T15:57:42.422Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-08T15:57:47.997Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-08T15:57:47.997Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T15:58:21.503Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-08T15:58:22.662Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Заключение по видам инструктажей при приеме на работу',
          additional_kwargs: {},
          response_metadata: {},
          id: '782317da-50cd-4fcd-a2a4-e5741e178586'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Заключение по видам инструктажей при приеме на работу',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: '782317da-50cd-4fcd-a2a4-e5741e178586'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-08T15:58:22.667Z'
}
{
  title: 'Заключение по инструктажам',
  contentLength: 2286,
  level: 'info',
  message: 'Adding generated artifact to vector store',
  timestamp: '2025-02-08T15:58:33.635Z'
}
{
  documentCount: 1,
  documentSources: [ 'generated_artifact' ],
  documentPreviews: [
    {
      source: 'generated_artifact',
      preview: '# Заключение по видам инструктажей при приеме на работу\n' +
        '\n' +
        '## Введение\n' +
        'Прием на работу является важным...'
    }
  ],
  level: 'info',
  message: 'Adding documents to vector store',
  timestamp: '2025-02-08T15:58:33.636Z'
}
{
  collection: 'legal-documents',
  persistDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\.chroma',
  level: 'info',
  message: 'Initializing vector store',
  timestamp: '2025-02-08T15:58:33.637Z'
}
{
  message: 'Vector store initialized successfully',
  level: 'info',
  timestamp: '2025-02-08T15:58:33.638Z'
}
{
  previousDocumentCount: 0,
  newDocumentCount: 202,
  addedDocuments: 202,
  level: 'info',
  message: 'Documents added to vector store successfully',
  timestamp: '2025-02-08T15:58:34.772Z'
}
{
  title: 'Заключение по инструктажам',
  level: 'info',
  message: 'Successfully added artifact to vector store',
  timestamp: '2025-02-08T15:58:34.773Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-08T15:58:36.022Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-08T15:58:36.023Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T15:59:15.078Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-08T15:59:15.079Z'
}
{
  currentState: {
    messages: [],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Заключение по инструктажам',
          fullMarkdown: '# Заключение по видам инструктажей при приеме на работу\n' +
            '\n' +
            '## Введение\n' +
            '\n' +
            'Прием на работу является важным этапом, который требует соблюдения определенных процедур, в том числе проведения инструктажей для новых сотрудников. Инструктажи направлены на ознакомление работников с правилами безопасности, внутренними регламентами и специфическими требованиями, связанными с их трудовой деятельностью.\n' +
            '\n' +
            '## Виды инструктажей\n' +
            '\n' +
            'Существует несколько видов инструктажей, которые необходимо проводить при приеме на работу:\n' +
            '\n' +
            '1.  **Вводный инструктаж**\\\n' +
            '    Вводный инструктаж проводится для всех новых сотрудников и охватывает общие вопросы охраны труда, правила внутреннего распорядка, а также особенности организации труда в конкретной компании.\n' +
            '2.  **Первичный инструктаж на рабочем месте**\\\n' +
            '    Этот инструктаж проводится непосредственно перед началом работы нового сотрудника. Он включает в себя ознакомление с рабочим местом, оборудованием и специфическими рисками, связанными с выполнением трудовых обязанностей.\n' +
            '3.  **Повторный инструктаж**\\\n' +
            '    Повторный инструктаж проводится для всех работников через определенные промежутки времени (обычно раз в полгода или год) с целью обновления знаний о правилах безопасности и изменениях в законодательстве.\n' +
            '4.  **Целевой инструктаж**\\\n' +
            '    Целевой инструктаж проводится в случае введения новых технологий, оборудования или при изменении условий труда. Он направлен на ознакомление работников с новыми рисками и мерами предосторожности.\n' +
            '5.  **Специальный инструктаж**\\\n' +
            '    Специальный инструктаж необходим для работников, выполняющих опасные работы или работающих с вредными и опасными веществами. Он включает в себя специфические правила и рекомендации по безопасности.\n' +
            '\n' +
            '## Заключение\n' +
            '\n' +
            'Проведение инструктажей при приеме на работу является обязательным требованием, направленным на обеспечение безопасности труда и предотвращение несчастных случаев. Каждый работодатель обязан разработать и реализовать программу инструктажей, учитывающую специфику своей деятельности и требования законодательства.\n' +
            '\n' +
            'Невыполнение этих требований может привести к юридическим последствиям, включая ответственность за причинение вреда здоровью работников.\n' +
            '\n' +
            '**Дата:** [дата]\\\n' +
            '**Подпись:** [подпись]\\\n' +
            '**Должность:** [должность]\\\n' +
            '**Организация:** [название организации]\n'
        }
      ]
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-08T15:59:15.083Z'
}
{
  hasMessages: false,
  hasArtifact: true,
  actionType: 'rag_rewrite',
  artifactContentLength: 1,
  messageCount: 0,
  level: 'info',
  message: 'Starting RAG retrieval process',
  timestamp: '2025-02-08T15:59:15.093Z'
}
{
  artifactId: 1,
  totalContents: 1,
  level: 'info',
  message: 'No message found, attempting to use artifact content for RAG rewrite',
  timestamp: '2025-02-08T15:59:15.094Z'
}
{
  contentType: 'markdown',
  queryLength: 2280,
  queryPreview: '# Заключение по видам инструктажей при приеме на работу\n' +
    '\n' +
    '## Введение\n' +
    '\n' +
    'Прием на работу является важны...',
  artifactTitle: 'Заключение по инструктажам',
  artifactIndex: 1,
  level: 'info',
  message: 'Using artifact content as query',
  timestamp: '2025-02-08T15:59:15.094Z'
}
{
  queryLength: 2280,
  queryType: 'artifact_content',
  queryPreview: '# Заключение по видам инструктажей при приеме на работу\n' +
    '\n' +
    '## Введение\n' +
    '\n' +
    'Прием на работу является важны...',
  level: 'info',
  message: 'Processing RAG retrieval query',
  timestamp: '2025-02-08T15:59:15.095Z'
}
{
  queryLength: 2280,
  queryPreview: '# Заключение по видам инструктажей при приеме на работу\n' +
    '\n' +
    '## Введение\n' +
    '\n' +
    'Прием на работу является важны...',
  k: 3,
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-08T15:59:15.095Z'
}
{
  resultsFound: 3,
  resultSources: [ 'generated_artifact', 'document2.md', 'document2.md' ],
  resultPreviews: [
    {
      source: 'generated_artifact',
      preview: '# Заключение по видам инструктажей при приеме на работу\n' +
        '\n' +
        '## Введение\n' +
        'Прием на работу является важным этапом, который требует соблюдения определенных процедур, в том числе проведения инструктажей для н...'
    },
    {
      source: 'document2.md',
      preview: '2.1. Каков срок проведения вводного инструктажа по охране труда\r\n' +
        'Вводный инструктаж по охране труда нужно проводить для вновь принятых работников и других лиц, которые участвуют в вашей производственн...'
    },
    {
      source: 'document2.md',
      preview: '2.1. Каков срок проведения вводного инструктажа по охране труда\r\n' +
        'Вводный инструктаж по охране труда нужно проводить для вновь принятых работников и других лиц, которые участвуют в вашей производственн...'
    }
  ],
  level: 'info',
  message: 'Vector search completed successfully',
  timestamp: '2025-02-08T15:59:16.297Z'
}
{
  source: 'generated_artifact',
  length: 2286,
  preview: '# Заключение по видам инструктажей при приеме на работу\n' +
    '\n' +
    '## Введение\n' +
    'Прием на работу является важным этапом, который требует соблюдения определенных процедур, в том числе проведения инструктажей для н...',
  metadata: {
    index: 1,
    source: 'generated_artifact',
    title: 'Заключение по инструктажам',
    type: 'text'
  },
  score: undefined,
  level: 'info',
  message: 'Retrieved document 1',
  timestamp: '2025-02-08T15:59:16.298Z'
}
{
  source: 'document2.md',
  length: 650,
  preview: '2.1. Каков срок проведения вводного инструктажа по охране труда\r\n' +
    'Вводный инструктаж по охране труда нужно проводить для вновь принятых работников и других лиц, которые участвуют в вашей производственн...',
  metadata: {
    created: '2025-02-08T15:41:32.389Z',
    length: 8574,
    source: 'document2.md',
    loc: { lines: { from: 25, to: 29 } }
  },
  score: undefined,
  level: 'info',
  message: 'Retrieved document 2',
  timestamp: '2025-02-08T15:59:16.299Z'
}
{
  source: 'document2.md',
  length: 650,
  preview: '2.1. Каков срок проведения вводного инструктажа по охране труда\r\n' +
    'Вводный инструктаж по охране труда нужно проводить для вновь принятых работников и других лиц, которые участвуют в вашей производственн...',
  metadata: {
    created: '2025-02-08T15:46:49.565Z',
    length: 8574,
    source: 'document2.md',
    loc: { lines: { from: 25, to: 29 } }
  },
  score: undefined,
  level: 'info',
  message: 'Retrieved document 3',
  timestamp: '2025-02-08T15:59:16.299Z'
}
{
  totalContextLength: 3590,
  documentsUsed: 3,
  sources: [ 'generated_artifact', 'document2.md', 'document2.md' ],
  averageScore: 0,
  level: 'info',
  message: 'RAG retrieval completed successfully',
  timestamp: '2025-02-08T15:59:16.300Z'
}
{
  title: 'Заключение по инструктажам',
  contentLength: 2332,
  version: 2,
  level: 'info',
  message: 'Adding rewritten artifact to vector store',
  timestamp: '2025-02-08T15:59:27.131Z'
}
{
  documentCount: 1,
  documentSources: [ 'rewritten_artifact' ],
  documentPreviews: [
    {
      source: 'rewritten_artifact',
      preview: '# Заключение по видам инструктажей при приеме на работу\n' +
        '\n' +
        '## Введение\n' +
        '\n' +
        'Прием на работу представляет с...'
    }
  ],
  level: 'info',
  message: 'Adding documents to vector store',
  timestamp: '2025-02-08T15:59:27.132Z'
}
{
  previousDocumentCount: 202,
  newDocumentCount: 203,
  addedDocuments: 1,
  level: 'info',
  message: 'Documents added to vector store successfully',
  timestamp: '2025-02-08T15:59:28.194Z'
}
{
  title: 'Заключение по инструктажам',
  version: 2,
  level: 'info',
  message: 'Successfully added rewritten artifact to vector store',
  timestamp: '2025-02-08T15:59:28.194Z'
}
{
  message: 'Checking if title generation is needed. Message count: 1',
  level: 'info',
  timestamp: '2025-02-08T15:59:29.867Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-08T15:59:29.868Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  cwd: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas',
  level: 'info',
  message: 'Starting document loading script',
  timestamp: '2025-02-08T16:19:37.070Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 1,
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-08T16:19:37.074Z'
}
{
  fileCount: 4,
  files: [
    { name: 'document1.md', extension: '.md' },
    { name: 'document2.md', extension: '.md' },
    { name: 'document3.md', extension: '.md' },
    { name: 'document4.md', extension: '.md' }
  ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-08T16:19:37.080Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T16:19:37.084Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkSizes: [
    973, 901, 971, 937,
    972, 861, 915, 775,
    903, 648, 580, 875,
    274
  ],
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T16:19:37.086Z'
}
{
  chunksCreated: 13,
  fileName: 'document1.md',
  level: 'info',
  message: 'Added document to vector store: document1.md',
  timestamp: '2025-02-08T16:19:39.226Z'
}
{
  documentName: 'document2.md',
  contentLength: 8574,
  contentPreview: 'Как провести вводный инструктаж по охране труда\r\n' +
    '\r\n' +
    'Вводный инструктаж по охране труда обязаны провод...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T16:19:39.227Z'
}
{
  documentName: 'document2.md',
  chunksCreated: 11,
  chunkSizes: [
    957, 775, 868, 650,
    949, 681, 922, 878,
    954, 890, 938
  ],
  chunkPreviews: [
    {
      size: 957,
      preview: 'Как провести вводный инструктаж по охране труда\r\n' +
        '\r\n' +
        'Вводный инструктаж по охране труда обязаны провод...'
    },
    {
      size: 775,
      preview: '5. Каковы риски в случае непроведения вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '6. Кто проводит вводны...'
    },
    {
      size: 868,
      preview: 'Работники организации (ИП), проводящие инструктаж, должны пройти обучение требованиям охраны труда в...'
    },
    {
      size: 650,
      preview: '2.1. Каков срок проведения вводного инструктажа по охране труда\r\n' +
        'Вводный инструктаж по охране труда ...'
    },
    {
      size: 949,
      preview: 'Инструктаж по охране труда на рабочем месте (в том числе и первичный) проводится в объеме мероприяти...'
    },
    {
      size: 681,
      preview: 'Для проведения вводного инструктажа вам нужно (п. п. 9, 11, 69, 88 Правил обучения по охране труда):...'
    },
    {
      size: 922,
      preview: 'Вводный инструктаж завершается проверкой знания требований охраны труда. Это неотъемлемая часть пров...'
    },
    {
      size: 878,
      preview: 'В Приложении N 1 указаны следующие темы для программы вводного инструктажа по охране труда:\r\n' +
        '\r\n' +
        '- Све...'
    },
    {
      size: 954,
      preview: '- Действия работников при возникновении возможных аварийных ситуаций. Виды сигнализаций и звуковых о...'
    },
    {
      size: 890,
      preview: 'Обратите внимание, что положения о ведении электронного документооборота в сфере трудовых отношений ...'
    },
    {
      size: 938,
      preview: '- фамилию, имя, отчество (при наличии), профессию (должность) работника, проводившего инструктаж;\r\n' +
        '-...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T16:19:39.228Z'
}
{
  chunksCreated: 11,
  fileName: 'document2.md',
  level: 'info',
  message: 'Added document to vector store: document2.md',
  timestamp: '2025-02-08T16:19:40.624Z'
}
{
  documentName: 'document3.md',
  contentLength: 17193,
  contentPreview: 'Как проводятся противопожарные инструктажи\r\n' +
    '\r\n' +
    'Допускать к работе на объекте защиты сотрудников можно...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T16:19:40.626Z'
}
{
  documentName: 'document3.md',
  chunksCreated: 22,
  chunkSizes: [
    947, 917, 886, 854, 962,
    831, 909, 880, 961, 854,
    988, 919, 972, 970, 841,
    956, 933, 761, 871, 927,
    982, 143
  ],
  chunkPreviews: [
    {
      size: 947,
      preview: 'Как проводятся противопожарные инструктажи\r\n' +
        '\r\n' +
        'Допускать к работе на объекте защиты сотрудников можно...'
    },
    {
      size: 917,
      preview: '3. Как проводится первичный противопожарный инструктаж на рабочем месте\r\n' +
        '4. Как проводится повторный...'
    },
    {
      size: 886,
      preview: 'Обучение мерам пожарной безопасности осуществляется, в частности, по программам противопожарного инс...'
    },
    {
      size: 854,
      preview: '- изучения ими действий в случае возникновения пожара.\r\n' +
        '  Проведите противопожарный инструктаж в соо...'
    },
    {
      size: 962,
      preview: 'Противопожарный инструктаж завершается проверкой знаний и умений на предмет их соответствия требован...'
    },
    {
      size: 831,
      preview: '1.1. Кто проводит противопожарный инструктаж\r\n' +
        '  Противопожарный инструктаж проводят лица, которые ос...'
    },
    {
      size: 909,
      preview: 'Такими лицами могут быть (п. п. 7, 8 Приложения N 1 к этому Приказу):\r\n' +
        '- руководитель организации;\r\n' +
        '...'
    },
    {
      size: 880,
      preview: '- на вводный;\r\n' +
        '- первичный на рабочем месте;\r\n' +
        '- повторный;\r\n' +
        '- внеплановый;\r\n' +
        '- целевой.\r\n' +
        '\r\n' +
        '2. Как про...'
    },
    {
      size: 961,
      preview: 'При совмещении вводного противопожарного инструктажа и первичного противопожарного инструктажа на ра...'
    },
    {
      size: 854,
      preview: '- права и обязанности в области пожарной безопасности лиц, которые осуществляют трудовую или служебн...'
    },
    {
      size: 988,
      preview: 'Этот вид инструктажа нужно провести непосредственно на рабочем месте до начала трудовой (служебной) ...'
    },
    {
      size: 919,
      preview: '- общие сведения о взрывопожарной и пожарной опасности веществ и материалов, изготавливаемой продукц...'
    },
    {
      size: 972,
      preview: '- о лицах, которые осуществляют трудовую (служебную) деятельность в организации, связанную с охраной...'
    },
    {
      size: 970,
      preview: 'б) отнесены к категориям повышенной взрывопожароопасности, взрывопожароопасности, пожароопасности.\r\n' +
        '...'
    },
    {
      size: 841,
      preview: '5. Как проводится внеплановый противопожарный инструктаж\r\n' +
        '   Провести внеплановый противопожарный ин...'
    },
    {
      size: 956,
      preview: '- лица, осуществляющие трудовую или служебную деятельность в организации, допустили нарушения обязат...'
    },
    {
      size: 933,
      preview: '- руководитель организации или назначенное им лицо приняло соответствующее решение.\r\n' +
        '\r\n' +
        '  5.1. Как со...'
    },
    {
      size: 761,
      preview: 'В частности, его проводят (п. 18 Приложения N 1 к Приказу N 806):\r\n' +
        '\r\n' +
        '- перед выполнением огневых раб...'
    },
    {
      size: 871,
      preview: '7. Как заполнить журнал учета противопожарных инструктажей\r\n' +
        '   Должностное лицо, которое проводило п...'
    },
    {
      size: 927,
      preview: 'Запись в журнале не требуется, если оформляется наряд-допуск на выполнение огневых работ (п. 23 Прил...'
    },
    {
      size: 982,
      preview: 'Обратите внимание, что результаты проведения противопожарных инструктажей и проверки знаний и умений...'
    },
    {
      size: 143,
      preview: 'SAMPLE Образец заполнения журнала учета противопожарных инструктажей (на примере ситуации, когда про...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T16:19:40.626Z'
}
{
  chunksCreated: 22,
  fileName: 'document3.md',
  level: 'info',
  message: 'Added document to vector store: document3.md',
  timestamp: '2025-02-08T16:19:42.985Z'
}
{
  documentName: 'document4.md',
  contentLength: 5394,
  contentPreview: 'Какие бывают виды инструктажей по охране труда\r\n' +
    '\r\n' +
    'Инструктажи по охране труда подразделяются: на вво...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T16:19:42.986Z'
}
{
  documentName: 'document4.md',
  chunksCreated: 8,
  chunkSizes: [
    213, 993, 905,
    513, 823, 926,
    899, 938
  ],
  chunkPreviews: [
    {
      size: 213,
      preview: 'Какие бывают виды инструктажей по охране труда\r\n' +
        '\r\n' +
        'Инструктажи по охране труда подразделяются: на вво...'
    },
    {
      size: 993,
      preview: 'Инструктажи по охране труда подразделяются: на вводный, инструктаж по охране труда на рабочем месте ...'
    },
    {
      size: 905,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кому нужно проводить вводный инструктаж по охране труда\r\n' +
        '2. Кому нужно проводить п...'
    },
    {
      size: 513,
      preview: 'SAMPLE Образец приказа о проведении вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '7. Кому нужно проводить ...'
    },
    {
      size: 823,
      preview: 'В то же время некоторых работников можно освободить от первичного инструктажа (п. 13 Правил обучения...'
    },
    {
      size: 926,
      preview: 'Кто должен проводить инструктаж по охране труда на рабочем месте генеральному директору\r\n' +
        'Если генера...'
    },
    {
      size: 899,
      preview: '4. Кому и для каких целей нужно проводить внеплановый инструктаж по охране труда на рабочем месте\r\n' +
        ' ...'
    },
    {
      size: 938,
      preview: '5. Кому и для каких целей нужно проводить целевой инструктаж по охране труда\r\n' +
        '   Целевой инструктаж ...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T16:19:42.987Z'
}
{
  chunksCreated: 8,
  fileName: 'document4.md',
  level: 'info',
  message: 'Added document to vector store: document4.md',
  timestamp: '2025-02-08T16:19:43.791Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  cwd: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas',
  level: 'info',
  message: 'Starting document loading process',
  timestamp: '2025-02-08T16:21:29.700Z'
}
{
  isInitialized: false,
  documentCount: 0,
  level: 'info',
  message: 'Initial vector store status',
  timestamp: '2025-02-08T16:21:29.703Z'
}
{
  message: 'Clearing existing documents from vector store',
  level: 'info',
  timestamp: '2025-02-08T16:21:29.705Z'
}
{
  error: '\n' +
    '                You must provide either ids, where, or where_document to delete. If\n' +
    '                you want to delete all data in a collection you can delete the\n' +
    '                collection itself using the delete_collection method. Or alternatively,\n' +
    '                you can get() all the relevant ids and then delete them.\n' +
    '                ',
  level: 'warn',
  message: 'Failed to clear vector store',
  timestamp: '2025-02-08T16:21:29.834Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 1,
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-08T16:21:29.835Z'
}
{
  fileCount: 4,
  files: [
    { name: 'document1.md', extension: '.md' },
    { name: 'document2.md', extension: '.md' },
    { name: 'document3.md', extension: '.md' },
    { name: 'document4.md', extension: '.md' }
  ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-08T16:21:29.837Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T16:21:29.839Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkSizes: [
    973, 901, 971, 937,
    972, 861, 915, 775,
    903, 648, 580, 875,
    274
  ],
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T16:21:29.842Z'
}
{
  chunksCreated: 13,
  fileName: 'document1.md',
  level: 'info',
  message: 'Added document to vector store: document1.md',
  timestamp: '2025-02-08T16:21:32.043Z'
}
{
  documentName: 'document2.md',
  contentLength: 8574,
  contentPreview: 'Как провести вводный инструктаж по охране труда\r\n' +
    '\r\n' +
    'Вводный инструктаж по охране труда обязаны провод...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T16:21:32.045Z'
}
{
  documentName: 'document2.md',
  chunksCreated: 11,
  chunkSizes: [
    957, 775, 868, 650,
    949, 681, 922, 878,
    954, 890, 938
  ],
  chunkPreviews: [
    {
      size: 957,
      preview: 'Как провести вводный инструктаж по охране труда\r\n' +
        '\r\n' +
        'Вводный инструктаж по охране труда обязаны провод...'
    },
    {
      size: 775,
      preview: '5. Каковы риски в случае непроведения вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '6. Кто проводит вводны...'
    },
    {
      size: 868,
      preview: 'Работники организации (ИП), проводящие инструктаж, должны пройти обучение требованиям охраны труда в...'
    },
    {
      size: 650,
      preview: '2.1. Каков срок проведения вводного инструктажа по охране труда\r\n' +
        'Вводный инструктаж по охране труда ...'
    },
    {
      size: 949,
      preview: 'Инструктаж по охране труда на рабочем месте (в том числе и первичный) проводится в объеме мероприяти...'
    },
    {
      size: 681,
      preview: 'Для проведения вводного инструктажа вам нужно (п. п. 9, 11, 69, 88 Правил обучения по охране труда):...'
    },
    {
      size: 922,
      preview: 'Вводный инструктаж завершается проверкой знания требований охраны труда. Это неотъемлемая часть пров...'
    },
    {
      size: 878,
      preview: 'В Приложении N 1 указаны следующие темы для программы вводного инструктажа по охране труда:\r\n' +
        '\r\n' +
        '- Све...'
    },
    {
      size: 954,
      preview: '- Действия работников при возникновении возможных аварийных ситуаций. Виды сигнализаций и звуковых о...'
    },
    {
      size: 890,
      preview: 'Обратите внимание, что положения о ведении электронного документооборота в сфере трудовых отношений ...'
    },
    {
      size: 938,
      preview: '- фамилию, имя, отчество (при наличии), профессию (должность) работника, проводившего инструктаж;\r\n' +
        '-...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T16:21:32.046Z'
}
{
  chunksCreated: 11,
  fileName: 'document2.md',
  level: 'info',
  message: 'Added document to vector store: document2.md',
  timestamp: '2025-02-08T16:21:33.682Z'
}
{
  documentName: 'document3.md',
  contentLength: 17193,
  contentPreview: 'Как проводятся противопожарные инструктажи\r\n' +
    '\r\n' +
    'Допускать к работе на объекте защиты сотрудников можно...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T16:21:33.683Z'
}
{
  documentName: 'document3.md',
  chunksCreated: 22,
  chunkSizes: [
    947, 917, 886, 854, 962,
    831, 909, 880, 961, 854,
    988, 919, 972, 970, 841,
    956, 933, 761, 871, 927,
    982, 143
  ],
  chunkPreviews: [
    {
      size: 947,
      preview: 'Как проводятся противопожарные инструктажи\r\n' +
        '\r\n' +
        'Допускать к работе на объекте защиты сотрудников можно...'
    },
    {
      size: 917,
      preview: '3. Как проводится первичный противопожарный инструктаж на рабочем месте\r\n' +
        '4. Как проводится повторный...'
    },
    {
      size: 886,
      preview: 'Обучение мерам пожарной безопасности осуществляется, в частности, по программам противопожарного инс...'
    },
    {
      size: 854,
      preview: '- изучения ими действий в случае возникновения пожара.\r\n' +
        '  Проведите противопожарный инструктаж в соо...'
    },
    {
      size: 962,
      preview: 'Противопожарный инструктаж завершается проверкой знаний и умений на предмет их соответствия требован...'
    },
    {
      size: 831,
      preview: '1.1. Кто проводит противопожарный инструктаж\r\n' +
        '  Противопожарный инструктаж проводят лица, которые ос...'
    },
    {
      size: 909,
      preview: 'Такими лицами могут быть (п. п. 7, 8 Приложения N 1 к этому Приказу):\r\n' +
        '- руководитель организации;\r\n' +
        '...'
    },
    {
      size: 880,
      preview: '- на вводный;\r\n' +
        '- первичный на рабочем месте;\r\n' +
        '- повторный;\r\n' +
        '- внеплановый;\r\n' +
        '- целевой.\r\n' +
        '\r\n' +
        '2. Как про...'
    },
    {
      size: 961,
      preview: 'При совмещении вводного противопожарного инструктажа и первичного противопожарного инструктажа на ра...'
    },
    {
      size: 854,
      preview: '- права и обязанности в области пожарной безопасности лиц, которые осуществляют трудовую или служебн...'
    },
    {
      size: 988,
      preview: 'Этот вид инструктажа нужно провести непосредственно на рабочем месте до начала трудовой (служебной) ...'
    },
    {
      size: 919,
      preview: '- общие сведения о взрывопожарной и пожарной опасности веществ и материалов, изготавливаемой продукц...'
    },
    {
      size: 972,
      preview: '- о лицах, которые осуществляют трудовую (служебную) деятельность в организации, связанную с охраной...'
    },
    {
      size: 970,
      preview: 'б) отнесены к категориям повышенной взрывопожароопасности, взрывопожароопасности, пожароопасности.\r\n' +
        '...'
    },
    {
      size: 841,
      preview: '5. Как проводится внеплановый противопожарный инструктаж\r\n' +
        '   Провести внеплановый противопожарный ин...'
    },
    {
      size: 956,
      preview: '- лица, осуществляющие трудовую или служебную деятельность в организации, допустили нарушения обязат...'
    },
    {
      size: 933,
      preview: '- руководитель организации или назначенное им лицо приняло соответствующее решение.\r\n' +
        '\r\n' +
        '  5.1. Как со...'
    },
    {
      size: 761,
      preview: 'В частности, его проводят (п. 18 Приложения N 1 к Приказу N 806):\r\n' +
        '\r\n' +
        '- перед выполнением огневых раб...'
    },
    {
      size: 871,
      preview: '7. Как заполнить журнал учета противопожарных инструктажей\r\n' +
        '   Должностное лицо, которое проводило п...'
    },
    {
      size: 927,
      preview: 'Запись в журнале не требуется, если оформляется наряд-допуск на выполнение огневых работ (п. 23 Прил...'
    },
    {
      size: 982,
      preview: 'Обратите внимание, что результаты проведения противопожарных инструктажей и проверки знаний и умений...'
    },
    {
      size: 143,
      preview: 'SAMPLE Образец заполнения журнала учета противопожарных инструктажей (на примере ситуации, когда про...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T16:21:33.684Z'
}
{
  chunksCreated: 22,
  fileName: 'document3.md',
  level: 'info',
  message: 'Added document to vector store: document3.md',
  timestamp: '2025-02-08T16:21:36.051Z'
}
{
  documentName: 'document4.md',
  contentLength: 5394,
  contentPreview: 'Какие бывают виды инструктажей по охране труда\r\n' +
    '\r\n' +
    'Инструктажи по охране труда подразделяются: на вво...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T16:21:36.054Z'
}
{
  documentName: 'document4.md',
  chunksCreated: 8,
  chunkSizes: [
    213, 993, 905,
    513, 823, 926,
    899, 938
  ],
  chunkPreviews: [
    {
      size: 213,
      preview: 'Какие бывают виды инструктажей по охране труда\r\n' +
        '\r\n' +
        'Инструктажи по охране труда подразделяются: на вво...'
    },
    {
      size: 993,
      preview: 'Инструктажи по охране труда подразделяются: на вводный, инструктаж по охране труда на рабочем месте ...'
    },
    {
      size: 905,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кому нужно проводить вводный инструктаж по охране труда\r\n' +
        '2. Кому нужно проводить п...'
    },
    {
      size: 513,
      preview: 'SAMPLE Образец приказа о проведении вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '7. Кому нужно проводить ...'
    },
    {
      size: 823,
      preview: 'В то же время некоторых работников можно освободить от первичного инструктажа (п. 13 Правил обучения...'
    },
    {
      size: 926,
      preview: 'Кто должен проводить инструктаж по охране труда на рабочем месте генеральному директору\r\n' +
        'Если генера...'
    },
    {
      size: 899,
      preview: '4. Кому и для каких целей нужно проводить внеплановый инструктаж по охране труда на рабочем месте\r\n' +
        ' ...'
    },
    {
      size: 938,
      preview: '5. Кому и для каких целей нужно проводить целевой инструктаж по охране труда\r\n' +
        '   Целевой инструктаж ...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T16:21:36.055Z'
}
{
  chunksCreated: 8,
  fileName: 'document4.md',
  level: 'info',
  message: 'Added document to vector store: document4.md',
  timestamp: '2025-02-08T16:21:36.950Z'
}
{
  totalFiles: 4,
  totalDocumentsProcessed: 4,
  totalChunksCreated: 54,
  failedFiles: [],
  vectorStoreStatus: Promise { <pending> },
  level: 'info',
  message: 'Document loading process completed',
  timestamp: '2025-02-08T16:21:36.951Z'
}
{
  initialDocumentCount: 0,
  finalDocumentCount: 311,
  documentsAdded: 311,
  level: 'info',
  message: 'Document loading completed successfully',
  timestamp: '2025-02-08T16:21:36.964Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T16:23:25.339Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-08T16:23:33.431Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Заключение виды инструктажей при приеме на работу',
          additional_kwargs: {},
          response_metadata: {},
          id: 'ac76f77c-1165-4f97-b384-c5b7992e0d2d'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Заключение виды инструктажей при приеме на работу',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: 'ac76f77c-1165-4f97-b384-c5b7992e0d2d'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-08T16:23:33.435Z'
}
{
  title: 'Виды инструктажей при приеме',
  contentLength: 1319,
  level: 'info',
  message: 'Adding generated artifact to vector store',
  timestamp: '2025-02-08T16:23:40.445Z'
}
{
  title: 'Виды инструктажей при приеме',
  level: 'info',
  message: 'Successfully added artifact to vector store',
  timestamp: '2025-02-08T16:23:41.314Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-08T16:23:43.053Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-08T16:23:43.054Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T16:24:26.321Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-08T16:24:26.322Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Заключение виды инструктажей при приеме на работу',
          additional_kwargs: {},
          response_metadata: {},
          id: 'ac76f77c-1165-4f97-b384-c5b7992e0d2d'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Заключение виды инструктажей при приеме на работу',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: 'ac76f77c-1165-4f97-b384-c5b7992e0d2d'
      },
      AIMessageChunk {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Представляю вашему вниманию заключение о видах инструктажей при приеме на работу. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуется внести какие-либо изменения или уточнения.',
          additional_kwargs: {},
          response_metadata: {
            usage: {
              prompt_tokens: 779,
              completion_tokens: 48,
              total_tokens: 827,
              prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
              completion_tokens_details: {
                reasoning_tokens: 0,
                audio_tokens: 0,
                accepted_prediction_tokens: 0,
                rejected_prediction_tokens: 0
              }
            }
          },
          tool_call_chunks: [],
          id: 'chatcmpl-AyhuIw6xNAXcLYtdYjB76hyl9InI6',
          tool_calls: [],
          invalid_tool_calls: [],
          usage_metadata: undefined
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Представляю вашему вниманию заключение о видах инструктажей при приеме на работу. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуется внести какие-либо изменения или уточнения.',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {
          usage: {
            prompt_tokens: 779,
            completion_tokens: 48,
            total_tokens: 827,
            prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
            completion_tokens_details: {
              reasoning_tokens: 0,
              audio_tokens: 0,
              accepted_prediction_tokens: 0,
              rejected_prediction_tokens: 0
            }
          }
        },
        id: 'chatcmpl-AyhuIw6xNAXcLYtdYjB76hyl9InI6',
        tool_calls: [],
        invalid_tool_calls: [],
        tool_call_chunks: [],
        usage_metadata: undefined
      }
    ],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Виды инструктажей при приеме',
          fullMarkdown: '# Заключение о видах инструктажей при приеме на работу\n' +
            '\n' +
            '## Введение\n' +
            '\n' +
            'Данное заключение подготовлено в целях определения видов инструктажей, необходимых для организации безопасного и эффективного труда работников при их приеме на работу.\n' +
            '\n' +
            '## Виды инструктажей\n' +
            '\n' +
            '1.  **Первичный инструктаж**\\\n' +
            '    1.1. Цель: ознакомление нового работника с общими правилами безопасности труда, внутренними распорядками и организацией рабочего места.\\\n' +
            '    1.2. Проводится до начала выполнения работ.\n' +
            '2.  **Повторный инструктаж**\\\n' +
            '    2.1. Цель: обновление знаний работников о правилах безопасности и охраны труда.\\\n' +
            '    2.2. Проводится не реже одного раза в год.\n' +
            '3.  **Внеплановый инструктаж**\\\n' +
            '    3.1. Цель: обучение работников в случае изменения условий труда, внедрения новых технологий или оборудования.\\\n' +
            '    3.2. Проводится по мере необходимости.\n' +
            '4.  **Целевой инструктаж**\\\n' +
            '    4.1. Цель: подготовка работников к выполнению конкретных работ или задач, требующих особых знаний и навыков.\\\n' +
            '    4.2. Проводится перед началом выполнения специализированных работ.\n' +
            '\n' +
            '## Заключение\n' +
            '\n' +
            'Соблюдение указанных видов инструктажей при приеме на работу является обязательным для обеспечения безопасности труда и здоровья работников. Рекомендуется вести учет проведенных инструктажей и их результатов для повышения уровня безопасности на предприятии.\n'
        }
      ]
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-08T16:24:26.326Z'
}
{
  title: 'Заключение по инструктажам',
  contentLength: 1576,
  version: 2,
  level: 'info',
  message: 'Adding rewritten artifact to vector store',
  timestamp: '2025-02-08T16:24:36.164Z'
}
{
  title: 'Заключение по инструктажам',
  version: 2,
  level: 'info',
  message: 'Successfully added rewritten artifact to vector store',
  timestamp: '2025-02-08T16:24:37.045Z'
}
{
  message: 'Checking if title generation is needed. Message count: 3',
  level: 'info',
  timestamp: '2025-02-08T16:24:42.140Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  cwd: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas',
  level: 'info',
  message: 'Starting document loading process',
  timestamp: '2025-02-08T16:56:40.076Z'
}
{
  isInitialized: false,
  documentCount: 0,
  level: 'info',
  message: 'Initial vector store status',
  timestamp: '2025-02-08T16:56:40.079Z'
}
{
  message: 'Clearing existing documents from vector store',
  level: 'info',
  timestamp: '2025-02-08T16:56:40.081Z'
}
{
  error: '\n' +
    '                You must provide either ids, where, or where_document to delete. If\n' +
    '                you want to delete all data in a collection you can delete the\n' +
    '                collection itself using the delete_collection method. Or alternatively,\n' +
    '                you can get() all the relevant ids and then delete them.\n' +
    '                ',
  level: 'warn',
  message: 'Failed to clear vector store',
  timestamp: '2025-02-08T16:56:40.227Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 1,
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-08T16:56:40.229Z'
}
{
  fileCount: 4,
  files: [
    { name: 'document1.md', extension: '.md' },
    { name: 'document2.md', extension: '.md' },
    { name: 'document3.md', extension: '.md' },
    { name: 'document4.md', extension: '.md' }
  ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-08T16:56:40.231Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T16:56:40.233Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkSizes: [
    973, 901, 971, 937,
    972, 861, 915, 775,
    903, 648, 580, 875,
    274
  ],
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T16:56:40.237Z'
}
{
  chunksCreated: 13,
  fileName: 'document1.md',
  level: 'info',
  message: 'Added document to vector store: document1.md',
  timestamp: '2025-02-08T16:56:42.924Z'
}
{
  documentName: 'document2.md',
  contentLength: 8574,
  contentPreview: 'Как провести вводный инструктаж по охране труда\r\n' +
    '\r\n' +
    'Вводный инструктаж по охране труда обязаны провод...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T16:56:42.926Z'
}
{
  documentName: 'document2.md',
  chunksCreated: 11,
  chunkSizes: [
    957, 775, 868, 650,
    949, 681, 922, 878,
    954, 890, 938
  ],
  chunkPreviews: [
    {
      size: 957,
      preview: 'Как провести вводный инструктаж по охране труда\r\n' +
        '\r\n' +
        'Вводный инструктаж по охране труда обязаны провод...'
    },
    {
      size: 775,
      preview: '5. Каковы риски в случае непроведения вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '6. Кто проводит вводны...'
    },
    {
      size: 868,
      preview: 'Работники организации (ИП), проводящие инструктаж, должны пройти обучение требованиям охраны труда в...'
    },
    {
      size: 650,
      preview: '2.1. Каков срок проведения вводного инструктажа по охране труда\r\n' +
        'Вводный инструктаж по охране труда ...'
    },
    {
      size: 949,
      preview: 'Инструктаж по охране труда на рабочем месте (в том числе и первичный) проводится в объеме мероприяти...'
    },
    {
      size: 681,
      preview: 'Для проведения вводного инструктажа вам нужно (п. п. 9, 11, 69, 88 Правил обучения по охране труда):...'
    },
    {
      size: 922,
      preview: 'Вводный инструктаж завершается проверкой знания требований охраны труда. Это неотъемлемая часть пров...'
    },
    {
      size: 878,
      preview: 'В Приложении N 1 указаны следующие темы для программы вводного инструктажа по охране труда:\r\n' +
        '\r\n' +
        '- Све...'
    },
    {
      size: 954,
      preview: '- Действия работников при возникновении возможных аварийных ситуаций. Виды сигнализаций и звуковых о...'
    },
    {
      size: 890,
      preview: 'Обратите внимание, что положения о ведении электронного документооборота в сфере трудовых отношений ...'
    },
    {
      size: 938,
      preview: '- фамилию, имя, отчество (при наличии), профессию (должность) работника, проводившего инструктаж;\r\n' +
        '-...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T16:56:42.926Z'
}
{
  chunksCreated: 11,
  fileName: 'document2.md',
  level: 'info',
  message: 'Added document to vector store: document2.md',
  timestamp: '2025-02-08T16:56:45.166Z'
}
{
  documentName: 'document3.md',
  contentLength: 17193,
  contentPreview: 'Как проводятся противопожарные инструктажи\r\n' +
    '\r\n' +
    'Допускать к работе на объекте защиты сотрудников можно...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T16:56:45.168Z'
}
{
  documentName: 'document3.md',
  chunksCreated: 22,
  chunkSizes: [
    947, 917, 886, 854, 962,
    831, 909, 880, 961, 854,
    988, 919, 972, 970, 841,
    956, 933, 761, 871, 927,
    982, 143
  ],
  chunkPreviews: [
    {
      size: 947,
      preview: 'Как проводятся противопожарные инструктажи\r\n' +
        '\r\n' +
        'Допускать к работе на объекте защиты сотрудников можно...'
    },
    {
      size: 917,
      preview: '3. Как проводится первичный противопожарный инструктаж на рабочем месте\r\n' +
        '4. Как проводится повторный...'
    },
    {
      size: 886,
      preview: 'Обучение мерам пожарной безопасности осуществляется, в частности, по программам противопожарного инс...'
    },
    {
      size: 854,
      preview: '- изучения ими действий в случае возникновения пожара.\r\n' +
        '  Проведите противопожарный инструктаж в соо...'
    },
    {
      size: 962,
      preview: 'Противопожарный инструктаж завершается проверкой знаний и умений на предмет их соответствия требован...'
    },
    {
      size: 831,
      preview: '1.1. Кто проводит противопожарный инструктаж\r\n' +
        '  Противопожарный инструктаж проводят лица, которые ос...'
    },
    {
      size: 909,
      preview: 'Такими лицами могут быть (п. п. 7, 8 Приложения N 1 к этому Приказу):\r\n' +
        '- руководитель организации;\r\n' +
        '...'
    },
    {
      size: 880,
      preview: '- на вводный;\r\n' +
        '- первичный на рабочем месте;\r\n' +
        '- повторный;\r\n' +
        '- внеплановый;\r\n' +
        '- целевой.\r\n' +
        '\r\n' +
        '2. Как про...'
    },
    {
      size: 961,
      preview: 'При совмещении вводного противопожарного инструктажа и первичного противопожарного инструктажа на ра...'
    },
    {
      size: 854,
      preview: '- права и обязанности в области пожарной безопасности лиц, которые осуществляют трудовую или служебн...'
    },
    {
      size: 988,
      preview: 'Этот вид инструктажа нужно провести непосредственно на рабочем месте до начала трудовой (служебной) ...'
    },
    {
      size: 919,
      preview: '- общие сведения о взрывопожарной и пожарной опасности веществ и материалов, изготавливаемой продукц...'
    },
    {
      size: 972,
      preview: '- о лицах, которые осуществляют трудовую (служебную) деятельность в организации, связанную с охраной...'
    },
    {
      size: 970,
      preview: 'б) отнесены к категориям повышенной взрывопожароопасности, взрывопожароопасности, пожароопасности.\r\n' +
        '...'
    },
    {
      size: 841,
      preview: '5. Как проводится внеплановый противопожарный инструктаж\r\n' +
        '   Провести внеплановый противопожарный ин...'
    },
    {
      size: 956,
      preview: '- лица, осуществляющие трудовую или служебную деятельность в организации, допустили нарушения обязат...'
    },
    {
      size: 933,
      preview: '- руководитель организации или назначенное им лицо приняло соответствующее решение.\r\n' +
        '\r\n' +
        '  5.1. Как со...'
    },
    {
      size: 761,
      preview: 'В частности, его проводят (п. 18 Приложения N 1 к Приказу N 806):\r\n' +
        '\r\n' +
        '- перед выполнением огневых раб...'
    },
    {
      size: 871,
      preview: '7. Как заполнить журнал учета противопожарных инструктажей\r\n' +
        '   Должностное лицо, которое проводило п...'
    },
    {
      size: 927,
      preview: 'Запись в журнале не требуется, если оформляется наряд-допуск на выполнение огневых работ (п. 23 Прил...'
    },
    {
      size: 982,
      preview: 'Обратите внимание, что результаты проведения противопожарных инструктажей и проверки знаний и умений...'
    },
    {
      size: 143,
      preview: 'SAMPLE Образец заполнения журнала учета противопожарных инструктажей (на примере ситуации, когда про...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T16:56:45.168Z'
}
{
  chunksCreated: 22,
  fileName: 'document3.md',
  level: 'info',
  message: 'Added document to vector store: document3.md',
  timestamp: '2025-02-08T16:56:47.074Z'
}
{
  documentName: 'document4.md',
  contentLength: 5394,
  contentPreview: 'Какие бывают виды инструктажей по охране труда\r\n' +
    '\r\n' +
    'Инструктажи по охране труда подразделяются: на вво...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T16:56:47.076Z'
}
{
  documentName: 'document4.md',
  chunksCreated: 8,
  chunkSizes: [
    213, 993, 905,
    513, 823, 926,
    899, 938
  ],
  chunkPreviews: [
    {
      size: 213,
      preview: 'Какие бывают виды инструктажей по охране труда\r\n' +
        '\r\n' +
        'Инструктажи по охране труда подразделяются: на вво...'
    },
    {
      size: 993,
      preview: 'Инструктажи по охране труда подразделяются: на вводный, инструктаж по охране труда на рабочем месте ...'
    },
    {
      size: 905,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кому нужно проводить вводный инструктаж по охране труда\r\n' +
        '2. Кому нужно проводить п...'
    },
    {
      size: 513,
      preview: 'SAMPLE Образец приказа о проведении вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '7. Кому нужно проводить ...'
    },
    {
      size: 823,
      preview: 'В то же время некоторых работников можно освободить от первичного инструктажа (п. 13 Правил обучения...'
    },
    {
      size: 926,
      preview: 'Кто должен проводить инструктаж по охране труда на рабочем месте генеральному директору\r\n' +
        'Если генера...'
    },
    {
      size: 899,
      preview: '4. Кому и для каких целей нужно проводить внеплановый инструктаж по охране труда на рабочем месте\r\n' +
        ' ...'
    },
    {
      size: 938,
      preview: '5. Кому и для каких целей нужно проводить целевой инструктаж по охране труда\r\n' +
        '   Целевой инструктаж ...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T16:56:47.076Z'
}
{
  chunksCreated: 8,
  fileName: 'document4.md',
  level: 'info',
  message: 'Added document to vector store: document4.md',
  timestamp: '2025-02-08T16:56:48.642Z'
}
{
  totalFiles: 4,
  totalDocumentsProcessed: 4,
  totalChunksCreated: 54,
  failedFiles: [],
  vectorStoreStatus: Promise { <pending> },
  level: 'info',
  message: 'Document loading process completed',
  timestamp: '2025-02-08T16:56:48.643Z'
}
{
  initialDocumentCount: 0,
  finalDocumentCount: 367,
  documentsAdded: 367,
  level: 'info',
  message: 'Document loading completed successfully',
  timestamp: '2025-02-08T16:56:48.656Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T16:58:26.989Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-08T16:58:29.488Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Заключение по видам инструктажа при приеме на работу',
          additional_kwargs: {},
          response_metadata: {},
          id: 'be015cab-9596-4722-95bb-11ec33057f5e'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Заключение по видам инструктажа при приеме на работу',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: 'be015cab-9596-4722-95bb-11ec33057f5e'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-08T16:58:29.495Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-08T16:58:47.792Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-08T16:58:47.793Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T16:59:13.601Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-08T16:59:13.602Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Заключение по видам инструктажа при приеме на работу',
          additional_kwargs: {},
          response_metadata: {},
          id: 'be015cab-9596-4722-95bb-11ec33057f5e'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Заключение по видам инструктажа при приеме на работу',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: 'be015cab-9596-4722-95bb-11ec33057f5e'
      },
      AIMessageChunk {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Ваше заключение по видам инструктажа при приеме на работу готово. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуется внести изменения или дополнения.',
          additional_kwargs: {},
          response_metadata: {
            usage: {
              prompt_tokens: 1059,
              completion_tokens: 43,
              total_tokens: 1102,
              prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
              completion_tokens_details: {
                reasoning_tokens: 0,
                audio_tokens: 0,
                accepted_prediction_tokens: 0,
                rejected_prediction_tokens: 0
              }
            }
          },
          tool_call_chunks: [],
          id: 'chatcmpl-AyiSFb9KCmtyuZghO6AYr2ZdhJOki',
          tool_calls: [],
          invalid_tool_calls: [],
          usage_metadata: undefined
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Ваше заключение по видам инструктажа при приеме на работу готово. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуется внести изменения или дополнения.',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {
          usage: {
            prompt_tokens: 1059,
            completion_tokens: 43,
            total_tokens: 1102,
            prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
            completion_tokens_details: {
              reasoning_tokens: 0,
              audio_tokens: 0,
              accepted_prediction_tokens: 0,
              rejected_prediction_tokens: 0
            }
          }
        },
        id: 'chatcmpl-AyiSFb9KCmtyuZghO6AYr2ZdhJOki',
        tool_calls: [],
        invalid_tool_calls: [],
        tool_call_chunks: [],
        usage_metadata: undefined
      }
    ],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Инструктаж при приеме на работу',
          fullMarkdown: 'Введение\n' +
            '\n' +
            'При приеме на работу работодатель обязан обеспечить проведение инструктажа для нового сотрудника в соответствии с требованиями трудового законодательства и иных нормативных актов. Данное заключение рассматривает виды инструктажа, которые необходимо организовать при приеме на работу, а также их правовую основу.\n' +
            '\n' +
            '1.  Вводный инструктаж\n' +
            '\n' +
            'Вводный инструктаж проводится со всеми вновь принимаемыми на работу сотрудниками, независимо от их образования, стажа работы по специальности и должности. Основная цель вводного инструктажа - ознакомление работников с общими правилами охраны труда, установленными в организации. Вводный инструктаж проводится специалистом по охране труда или иным уполномоченным лицом.\n' +
            '\n' +
            'Правовая основа: Трудовой кодекс Российской Федерации, статьи 212, 225.\n' +
            '\n' +
            '1.  Первичный инструктаж на рабочем месте\n' +
            '\n' +
            'Первичный инструктаж на рабочем месте проводится непосредственно на рабочем месте до начала самостоятельной работы. Цель данного инструктажа - ознакомление работника с особенностями работы на его конкретном рабочем месте, с оборудованием, инструментами, материалами и безопасными методами выполнения работ.\n' +
            '\n' +
            'Правовая основа: Постановление Минтруда России от 13.01.2003 N 1/29 "Об утверждении Порядка обучения по охране труда и проверки знаний требований охраны труда работников организаций".\n' +
            '\n' +
            '1.  Повторный инструктаж\n' +
            '\n' +
            'Повторный инструктаж проводится для всех работников не реже одного раза в полгода. Он направлен на закрепление знаний, полученных в ходе первичного инструктажа, и актуализацию информации о новых требованиях охраны труда.\n' +
            '\n' +
            'Правовая основа: Постановление Минтруда России от 13.01.2003 N 1/29.\n' +
            '\n' +
            '1.  Внеплановый инструктаж\n' +
            '\n' +
            'Внеплановый инструктаж проводится в случае изменения условий труда, внедрения нового оборудования или технологий, а также при нарушениях правил охраны труда, которые могли повлечь за собой несчастные случаи.\n' +
            '\n' +
            'Правовая основа: Постановление Минтруда России от 13.01.2003 N 1/29.\n' +
            '\n' +
            '1.  Целевой инструктаж\n' +
            '\n' +
            'Целевой инструктаж проводится при выполнении разовых работ, не связанных с прямыми обязанностями работника, а также при ликвидации аварий, стихийных бедствий и других чрезвычайных ситуаций.\n' +
            '\n' +
            'Правовая основа: Постановление Минтруда России от 13.01.2003 N 1/29.\n' +
            '\n' +
            'Заключение\n' +
            '\n' +
            'Все виды инструктажа являются обязательными и должны проводиться в строгом соответствии с установленными нормами и правилами. Несоблюдение данных требований может повлечь за собой административную ответственность для работодателя. Рекомендуется регулярно проверять актуальность инструктажей и своевременно обновлять программы обучения.\n'
        }
      ]
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-08T16:59:13.606Z'
}
{
  error: Error: Vector store is empty
      at performVectorSearch (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\rag\vector_store.ts:88:27)
      at async retryWithBackoff (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\agent\open-canvas\nodes\ragRetrieval.ts:25:14)
      at async RunnableCallable.ragRetrievalNode (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\agent\open-canvas\nodes\ragRetrieval.ts:142:30)
      at async RunnableCallable.invoke (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\utils.cjs:82:27)
      at async RunnableSequence.invoke (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\core\dist\runnables\base.cjs:1162:33)
      at async _runWithRetry (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\retry.cjs:99:22)
      at async executeTasksWithRetry (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\retry.cjs:72:29)
      at async CompiledStateGraph._streamIterator (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\index.cjs:764:48)
      at async Object.pull (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\core\dist\utils\stream.cjs:103:41),
  level: 'error',
  message: 'Vector search failed',
  timestamp: '2025-02-08T16:59:13.620Z'
}
{
  error: Error: Vector store is empty
      at performVectorSearch (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\rag\vector_store.ts:88:27)
      at runNextTicks (node:internal/process/task_queues:65:5)
      at process.processTimers (node:internal/timers:526:9)
      at async retryWithBackoff (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\agent\open-canvas\nodes\ragRetrieval.ts:25:14)
      at async RunnableCallable.ragRetrievalNode (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\agent\open-canvas\nodes\ragRetrieval.ts:142:30)
      at async RunnableCallable.invoke (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\utils.cjs:82:27)
      at async RunnableSequence.invoke (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\core\dist\runnables\base.cjs:1162:33)
      at async _runWithRetry (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\retry.cjs:99:22)
      at async executeTasksWithRetry (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\retry.cjs:72:29)
      at async CompiledStateGraph._streamIterator (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\index.cjs:764:48),
  level: 'error',
  message: 'Vector search failed',
  timestamp: '2025-02-08T16:59:14.636Z'
}
{
  error: Error: Vector store is empty
      at performVectorSearch (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\rag\vector_store.ts:88:27)
      at runNextTicks (node:internal/process/task_queues:65:5)
      at process.processTimers (node:internal/timers:526:9)
      at async retryWithBackoff (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\agent\open-canvas\nodes\ragRetrieval.ts:25:14)
      at async RunnableCallable.ragRetrievalNode (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\agent\open-canvas\nodes\ragRetrieval.ts:142:30)
      at async RunnableCallable.invoke (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\utils.cjs:82:27)
      at async RunnableSequence.invoke (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\core\dist\runnables\base.cjs:1162:33)
      at async _runWithRetry (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\retry.cjs:99:22)
      at async executeTasksWithRetry (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\retry.cjs:72:29)
      at async CompiledStateGraph._streamIterator (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\index.cjs:764:48),
  level: 'error',
  message: 'Vector search failed',
  timestamp: '2025-02-08T16:59:16.653Z'
}
{
  error: 'Vector store is empty',
  type: 'Error',
  level: 'error',
  message: 'Error during RAG retrieval',
  timestamp: '2025-02-08T16:59:16.655Z'
}
{
  message: 'Checking if title generation is needed. Message count: 3',
  level: 'info',
  timestamp: '2025-02-08T16:59:25.964Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T17:03:27.892Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-08T17:03:32.248Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Заключение по видам инструктажа при приеме на работу',
          additional_kwargs: {},
          response_metadata: {},
          id: 'b4ad0772-321f-4214-b121-bbc1fef87564'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Заключение по видам инструктажа при приеме на работу',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: 'b4ad0772-321f-4214-b121-bbc1fef87564'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-08T17:03:32.253Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-08T17:03:45.133Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-08T17:03:45.134Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T17:04:07.584Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-08T17:04:07.585Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Заключение по видам инструктажа при приеме на работу',
          additional_kwargs: {},
          response_metadata: {},
          id: 'b4ad0772-321f-4214-b121-bbc1fef87564'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Заключение по видам инструктажа при приеме на работу',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: 'b4ad0772-321f-4214-b121-bbc1fef87564'
      },
      AIMessageChunk {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Подготовлено заключение по видам инструктажа при приеме на работу. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуются дополнительные уточнения или изменения.',
          additional_kwargs: {},
          response_metadata: {
            usage: {
              prompt_tokens: 888,
              completion_tokens: 42,
              total_tokens: 930,
              prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
              completion_tokens_details: {
                reasoning_tokens: 0,
                audio_tokens: 0,
                accepted_prediction_tokens: 0,
                rejected_prediction_tokens: 0
              }
            }
          },
          tool_call_chunks: [],
          id: 'chatcmpl-AyiX2Q5FCBqjokpsoQk3Yju963vof',
          tool_calls: [],
          invalid_tool_calls: [],
          usage_metadata: undefined
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Подготовлено заключение по видам инструктажа при приеме на работу. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуются дополнительные уточнения или изменения.',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {
          usage: {
            prompt_tokens: 888,
            completion_tokens: 42,
            total_tokens: 930,
            prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
            completion_tokens_details: {
              reasoning_tokens: 0,
              audio_tokens: 0,
              accepted_prediction_tokens: 0,
              rejected_prediction_tokens: 0
            }
          }
        },
        id: 'chatcmpl-AyiX2Q5FCBqjokpsoQk3Yju963vof',
        tool_calls: [],
        invalid_tool_calls: [],
        tool_call_chunks: [],
        usage_metadata: undefined
      }
    ],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Виды инструктажа при приеме на работу',
          fullMarkdown: '**Заключение по видам инструктажа при приеме на работу**\n' +
            '\n' +
            'В соответствии с действующим законодательством Российской Федерации, при приеме на работу работники обязаны пройти следующие виды инструктажа:\n' +
            '\n' +
            '1.  **Вводный инструктаж**:\n' +
            '\n' +
            '    *   Проводится со всеми вновь принимаемыми на работу сотрудниками независимо от их профессии и должности.\n' +
            '    *   Цель: ознакомление с организацией, основными положениями охраны труда, правилами внутреннего трудового распорядка и другими локальными нормативными актами.\n' +
            '\n' +
            '2.  **Первичный инструктаж на рабочем месте**:\n' +
            '\n' +
            '    *   Проводится на рабочем месте до начала самостоятельной работы.\n' +
            '    *   Цель: ознакомление с особенностями конкретного рабочего места, оборудованием, инструментами, а также с потенциальными опасностями и методами их предотвращения.\n' +
            '\n' +
            '3.  **Повторный инструктаж**:\n' +
            '\n' +
            '    *   Проводится периодически в течение трудовой деятельности.\n' +
            '    *   Цель: обновление знаний работников о правилах и нормах охраны труда.\n' +
            '\n' +
            '4.  **Внеплановый инструктаж**:\n' +
            '\n' +
            '    *   Проводится в случае изменения условий труда, внедрения новых технологий, оборудования, а также после несчастных случаев на производстве.\n' +
            '    *   Цель: адаптация работников к новым условиям и повышение их безопасности.\n' +
            '\n' +
            '5.  **Целевой инструктаж**:\n' +
            '\n' +
            '    *   Проводится при выполнении разовых работ, не связанных с прямыми обязанностями, а также при ликвидации аварий или стихийных бедствий.\n' +
            '    *   Цель: обеспечение безопасности при выполнении специфических задач.\n' +
            '\n' +
            'Каждый из перечисленных видов инструктажа должен быть документально оформлен, с указанием даты проведения, содержания инструктажа и подписей инструктора и работника.\n' +
            '\n' +
            'Заключение: Соблюдение указанных видов инструктажа является обязательным условием для обеспечения безопасных условий труда и предотвращения производственного травматизма. Работодатели должны обеспечить проведение всех видов инструктажа в соответствии с установленными требованиями и своевременно документировать их проведение.\n'
        }
      ]
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-08T17:04:07.589Z'
}
{
  error: Error: Vector store is empty
      at performVectorSearch (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\rag\vector_store.ts:88:27)
      at runNextTicks (node:internal/process/task_queues:65:5)
      at process.processTimers (node:internal/timers:526:9)
      at async retryWithBackoff (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\agent\open-canvas\nodes\ragRetrieval.ts:25:14)
      at async RunnableCallable.ragRetrievalNode (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\agent\open-canvas\nodes\ragRetrieval.ts:142:30)
      at async RunnableCallable.invoke (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\utils.cjs:82:27)
      at async RunnableSequence.invoke (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\core\dist\runnables\base.cjs:1162:33)
      at async _runWithRetry (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\retry.cjs:99:22)
      at async executeTasksWithRetry (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\retry.cjs:72:29)
      at async CompiledStateGraph._streamIterator (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\index.cjs:764:48),
  level: 'error',
  message: 'Vector search failed',
  timestamp: '2025-02-08T17:04:07.598Z'
}
{
  error: Error: Vector store is empty
      at performVectorSearch (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\rag\vector_store.ts:88:27)
      at async retryWithBackoff (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\agent\open-canvas\nodes\ragRetrieval.ts:25:14)
      at async RunnableCallable.ragRetrievalNode (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\agent\open-canvas\nodes\ragRetrieval.ts:142:30)
      at async RunnableCallable.invoke (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\utils.cjs:82:27)
      at async RunnableSequence.invoke (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\core\dist\runnables\base.cjs:1162:33)
      at async _runWithRetry (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\retry.cjs:99:22)
      at async executeTasksWithRetry (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\retry.cjs:72:29)
      at async CompiledStateGraph._streamIterator (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\index.cjs:764:48)
      at async Object.pull (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\core\dist\utils\stream.cjs:103:41),
  level: 'error',
  message: 'Vector search failed',
  timestamp: '2025-02-08T17:04:08.604Z'
}
{
  error: Error: Vector store is empty
      at performVectorSearch (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\rag\vector_store.ts:88:27)
      at runNextTicks (node:internal/process/task_queues:65:5)
      at process.processTimers (node:internal/timers:526:9)
      at async retryWithBackoff (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\agent\open-canvas\nodes\ragRetrieval.ts:25:14)
      at async RunnableCallable.ragRetrievalNode (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\agent\open-canvas\nodes\ragRetrieval.ts:142:30)
      at async RunnableCallable.invoke (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\utils.cjs:82:27)
      at async RunnableSequence.invoke (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\core\dist\runnables\base.cjs:1162:33)
      at async _runWithRetry (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\retry.cjs:99:22)
      at async executeTasksWithRetry (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\retry.cjs:72:29)
      at async CompiledStateGraph._streamIterator (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\index.cjs:764:48),
  level: 'error',
  message: 'Vector search failed',
  timestamp: '2025-02-08T17:04:10.637Z'
}
{
  error: 'Vector store is empty',
  type: 'Error',
  level: 'error',
  message: 'Error during RAG retrieval',
  timestamp: '2025-02-08T17:04:10.638Z'
}
{
  title: 'Виды инструктажа при приеме на работу',
  contentLength: 2034,
  version: 2,
  level: 'info',
  message: 'Adding rewritten artifact to vector store',
  timestamp: '2025-02-08T17:04:26.073Z'
}
{
  title: 'Виды инструктажа при приеме на работу',
  version: 2,
  level: 'info',
  message: 'Successfully added rewritten artifact to vector store',
  timestamp: '2025-02-08T17:04:27.072Z'
}
{
  message: 'Checking if title generation is needed. Message count: 3',
  level: 'info',
  timestamp: '2025-02-08T17:04:28.806Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T17:06:38.918Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-08T17:06:41.017Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Заключение по видам инструктажа при приеме на работу',
          additional_kwargs: {},
          response_metadata: {},
          id: '1d1bad5e-b59b-4556-ba2b-d8ed8880364c'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Заключение по видам инструктажа при приеме на работу',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: '1d1bad5e-b59b-4556-ba2b-d8ed8880364c'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-08T17:06:41.025Z'
}
{
  title: 'Инструктажи при приеме на работу',
  contentLength: 1939,
  level: 'info',
  message: 'Adding generated artifact to vector store',
  timestamp: '2025-02-08T17:06:51.353Z'
}
{
  title: 'Инструктажи при приеме на работу',
  level: 'info',
  message: 'Successfully added artifact to vector store',
  timestamp: '2025-02-08T17:06:53.051Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-08T17:06:54.684Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-08T17:06:54.685Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T17:08:56.384Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-08T17:08:56.385Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Заключение по видам инструктажа при приеме на работу',
          additional_kwargs: {},
          response_metadata: {},
          id: '1d1bad5e-b59b-4556-ba2b-d8ed8880364c'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Заключение по видам инструктажа при приеме на работу',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: '1d1bad5e-b59b-4556-ba2b-d8ed8880364c'
      },
      AIMessageChunk {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Подготовлено заключение по видам инструктажа при приеме на работу. Ознакомьтесь, пожалуйста, с документом и дайте знать, если потребуется внести изменения или дополнения.',
          additional_kwargs: {},
          response_metadata: {
            usage: {
              prompt_tokens: 904,
              completion_tokens: 42,
              total_tokens: 946,
              prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
              completion_tokens_details: {
                reasoning_tokens: 0,
                audio_tokens: 0,
                accepted_prediction_tokens: 0,
                rejected_prediction_tokens: 0
              }
            }
          },
          tool_call_chunks: [],
          id: 'chatcmpl-Ayia6gaA42BUCVTqmDTXbH3NZ6KPF',
          tool_calls: [],
          invalid_tool_calls: [],
          usage_metadata: undefined
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Подготовлено заключение по видам инструктажа при приеме на работу. Ознакомьтесь, пожалуйста, с документом и дайте знать, если потребуется внести изменения или дополнения.',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {
          usage: {
            prompt_tokens: 904,
            completion_tokens: 42,
            total_tokens: 946,
            prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
            completion_tokens_details: {
              reasoning_tokens: 0,
              audio_tokens: 0,
              accepted_prediction_tokens: 0,
              rejected_prediction_tokens: 0
            }
          }
        },
        id: 'chatcmpl-Ayia6gaA42BUCVTqmDTXbH3NZ6KPF',
        tool_calls: [],
        invalid_tool_calls: [],
        tool_call_chunks: [],
        usage_metadata: undefined
      }
    ],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Инструктажи при приеме на работу',
          fullMarkdown: '## Заключение по видам инструктажа при приеме на работу\n' +
            '\n' +
            '### Введение\n' +
            '\n' +
            'Прием на работу нового сотрудника требует выполнения ряда обязательных процедур, одной из которых является проведение инструктажа. Инструктажи проводятся с целью ознакомления работников с правилами безопасности, охраны труда и иными важными аспектами, связанными с их профессиональной деятельностью.\n' +
            '\n' +
            '### Виды инструктажа\n' +
            '\n' +
            '1.  **Вводный инструктаж**\n' +
            '\n' +
            '    *   Проводится со всеми вновь поступающими на работу сотрудниками.\n' +
            '    *   Знакомит с общими правилами безопасности, внутренним распорядком, основами охраны труда и пожарной безопасности.\n' +
            '    *   Осуществляется специалистом по охране труда или иным уполномоченным лицом.\n' +
            '\n' +
            '2.  **Первичный инструктаж на рабочем месте**\n' +
            '\n' +
            '    *   Проводится на рабочем месте с каждым новым сотрудником.\n' +
            '    *   Включает изучение специфики работы, потенциальных опасностей, правил эксплуатации оборудования.\n' +
            '    *   Проводится непосредственным руководителем или назначенным сотрудником.\n' +
            '\n' +
            '3.  **Повторный инструктаж**\n' +
            '\n' +
            '    *   Проводится через определенные промежутки времени с целью обновления знаний сотрудников.\n' +
            '    *   Обычно проводится 1 раз в полгода.\n' +
            '    *   Направлен на закрепление знаний и навыков безопасной работы.\n' +
            '\n' +
            '4.  **Внеплановый инструктаж**\n' +
            '\n' +
            '    *   Проводится при изменении технологических процессов, оборудования, а также после происшествий или нарушений.\n' +
            '    *   Цель - предупреждение повторения аварийных ситуаций.\n' +
            '\n' +
            '5.  **Целевой инструктаж**\n' +
            '\n' +
            '    *   Проводится при выполнении разовых работ, не связанных с прямыми обязанностями сотрудника.\n' +
            '    *   Необходим при выполнении работ повышенной опасности или при организации массовых мероприятий.\n' +
            '\n' +
            '### Заключение\n' +
            '\n' +
            'Проведение инструктажей при приеме на работу является обязательной процедурой, направленной на обеспечение безопасности труда и соблюдение правовых норм. Работодатели обязаны следить за своевременным и качественным проведением всех видов инструктажей, а также за ведением соответствующей документации.\n'
        }
      ]
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-08T17:08:56.390Z'
}
{
  title: 'Виды инструктажа при приеме',
  contentLength: 1964,
  version: 2,
  level: 'info',
  message: 'Adding rewritten artifact to vector store',
  timestamp: '2025-02-08T17:09:12.885Z'
}
{
  title: 'Виды инструктажа при приеме',
  version: 2,
  level: 'info',
  message: 'Successfully added rewritten artifact to vector store',
  timestamp: '2025-02-08T17:09:13.731Z'
}
{
  message: 'Checking if title generation is needed. Message count: 3',
  level: 'info',
  timestamp: '2025-02-08T17:09:15.582Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  cwd: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas',
  level: 'info',
  message: 'Starting document loading process',
  timestamp: '2025-02-08T18:35:27.208Z'
}
{
  isInitialized: false,
  documentCount: 0,
  level: 'info',
  message: 'Initial vector store status',
  timestamp: '2025-02-08T18:35:27.211Z'
}
{
  message: 'Clearing existing documents from vector store',
  level: 'info',
  timestamp: '2025-02-08T18:35:27.212Z'
}
{
  error: '\n' +
    '                You must provide either ids, where, or where_document to delete. If\n' +
    '                you want to delete all data in a collection you can delete the\n' +
    '                collection itself using the delete_collection method. Or alternatively,\n' +
    '                you can get() all the relevant ids and then delete them.\n' +
    '                ',
  level: 'warn',
  message: 'Failed to clear vector store',
  timestamp: '2025-02-08T18:35:27.450Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 1,
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-08T18:35:27.451Z'
}
{
  fileCount: 4,
  files: [
    { name: 'document1.md', extension: '.md' },
    { name: 'document2.md', extension: '.md' },
    { name: 'document3.md', extension: '.md' },
    { name: 'document4.md', extension: '.md' }
  ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-08T18:35:27.453Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T18:35:27.455Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkSizes: [
    973, 901, 971, 937,
    972, 861, 915, 775,
    903, 648, 580, 875,
    274
  ],
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T18:35:27.457Z'
}
{
  chunksCreated: 13,
  fileName: 'document1.md',
  level: 'info',
  message: 'Added document to vector store: document1.md',
  timestamp: '2025-02-08T18:35:30.178Z'
}
{
  documentName: 'document2.md',
  contentLength: 8574,
  contentPreview: 'Как провести вводный инструктаж по охране труда\r\n' +
    '\r\n' +
    'Вводный инструктаж по охране труда обязаны провод...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T18:35:30.179Z'
}
{
  documentName: 'document2.md',
  chunksCreated: 11,
  chunkSizes: [
    957, 775, 868, 650,
    949, 681, 922, 878,
    954, 890, 938
  ],
  chunkPreviews: [
    {
      size: 957,
      preview: 'Как провести вводный инструктаж по охране труда\r\n' +
        '\r\n' +
        'Вводный инструктаж по охране труда обязаны провод...'
    },
    {
      size: 775,
      preview: '5. Каковы риски в случае непроведения вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '6. Кто проводит вводны...'
    },
    {
      size: 868,
      preview: 'Работники организации (ИП), проводящие инструктаж, должны пройти обучение требованиям охраны труда в...'
    },
    {
      size: 650,
      preview: '2.1. Каков срок проведения вводного инструктажа по охране труда\r\n' +
        'Вводный инструктаж по охране труда ...'
    },
    {
      size: 949,
      preview: 'Инструктаж по охране труда на рабочем месте (в том числе и первичный) проводится в объеме мероприяти...'
    },
    {
      size: 681,
      preview: 'Для проведения вводного инструктажа вам нужно (п. п. 9, 11, 69, 88 Правил обучения по охране труда):...'
    },
    {
      size: 922,
      preview: 'Вводный инструктаж завершается проверкой знания требований охраны труда. Это неотъемлемая часть пров...'
    },
    {
      size: 878,
      preview: 'В Приложении N 1 указаны следующие темы для программы вводного инструктажа по охране труда:\r\n' +
        '\r\n' +
        '- Све...'
    },
    {
      size: 954,
      preview: '- Действия работников при возникновении возможных аварийных ситуаций. Виды сигнализаций и звуковых о...'
    },
    {
      size: 890,
      preview: 'Обратите внимание, что положения о ведении электронного документооборота в сфере трудовых отношений ...'
    },
    {
      size: 938,
      preview: '- фамилию, имя, отчество (при наличии), профессию (должность) работника, проводившего инструктаж;\r\n' +
        '-...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T18:35:30.180Z'
}
{
  chunksCreated: 11,
  fileName: 'document2.md',
  level: 'info',
  message: 'Added document to vector store: document2.md',
  timestamp: '2025-02-08T18:35:31.993Z'
}
{
  documentName: 'document3.md',
  contentLength: 17193,
  contentPreview: 'Как проводятся противопожарные инструктажи\r\n' +
    '\r\n' +
    'Допускать к работе на объекте защиты сотрудников можно...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T18:35:31.995Z'
}
{
  documentName: 'document3.md',
  chunksCreated: 22,
  chunkSizes: [
    947, 917, 886, 854, 962,
    831, 909, 880, 961, 854,
    988, 919, 972, 970, 841,
    956, 933, 761, 871, 927,
    982, 143
  ],
  chunkPreviews: [
    {
      size: 947,
      preview: 'Как проводятся противопожарные инструктажи\r\n' +
        '\r\n' +
        'Допускать к работе на объекте защиты сотрудников можно...'
    },
    {
      size: 917,
      preview: '3. Как проводится первичный противопожарный инструктаж на рабочем месте\r\n' +
        '4. Как проводится повторный...'
    },
    {
      size: 886,
      preview: 'Обучение мерам пожарной безопасности осуществляется, в частности, по программам противопожарного инс...'
    },
    {
      size: 854,
      preview: '- изучения ими действий в случае возникновения пожара.\r\n' +
        '  Проведите противопожарный инструктаж в соо...'
    },
    {
      size: 962,
      preview: 'Противопожарный инструктаж завершается проверкой знаний и умений на предмет их соответствия требован...'
    },
    {
      size: 831,
      preview: '1.1. Кто проводит противопожарный инструктаж\r\n' +
        '  Противопожарный инструктаж проводят лица, которые ос...'
    },
    {
      size: 909,
      preview: 'Такими лицами могут быть (п. п. 7, 8 Приложения N 1 к этому Приказу):\r\n' +
        '- руководитель организации;\r\n' +
        '...'
    },
    {
      size: 880,
      preview: '- на вводный;\r\n' +
        '- первичный на рабочем месте;\r\n' +
        '- повторный;\r\n' +
        '- внеплановый;\r\n' +
        '- целевой.\r\n' +
        '\r\n' +
        '2. Как про...'
    },
    {
      size: 961,
      preview: 'При совмещении вводного противопожарного инструктажа и первичного противопожарного инструктажа на ра...'
    },
    {
      size: 854,
      preview: '- права и обязанности в области пожарной безопасности лиц, которые осуществляют трудовую или служебн...'
    },
    {
      size: 988,
      preview: 'Этот вид инструктажа нужно провести непосредственно на рабочем месте до начала трудовой (служебной) ...'
    },
    {
      size: 919,
      preview: '- общие сведения о взрывопожарной и пожарной опасности веществ и материалов, изготавливаемой продукц...'
    },
    {
      size: 972,
      preview: '- о лицах, которые осуществляют трудовую (служебную) деятельность в организации, связанную с охраной...'
    },
    {
      size: 970,
      preview: 'б) отнесены к категориям повышенной взрывопожароопасности, взрывопожароопасности, пожароопасности.\r\n' +
        '...'
    },
    {
      size: 841,
      preview: '5. Как проводится внеплановый противопожарный инструктаж\r\n' +
        '   Провести внеплановый противопожарный ин...'
    },
    {
      size: 956,
      preview: '- лица, осуществляющие трудовую или служебную деятельность в организации, допустили нарушения обязат...'
    },
    {
      size: 933,
      preview: '- руководитель организации или назначенное им лицо приняло соответствующее решение.\r\n' +
        '\r\n' +
        '  5.1. Как со...'
    },
    {
      size: 761,
      preview: 'В частности, его проводят (п. 18 Приложения N 1 к Приказу N 806):\r\n' +
        '\r\n' +
        '- перед выполнением огневых раб...'
    },
    {
      size: 871,
      preview: '7. Как заполнить журнал учета противопожарных инструктажей\r\n' +
        '   Должностное лицо, которое проводило п...'
    },
    {
      size: 927,
      preview: 'Запись в журнале не требуется, если оформляется наряд-допуск на выполнение огневых работ (п. 23 Прил...'
    },
    {
      size: 982,
      preview: 'Обратите внимание, что результаты проведения противопожарных инструктажей и проверки знаний и умений...'
    },
    {
      size: 143,
      preview: 'SAMPLE Образец заполнения журнала учета противопожарных инструктажей (на примере ситуации, когда про...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T18:35:31.995Z'
}
{
  chunksCreated: 22,
  fileName: 'document3.md',
  level: 'info',
  message: 'Added document to vector store: document3.md',
  timestamp: '2025-02-08T18:35:34.866Z'
}
{
  documentName: 'document4.md',
  contentLength: 5394,
  contentPreview: 'Какие бывают виды инструктажей по охране труда\r\n' +
    '\r\n' +
    'Инструктажи по охране труда подразделяются: на вво...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-08T18:35:34.868Z'
}
{
  documentName: 'document4.md',
  chunksCreated: 8,
  chunkSizes: [
    213, 993, 905,
    513, 823, 926,
    899, 938
  ],
  chunkPreviews: [
    {
      size: 213,
      preview: 'Какие бывают виды инструктажей по охране труда\r\n' +
        '\r\n' +
        'Инструктажи по охране труда подразделяются: на вво...'
    },
    {
      size: 993,
      preview: 'Инструктажи по охране труда подразделяются: на вводный, инструктаж по охране труда на рабочем месте ...'
    },
    {
      size: 905,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кому нужно проводить вводный инструктаж по охране труда\r\n' +
        '2. Кому нужно проводить п...'
    },
    {
      size: 513,
      preview: 'SAMPLE Образец приказа о проведении вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '7. Кому нужно проводить ...'
    },
    {
      size: 823,
      preview: 'В то же время некоторых работников можно освободить от первичного инструктажа (п. 13 Правил обучения...'
    },
    {
      size: 926,
      preview: 'Кто должен проводить инструктаж по охране труда на рабочем месте генеральному директору\r\n' +
        'Если генера...'
    },
    {
      size: 899,
      preview: '4. Кому и для каких целей нужно проводить внеплановый инструктаж по охране труда на рабочем месте\r\n' +
        ' ...'
    },
    {
      size: 938,
      preview: '5. Кому и для каких целей нужно проводить целевой инструктаж по охране труда\r\n' +
        '   Целевой инструктаж ...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-08T18:35:34.868Z'
}
{
  chunksCreated: 8,
  fileName: 'document4.md',
  level: 'info',
  message: 'Added document to vector store: document4.md',
  timestamp: '2025-02-08T18:35:36.579Z'
}
{
  totalFiles: 4,
  totalDocumentsProcessed: 4,
  totalChunksCreated: 54,
  failedFiles: [],
  vectorStoreStatus: Promise { <pending> },
  level: 'info',
  message: 'Document loading process completed',
  timestamp: '2025-02-08T18:35:36.579Z'
}
{
  initialDocumentCount: 0,
  finalDocumentCount: 425,
  documentsAdded: 425,
  level: 'info',
  message: 'Document loading completed successfully',
  timestamp: '2025-02-08T18:35:36.603Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T18:36:15.419Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-08T18:36:17.616Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Заключение по видам инструктажа при приеме на работу',
          additional_kwargs: {},
          response_metadata: {},
          id: 'a6db1fc1-fa6f-4a96-b757-a48521f00af1'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Заключение по видам инструктажа при приеме на работу',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: 'a6db1fc1-fa6f-4a96-b757-a48521f00af1'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-08T18:36:17.621Z'
}
{
  title: 'Виды инструктажа',
  contentLength: 52,
  level: 'info',
  message: 'Adding generated artifact to vector store',
  timestamp: '2025-02-08T18:36:19.106Z'
}
{
  title: 'Виды инструктажа',
  level: 'info',
  message: 'Successfully added artifact to vector store',
  timestamp: '2025-02-08T18:36:20.221Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-08T18:36:22.393Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-08T18:36:22.394Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T18:37:25.643Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-08T18:37:25.645Z'
}
{
  currentState: {
    messages: [],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Виды инструктажа',
          fullMarkdown: 'Заключение по видам инструктажа при приеме на работу\n'
        }
      ]
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-08T18:37:25.648Z'
}
{
  title: 'Заключение по инструктажу',
  contentLength: 2295,
  version: 2,
  level: 'info',
  message: 'Adding rewritten artifact to vector store',
  timestamp: '2025-02-08T18:37:37.551Z'
}
{
  title: 'Заключение по инструктажу',
  version: 2,
  level: 'info',
  message: 'Successfully added rewritten artifact to vector store',
  timestamp: '2025-02-08T18:37:38.820Z'
}
{
  message: 'Checking if title generation is needed. Message count: 1',
  level: 'info',
  timestamp: '2025-02-08T18:37:40.056Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-08T18:37:40.056Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T18:39:21.806Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-08T18:39:22.981Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь справку по инструктажу при приеме на работу',
          additional_kwargs: {},
          response_metadata: {},
          id: 'd7858971-e490-4dc3-ba32-7f3bd1d7950f'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь справку по инструктажу при приеме на работу',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: 'd7858971-e490-4dc3-ba32-7f3bd1d7950f'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-08T18:39:22.985Z'
}
{
  title: 'Справка по инструктажу',
  contentLength: 1758,
  level: 'info',
  message: 'Adding generated artifact to vector store',
  timestamp: '2025-02-08T18:39:31.550Z'
}
{
  title: 'Справка по инструктажу',
  level: 'info',
  message: 'Successfully added artifact to vector store',
  timestamp: '2025-02-08T18:39:33.248Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-08T18:39:34.767Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-08T18:39:34.767Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-08T18:40:59.820Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-08T18:40:59.822Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь справку по инструктажу при приеме на работу',
          additional_kwargs: {},
          response_metadata: {},
          id: 'd7858971-e490-4dc3-ba32-7f3bd1d7950f'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь справку по инструктажу при приеме на работу',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: 'd7858971-e490-4dc3-ba32-7f3bd1d7950f'
      },
      AIMessageChunk {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Представляю вам подготовленную справку по инструктажу при приеме на работу. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуется внести изменения или дополнения.',
          additional_kwargs: {},
          response_metadata: {
            usage: {
              prompt_tokens: 878,
              completion_tokens: 45,
              total_tokens: 923,
              prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
              completion_tokens_details: {
                reasoning_tokens: 0,
                audio_tokens: 0,
                accepted_prediction_tokens: 0,
                rejected_prediction_tokens: 0
              }
            }
          },
          tool_call_chunks: [],
          id: 'chatcmpl-Ayk1mEhuvjdk9tFYsZZM954QImzOt',
          tool_calls: [],
          invalid_tool_calls: [],
          usage_metadata: undefined
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Представляю вам подготовленную справку по инструктажу при приеме на работу. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуется внести изменения или дополнения.',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {
          usage: {
            prompt_tokens: 878,
            completion_tokens: 45,
            total_tokens: 923,
            prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
            completion_tokens_details: {
              reasoning_tokens: 0,
              audio_tokens: 0,
              accepted_prediction_tokens: 0,
              rejected_prediction_tokens: 0
            }
          }
        },
        id: 'chatcmpl-Ayk1mEhuvjdk9tFYsZZM954QImzOt',
        tool_calls: [],
        invalid_tool_calls: [],
        tool_call_chunks: [],
        usage_metadata: undefined
      }
    ],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Справка по инструктажу',
          fullMarkdown: '# Справка по инструктажу при приеме на работу\n' +
            '\n' +
            '## Введение\n' +
            '\n' +
            'Данная справка предназначена для ознакомления сотрудников с основными аспектами инструктажа, проводимого при приеме на работу. Инструктаж является важной частью процесса адаптации новых сотрудников и обеспечивает их понимание должностных обязанностей, правил внутреннего распорядка и мер безопасности.\n' +
            '\n' +
            '## Цели инструктажа\n' +
            '\n' +
            '1.  Обеспечение понимания новых сотрудников своих должностных обязанностей.\n' +
            '2.  Ознакомление с внутренними регламентами и правилами компании.\n' +
            '3.  Обучение мерам безопасности и охраны труда.\n' +
            '4.  Формирование корпоративной культуры и ценностей компании.\n' +
            '\n' +
            '## Основные разделы инструктажа\n' +
            '\n' +
            '1.  **Общие сведения о компании**\n' +
            '\n' +
            '    *   История и миссия компании\n' +
            '    *   Структура организации\n' +
            '    *   Основные направления деятельности\n' +
            '\n' +
            '2.  **Должностные обязанности**\n' +
            '\n' +
            '    *   Описание должности\n' +
            '    *   Основные задачи и функции\n' +
            '    *   Ожидаемые результаты работы\n' +
            '\n' +
            '3.  **Правила внутреннего распорядка**\n' +
            '\n' +
            '    *   Часы работы\n' +
            '    *   Поведение на рабочем месте\n' +
            '    *   Условия трудовой дисциплины\n' +
            '\n' +
            '4.  **Меры безопасности**\n' +
            '\n' +
            '    *   Правила охраны труда\n' +
            '    *   Порядок действия в экстренных ситуациях\n' +
            '    *   Использование средств индивидуальной защиты\n' +
            '\n' +
            '5.  **Корпоративная культура**\n' +
            '\n' +
            '    *   Ценности компании\n' +
            '    *   Ожидания от сотрудников\n' +
            '    *   Важность командной работы\n' +
            '\n' +
            '## Заключение\n' +
            '\n' +
            'Инструктаж при приеме на работу является неотъемлемой частью процесса адаптации новых сотрудников. Он помогает создать комфортные условия для работы, повысить безопасность и улучшить производительность труда. Рекомендуется проводить инструктаж в формате диалога, чтобы новые сотрудники могли задать вопросы и получить необходимые разъяснения.\n' +
            '\n' +
            '## Подпись\n' +
            '\n' +
            '[ФИО ответственного лица]\\\n' +
            '[Должность]\\\n' +
            '[Дата]\n'
        }
      ]
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-08T18:40:59.826Z'
}
{
  title: undefined,
  contentLength: 0,
  version: 2,
  level: 'info',
  message: 'Adding rewritten artifact to vector store',
  timestamp: '2025-02-08T18:41:11.305Z'
}
{
  title: undefined,
  version: 2,
  level: 'info',
  message: 'Successfully added rewritten artifact to vector store',
  timestamp: '2025-02-08T18:41:11.306Z'
}
{
  message: 'Checking if title generation is needed. Message count: 3',
  level: 'info',
  timestamp: '2025-02-08T18:41:12.384Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  cwd: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas',
  level: 'info',
  message: 'Starting document loading process',
  timestamp: '2025-02-09T12:57:34.689Z'
}
{
  isInitialized: false,
  documentCount: 0,
  level: 'info',
  message: 'Initial vector store status',
  timestamp: '2025-02-09T12:57:34.692Z'
}
{
  message: 'Clearing existing documents from vector store',
  level: 'info',
  timestamp: '2025-02-09T12:57:34.693Z'
}
{
  error: 'Chroma getOrCreateCollection error: ChromaConnectionError: Failed to connect to chromadb. Make sure your server is running and try again. If you are running from a browser, make sure that your chromadb instance is configured to allow requests from the current origin using the CHROMA_SERVER_CORS_ALLOW_ORIGINS environment variable.',
  level: 'warn',
  message: 'Failed to clear vector store',
  timestamp: '2025-02-09T12:57:34.789Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 1,
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-09T12:57:34.790Z'
}
{
  fileCount: 4,
  files: [
    { name: 'document1.md', extension: '.md' },
    { name: 'document2.md', extension: '.md' },
    { name: 'document3.md', extension: '.md' },
    { name: 'document4.md', extension: '.md' }
  ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-09T12:57:34.791Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T12:57:34.793Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkSizes: [
    973, 901, 971, 937,
    972, 861, 915, 775,
    903, 648, 580, 875,
    274
  ],
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T12:57:34.795Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T12:57:36.747Z'
}
{
  fileName: 'document1.md',
  error: 'Chroma getOrCreateCollection error: ChromaConnectionError: Failed to connect to chromadb. Make sure your server is running and try again. If you are running from a browser, make sure that your chromadb instance is configured to allow requests from the current origin using the CHROMA_SERVER_CORS_ALLOW_ORIGINS environment variable.',
  level: 'error',
  message: 'Error processing file',
  timestamp: '2025-02-09T12:57:36.748Z'
}
{
  documentName: 'document2.md',
  contentLength: 8574,
  contentPreview: 'Как провести вводный инструктаж по охране труда\r\n' +
    '\r\n' +
    'Вводный инструктаж по охране труда обязаны провод...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T12:57:36.750Z'
}
{
  documentName: 'document2.md',
  chunksCreated: 11,
  chunkSizes: [
    957, 775, 868, 650,
    949, 681, 922, 878,
    954, 890, 938
  ],
  chunkPreviews: [
    {
      size: 957,
      preview: 'Как провести вводный инструктаж по охране труда\r\n' +
        '\r\n' +
        'Вводный инструктаж по охране труда обязаны провод...'
    },
    {
      size: 775,
      preview: '5. Каковы риски в случае непроведения вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '6. Кто проводит вводны...'
    },
    {
      size: 868,
      preview: 'Работники организации (ИП), проводящие инструктаж, должны пройти обучение требованиям охраны труда в...'
    },
    {
      size: 650,
      preview: '2.1. Каков срок проведения вводного инструктажа по охране труда\r\n' +
        'Вводный инструктаж по охране труда ...'
    },
    {
      size: 949,
      preview: 'Инструктаж по охране труда на рабочем месте (в том числе и первичный) проводится в объеме мероприяти...'
    },
    {
      size: 681,
      preview: 'Для проведения вводного инструктажа вам нужно (п. п. 9, 11, 69, 88 Правил обучения по охране труда):...'
    },
    {
      size: 922,
      preview: 'Вводный инструктаж завершается проверкой знания требований охраны труда. Это неотъемлемая часть пров...'
    },
    {
      size: 878,
      preview: 'В Приложении N 1 указаны следующие темы для программы вводного инструктажа по охране труда:\r\n' +
        '\r\n' +
        '- Све...'
    },
    {
      size: 954,
      preview: '- Действия работников при возникновении возможных аварийных ситуаций. Виды сигнализаций и звуковых о...'
    },
    {
      size: 890,
      preview: 'Обратите внимание, что положения о ведении электронного документооборота в сфере трудовых отношений ...'
    },
    {
      size: 938,
      preview: '- фамилию, имя, отчество (при наличии), профессию (должность) работника, проводившего инструктаж;\r\n' +
        '-...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T12:57:36.751Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T12:57:37.963Z'
}
{
  fileName: 'document2.md',
  error: 'Chroma getOrCreateCollection error: ChromaConnectionError: Failed to connect to chromadb. Make sure your server is running and try again. If you are running from a browser, make sure that your chromadb instance is configured to allow requests from the current origin using the CHROMA_SERVER_CORS_ALLOW_ORIGINS environment variable.',
  level: 'error',
  message: 'Error processing file',
  timestamp: '2025-02-09T12:57:37.963Z'
}
{
  documentName: 'document3.md',
  contentLength: 17193,
  contentPreview: 'Как проводятся противопожарные инструктажи\r\n' +
    '\r\n' +
    'Допускать к работе на объекте защиты сотрудников можно...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T12:57:37.965Z'
}
{
  documentName: 'document3.md',
  chunksCreated: 22,
  chunkSizes: [
    947, 917, 886, 854, 962,
    831, 909, 880, 961, 854,
    988, 919, 972, 970, 841,
    956, 933, 761, 871, 927,
    982, 143
  ],
  chunkPreviews: [
    {
      size: 947,
      preview: 'Как проводятся противопожарные инструктажи\r\n' +
        '\r\n' +
        'Допускать к работе на объекте защиты сотрудников можно...'
    },
    {
      size: 917,
      preview: '3. Как проводится первичный противопожарный инструктаж на рабочем месте\r\n' +
        '4. Как проводится повторный...'
    },
    {
      size: 886,
      preview: 'Обучение мерам пожарной безопасности осуществляется, в частности, по программам противопожарного инс...'
    },
    {
      size: 854,
      preview: '- изучения ими действий в случае возникновения пожара.\r\n' +
        '  Проведите противопожарный инструктаж в соо...'
    },
    {
      size: 962,
      preview: 'Противопожарный инструктаж завершается проверкой знаний и умений на предмет их соответствия требован...'
    },
    {
      size: 831,
      preview: '1.1. Кто проводит противопожарный инструктаж\r\n' +
        '  Противопожарный инструктаж проводят лица, которые ос...'
    },
    {
      size: 909,
      preview: 'Такими лицами могут быть (п. п. 7, 8 Приложения N 1 к этому Приказу):\r\n' +
        '- руководитель организации;\r\n' +
        '...'
    },
    {
      size: 880,
      preview: '- на вводный;\r\n' +
        '- первичный на рабочем месте;\r\n' +
        '- повторный;\r\n' +
        '- внеплановый;\r\n' +
        '- целевой.\r\n' +
        '\r\n' +
        '2. Как про...'
    },
    {
      size: 961,
      preview: 'При совмещении вводного противопожарного инструктажа и первичного противопожарного инструктажа на ра...'
    },
    {
      size: 854,
      preview: '- права и обязанности в области пожарной безопасности лиц, которые осуществляют трудовую или служебн...'
    },
    {
      size: 988,
      preview: 'Этот вид инструктажа нужно провести непосредственно на рабочем месте до начала трудовой (служебной) ...'
    },
    {
      size: 919,
      preview: '- общие сведения о взрывопожарной и пожарной опасности веществ и материалов, изготавливаемой продукц...'
    },
    {
      size: 972,
      preview: '- о лицах, которые осуществляют трудовую (служебную) деятельность в организации, связанную с охраной...'
    },
    {
      size: 970,
      preview: 'б) отнесены к категориям повышенной взрывопожароопасности, взрывопожароопасности, пожароопасности.\r\n' +
        '...'
    },
    {
      size: 841,
      preview: '5. Как проводится внеплановый противопожарный инструктаж\r\n' +
        '   Провести внеплановый противопожарный ин...'
    },
    {
      size: 956,
      preview: '- лица, осуществляющие трудовую или служебную деятельность в организации, допустили нарушения обязат...'
    },
    {
      size: 933,
      preview: '- руководитель организации или назначенное им лицо приняло соответствующее решение.\r\n' +
        '\r\n' +
        '  5.1. Как со...'
    },
    {
      size: 761,
      preview: 'В частности, его проводят (п. 18 Приложения N 1 к Приказу N 806):\r\n' +
        '\r\n' +
        '- перед выполнением огневых раб...'
    },
    {
      size: 871,
      preview: '7. Как заполнить журнал учета противопожарных инструктажей\r\n' +
        '   Должностное лицо, которое проводило п...'
    },
    {
      size: 927,
      preview: 'Запись в журнале не требуется, если оформляется наряд-допуск на выполнение огневых работ (п. 23 Прил...'
    },
    {
      size: 982,
      preview: 'Обратите внимание, что результаты проведения противопожарных инструктажей и проверки знаний и умений...'
    },
    {
      size: 143,
      preview: 'SAMPLE Образец заполнения журнала учета противопожарных инструктажей (на примере ситуации, когда про...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T12:57:37.965Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T12:57:38.858Z'
}
{
  fileName: 'document3.md',
  error: 'Chroma getOrCreateCollection error: ChromaConnectionError: Failed to connect to chromadb. Make sure your server is running and try again. If you are running from a browser, make sure that your chromadb instance is configured to allow requests from the current origin using the CHROMA_SERVER_CORS_ALLOW_ORIGINS environment variable.',
  level: 'error',
  message: 'Error processing file',
  timestamp: '2025-02-09T12:57:38.859Z'
}
{
  documentName: 'document4.md',
  contentLength: 5394,
  contentPreview: 'Какие бывают виды инструктажей по охране труда\r\n' +
    '\r\n' +
    'Инструктажи по охране труда подразделяются: на вво...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T12:57:38.860Z'
}
{
  documentName: 'document4.md',
  chunksCreated: 8,
  chunkSizes: [
    213, 993, 905,
    513, 823, 926,
    899, 938
  ],
  chunkPreviews: [
    {
      size: 213,
      preview: 'Какие бывают виды инструктажей по охране труда\r\n' +
        '\r\n' +
        'Инструктажи по охране труда подразделяются: на вво...'
    },
    {
      size: 993,
      preview: 'Инструктажи по охране труда подразделяются: на вводный, инструктаж по охране труда на рабочем месте ...'
    },
    {
      size: 905,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кому нужно проводить вводный инструктаж по охране труда\r\n' +
        '2. Кому нужно проводить п...'
    },
    {
      size: 513,
      preview: 'SAMPLE Образец приказа о проведении вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '7. Кому нужно проводить ...'
    },
    {
      size: 823,
      preview: 'В то же время некоторых работников можно освободить от первичного инструктажа (п. 13 Правил обучения...'
    },
    {
      size: 926,
      preview: 'Кто должен проводить инструктаж по охране труда на рабочем месте генеральному директору\r\n' +
        'Если генера...'
    },
    {
      size: 899,
      preview: '4. Кому и для каких целей нужно проводить внеплановый инструктаж по охране труда на рабочем месте\r\n' +
        ' ...'
    },
    {
      size: 938,
      preview: '5. Кому и для каких целей нужно проводить целевой инструктаж по охране труда\r\n' +
        '   Целевой инструктаж ...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T12:57:38.860Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T12:57:39.866Z'
}
{
  fileName: 'document4.md',
  error: 'Chroma getOrCreateCollection error: ChromaConnectionError: Failed to connect to chromadb. Make sure your server is running and try again. If you are running from a browser, make sure that your chromadb instance is configured to allow requests from the current origin using the CHROMA_SERVER_CORS_ALLOW_ORIGINS environment variable.',
  level: 'error',
  message: 'Error processing file',
  timestamp: '2025-02-09T12:57:39.867Z'
}
{
  totalFiles: 4,
  totalDocumentsProcessed: 4,
  totalChunksCreated: 54,
  failedFiles: [ 'document1.md', 'document2.md', 'document3.md', 'document4.md' ],
  vectorStoreStatus: Promise { <pending> },
  level: 'info',
  message: 'Document loading process completed',
  timestamp: '2025-02-09T12:57:39.867Z'
}
{
  failedFiles: [ 'document1.md', 'document2.md', 'document3.md', 'document4.md' ],
  attempt: 1,
  level: 'info',
  message: 'Retrying failed files',
  timestamp: '2025-02-09T12:57:39.868Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 2,
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-09T12:57:40.872Z'
}
{
  fileCount: 4,
  files: [
    { name: 'document1.md', extension: '.md' },
    { name: 'document2.md', extension: '.md' },
    { name: 'document3.md', extension: '.md' },
    { name: 'document4.md', extension: '.md' }
  ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-09T12:57:40.873Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T12:57:40.874Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkSizes: [
    973, 901, 971, 937,
    972, 861, 915, 775,
    903, 648, 580, 875,
    274
  ],
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T12:57:40.874Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T12:57:44.876Z'
}
{
  fileName: 'document1.md',
  error: 'Chroma getOrCreateCollection error: ChromaConnectionError: Failed to connect to chromadb. Make sure your server is running and try again. If you are running from a browser, make sure that your chromadb instance is configured to allow requests from the current origin using the CHROMA_SERVER_CORS_ALLOW_ORIGINS environment variable.',
  level: 'error',
  message: 'Error processing file',
  timestamp: '2025-02-09T12:57:44.876Z'
}
{
  documentName: 'document2.md',
  contentLength: 8574,
  contentPreview: 'Как провести вводный инструктаж по охране труда\r\n' +
    '\r\n' +
    'Вводный инструктаж по охране труда обязаны провод...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T12:57:44.878Z'
}
{
  documentName: 'document2.md',
  chunksCreated: 11,
  chunkSizes: [
    957, 775, 868, 650,
    949, 681, 922, 878,
    954, 890, 938
  ],
  chunkPreviews: [
    {
      size: 957,
      preview: 'Как провести вводный инструктаж по охране труда\r\n' +
        '\r\n' +
        'Вводный инструктаж по охране труда обязаны провод...'
    },
    {
      size: 775,
      preview: '5. Каковы риски в случае непроведения вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '6. Кто проводит вводны...'
    },
    {
      size: 868,
      preview: 'Работники организации (ИП), проводящие инструктаж, должны пройти обучение требованиям охраны труда в...'
    },
    {
      size: 650,
      preview: '2.1. Каков срок проведения вводного инструктажа по охране труда\r\n' +
        'Вводный инструктаж по охране труда ...'
    },
    {
      size: 949,
      preview: 'Инструктаж по охране труда на рабочем месте (в том числе и первичный) проводится в объеме мероприяти...'
    },
    {
      size: 681,
      preview: 'Для проведения вводного инструктажа вам нужно (п. п. 9, 11, 69, 88 Правил обучения по охране труда):...'
    },
    {
      size: 922,
      preview: 'Вводный инструктаж завершается проверкой знания требований охраны труда. Это неотъемлемая часть пров...'
    },
    {
      size: 878,
      preview: 'В Приложении N 1 указаны следующие темы для программы вводного инструктажа по охране труда:\r\n' +
        '\r\n' +
        '- Све...'
    },
    {
      size: 954,
      preview: '- Действия работников при возникновении возможных аварийных ситуаций. Виды сигнализаций и звуковых о...'
    },
    {
      size: 890,
      preview: 'Обратите внимание, что положения о ведении электронного документооборота в сфере трудовых отношений ...'
    },
    {
      size: 938,
      preview: '- фамилию, имя, отчество (при наличии), профессию (должность) работника, проводившего инструктаж;\r\n' +
        '-...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T12:57:44.878Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T12:57:46.235Z'
}
{
  fileName: 'document2.md',
  error: 'Chroma getOrCreateCollection error: ChromaConnectionError: Failed to connect to chromadb. Make sure your server is running and try again. If you are running from a browser, make sure that your chromadb instance is configured to allow requests from the current origin using the CHROMA_SERVER_CORS_ALLOW_ORIGINS environment variable.',
  level: 'error',
  message: 'Error processing file',
  timestamp: '2025-02-09T12:57:46.236Z'
}
{
  documentName: 'document3.md',
  contentLength: 17193,
  contentPreview: 'Как проводятся противопожарные инструктажи\r\n' +
    '\r\n' +
    'Допускать к работе на объекте защиты сотрудников можно...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T12:57:46.237Z'
}
{
  documentName: 'document3.md',
  chunksCreated: 22,
  chunkSizes: [
    947, 917, 886, 854, 962,
    831, 909, 880, 961, 854,
    988, 919, 972, 970, 841,
    956, 933, 761, 871, 927,
    982, 143
  ],
  chunkPreviews: [
    {
      size: 947,
      preview: 'Как проводятся противопожарные инструктажи\r\n' +
        '\r\n' +
        'Допускать к работе на объекте защиты сотрудников можно...'
    },
    {
      size: 917,
      preview: '3. Как проводится первичный противопожарный инструктаж на рабочем месте\r\n' +
        '4. Как проводится повторный...'
    },
    {
      size: 886,
      preview: 'Обучение мерам пожарной безопасности осуществляется, в частности, по программам противопожарного инс...'
    },
    {
      size: 854,
      preview: '- изучения ими действий в случае возникновения пожара.\r\n' +
        '  Проведите противопожарный инструктаж в соо...'
    },
    {
      size: 962,
      preview: 'Противопожарный инструктаж завершается проверкой знаний и умений на предмет их соответствия требован...'
    },
    {
      size: 831,
      preview: '1.1. Кто проводит противопожарный инструктаж\r\n' +
        '  Противопожарный инструктаж проводят лица, которые ос...'
    },
    {
      size: 909,
      preview: 'Такими лицами могут быть (п. п. 7, 8 Приложения N 1 к этому Приказу):\r\n' +
        '- руководитель организации;\r\n' +
        '...'
    },
    {
      size: 880,
      preview: '- на вводный;\r\n' +
        '- первичный на рабочем месте;\r\n' +
        '- повторный;\r\n' +
        '- внеплановый;\r\n' +
        '- целевой.\r\n' +
        '\r\n' +
        '2. Как про...'
    },
    {
      size: 961,
      preview: 'При совмещении вводного противопожарного инструктажа и первичного противопожарного инструктажа на ра...'
    },
    {
      size: 854,
      preview: '- права и обязанности в области пожарной безопасности лиц, которые осуществляют трудовую или служебн...'
    },
    {
      size: 988,
      preview: 'Этот вид инструктажа нужно провести непосредственно на рабочем месте до начала трудовой (служебной) ...'
    },
    {
      size: 919,
      preview: '- общие сведения о взрывопожарной и пожарной опасности веществ и материалов, изготавливаемой продукц...'
    },
    {
      size: 972,
      preview: '- о лицах, которые осуществляют трудовую (служебную) деятельность в организации, связанную с охраной...'
    },
    {
      size: 970,
      preview: 'б) отнесены к категориям повышенной взрывопожароопасности, взрывопожароопасности, пожароопасности.\r\n' +
        '...'
    },
    {
      size: 841,
      preview: '5. Как проводится внеплановый противопожарный инструктаж\r\n' +
        '   Провести внеплановый противопожарный ин...'
    },
    {
      size: 956,
      preview: '- лица, осуществляющие трудовую или служебную деятельность в организации, допустили нарушения обязат...'
    },
    {
      size: 933,
      preview: '- руководитель организации или назначенное им лицо приняло соответствующее решение.\r\n' +
        '\r\n' +
        '  5.1. Как со...'
    },
    {
      size: 761,
      preview: 'В частности, его проводят (п. 18 Приложения N 1 к Приказу N 806):\r\n' +
        '\r\n' +
        '- перед выполнением огневых раб...'
    },
    {
      size: 871,
      preview: '7. Как заполнить журнал учета противопожарных инструктажей\r\n' +
        '   Должностное лицо, которое проводило п...'
    },
    {
      size: 927,
      preview: 'Запись в журнале не требуется, если оформляется наряд-допуск на выполнение огневых работ (п. 23 Прил...'
    },
    {
      size: 982,
      preview: 'Обратите внимание, что результаты проведения противопожарных инструктажей и проверки знаний и умений...'
    },
    {
      size: 143,
      preview: 'SAMPLE Образец заполнения журнала учета противопожарных инструктажей (на примере ситуации, когда про...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T12:57:46.238Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T12:57:47.854Z'
}
{
  fileName: 'document3.md',
  error: 'Chroma getOrCreateCollection error: ChromaConnectionError: Failed to connect to chromadb. Make sure your server is running and try again. If you are running from a browser, make sure that your chromadb instance is configured to allow requests from the current origin using the CHROMA_SERVER_CORS_ALLOW_ORIGINS environment variable.',
  level: 'error',
  message: 'Error processing file',
  timestamp: '2025-02-09T12:57:47.854Z'
}
{
  documentName: 'document4.md',
  contentLength: 5394,
  contentPreview: 'Какие бывают виды инструктажей по охране труда\r\n' +
    '\r\n' +
    'Инструктажи по охране труда подразделяются: на вво...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T12:57:47.855Z'
}
{
  documentName: 'document4.md',
  chunksCreated: 8,
  chunkSizes: [
    213, 993, 905,
    513, 823, 926,
    899, 938
  ],
  chunkPreviews: [
    {
      size: 213,
      preview: 'Какие бывают виды инструктажей по охране труда\r\n' +
        '\r\n' +
        'Инструктажи по охране труда подразделяются: на вво...'
    },
    {
      size: 993,
      preview: 'Инструктажи по охране труда подразделяются: на вводный, инструктаж по охране труда на рабочем месте ...'
    },
    {
      size: 905,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кому нужно проводить вводный инструктаж по охране труда\r\n' +
        '2. Кому нужно проводить п...'
    },
    {
      size: 513,
      preview: 'SAMPLE Образец приказа о проведении вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '7. Кому нужно проводить ...'
    },
    {
      size: 823,
      preview: 'В то же время некоторых работников можно освободить от первичного инструктажа (п. 13 Правил обучения...'
    },
    {
      size: 926,
      preview: 'Кто должен проводить инструктаж по охране труда на рабочем месте генеральному директору\r\n' +
        'Если генера...'
    },
    {
      size: 899,
      preview: '4. Кому и для каких целей нужно проводить внеплановый инструктаж по охране труда на рабочем месте\r\n' +
        ' ...'
    },
    {
      size: 938,
      preview: '5. Кому и для каких целей нужно проводить целевой инструктаж по охране труда\r\n' +
        '   Целевой инструктаж ...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T12:57:47.856Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T12:57:49.202Z'
}
{
  fileName: 'document4.md',
  error: 'Chroma getOrCreateCollection error: ChromaConnectionError: Failed to connect to chromadb. Make sure your server is running and try again. If you are running from a browser, make sure that your chromadb instance is configured to allow requests from the current origin using the CHROMA_SERVER_CORS_ALLOW_ORIGINS environment variable.',
  level: 'error',
  message: 'Error processing file',
  timestamp: '2025-02-09T12:57:49.202Z'
}
{
  totalFiles: 4,
  totalDocumentsProcessed: 4,
  totalChunksCreated: 54,
  failedFiles: [ 'document1.md', 'document2.md', 'document3.md', 'document4.md' ],
  vectorStoreStatus: Promise { <pending> },
  level: 'info',
  message: 'Document loading process completed',
  timestamp: '2025-02-09T12:57:49.203Z'
}
{
  failedFiles: [ 'document1.md', 'document2.md', 'document3.md', 'document4.md' ],
  attempt: 2,
  level: 'info',
  message: 'Retrying failed files',
  timestamp: '2025-02-09T12:57:49.203Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 3,
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-09T12:57:50.211Z'
}
{
  fileCount: 4,
  files: [
    { name: 'document1.md', extension: '.md' },
    { name: 'document2.md', extension: '.md' },
    { name: 'document3.md', extension: '.md' },
    { name: 'document4.md', extension: '.md' }
  ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-09T12:57:50.212Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T12:57:50.213Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkSizes: [
    973, 901, 971, 937,
    972, 861, 915, 775,
    903, 648, 580, 875,
    274
  ],
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T12:57:50.214Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T12:57:51.481Z'
}
{
  fileName: 'document1.md',
  error: 'Chroma getOrCreateCollection error: ChromaConnectionError: Failed to connect to chromadb. Make sure your server is running and try again. If you are running from a browser, make sure that your chromadb instance is configured to allow requests from the current origin using the CHROMA_SERVER_CORS_ALLOW_ORIGINS environment variable.',
  level: 'error',
  message: 'Error processing file',
  timestamp: '2025-02-09T12:57:51.482Z'
}
{
  documentName: 'document2.md',
  contentLength: 8574,
  contentPreview: 'Как провести вводный инструктаж по охране труда\r\n' +
    '\r\n' +
    'Вводный инструктаж по охране труда обязаны провод...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T12:57:51.483Z'
}
{
  documentName: 'document2.md',
  chunksCreated: 11,
  chunkSizes: [
    957, 775, 868, 650,
    949, 681, 922, 878,
    954, 890, 938
  ],
  chunkPreviews: [
    {
      size: 957,
      preview: 'Как провести вводный инструктаж по охране труда\r\n' +
        '\r\n' +
        'Вводный инструктаж по охране труда обязаны провод...'
    },
    {
      size: 775,
      preview: '5. Каковы риски в случае непроведения вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '6. Кто проводит вводны...'
    },
    {
      size: 868,
      preview: 'Работники организации (ИП), проводящие инструктаж, должны пройти обучение требованиям охраны труда в...'
    },
    {
      size: 650,
      preview: '2.1. Каков срок проведения вводного инструктажа по охране труда\r\n' +
        'Вводный инструктаж по охране труда ...'
    },
    {
      size: 949,
      preview: 'Инструктаж по охране труда на рабочем месте (в том числе и первичный) проводится в объеме мероприяти...'
    },
    {
      size: 681,
      preview: 'Для проведения вводного инструктажа вам нужно (п. п. 9, 11, 69, 88 Правил обучения по охране труда):...'
    },
    {
      size: 922,
      preview: 'Вводный инструктаж завершается проверкой знания требований охраны труда. Это неотъемлемая часть пров...'
    },
    {
      size: 878,
      preview: 'В Приложении N 1 указаны следующие темы для программы вводного инструктажа по охране труда:\r\n' +
        '\r\n' +
        '- Све...'
    },
    {
      size: 954,
      preview: '- Действия работников при возникновении возможных аварийных ситуаций. Виды сигнализаций и звуковых о...'
    },
    {
      size: 890,
      preview: 'Обратите внимание, что положения о ведении электронного документооборота в сфере трудовых отношений ...'
    },
    {
      size: 938,
      preview: '- фамилию, имя, отчество (при наличии), профессию (должность) работника, проводившего инструктаж;\r\n' +
        '-...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T12:57:51.483Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T12:57:53.003Z'
}
{
  fileName: 'document2.md',
  error: 'Chroma getOrCreateCollection error: ChromaConnectionError: Failed to connect to chromadb. Make sure your server is running and try again. If you are running from a browser, make sure that your chromadb instance is configured to allow requests from the current origin using the CHROMA_SERVER_CORS_ALLOW_ORIGINS environment variable.',
  level: 'error',
  message: 'Error processing file',
  timestamp: '2025-02-09T12:57:53.003Z'
}
{
  documentName: 'document3.md',
  contentLength: 17193,
  contentPreview: 'Как проводятся противопожарные инструктажи\r\n' +
    '\r\n' +
    'Допускать к работе на объекте защиты сотрудников можно...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T12:57:53.004Z'
}
{
  documentName: 'document3.md',
  chunksCreated: 22,
  chunkSizes: [
    947, 917, 886, 854, 962,
    831, 909, 880, 961, 854,
    988, 919, 972, 970, 841,
    956, 933, 761, 871, 927,
    982, 143
  ],
  chunkPreviews: [
    {
      size: 947,
      preview: 'Как проводятся противопожарные инструктажи\r\n' +
        '\r\n' +
        'Допускать к работе на объекте защиты сотрудников можно...'
    },
    {
      size: 917,
      preview: '3. Как проводится первичный противопожарный инструктаж на рабочем месте\r\n' +
        '4. Как проводится повторный...'
    },
    {
      size: 886,
      preview: 'Обучение мерам пожарной безопасности осуществляется, в частности, по программам противопожарного инс...'
    },
    {
      size: 854,
      preview: '- изучения ими действий в случае возникновения пожара.\r\n' +
        '  Проведите противопожарный инструктаж в соо...'
    },
    {
      size: 962,
      preview: 'Противопожарный инструктаж завершается проверкой знаний и умений на предмет их соответствия требован...'
    },
    {
      size: 831,
      preview: '1.1. Кто проводит противопожарный инструктаж\r\n' +
        '  Противопожарный инструктаж проводят лица, которые ос...'
    },
    {
      size: 909,
      preview: 'Такими лицами могут быть (п. п. 7, 8 Приложения N 1 к этому Приказу):\r\n' +
        '- руководитель организации;\r\n' +
        '...'
    },
    {
      size: 880,
      preview: '- на вводный;\r\n' +
        '- первичный на рабочем месте;\r\n' +
        '- повторный;\r\n' +
        '- внеплановый;\r\n' +
        '- целевой.\r\n' +
        '\r\n' +
        '2. Как про...'
    },
    {
      size: 961,
      preview: 'При совмещении вводного противопожарного инструктажа и первичного противопожарного инструктажа на ра...'
    },
    {
      size: 854,
      preview: '- права и обязанности в области пожарной безопасности лиц, которые осуществляют трудовую или служебн...'
    },
    {
      size: 988,
      preview: 'Этот вид инструктажа нужно провести непосредственно на рабочем месте до начала трудовой (служебной) ...'
    },
    {
      size: 919,
      preview: '- общие сведения о взрывопожарной и пожарной опасности веществ и материалов, изготавливаемой продукц...'
    },
    {
      size: 972,
      preview: '- о лицах, которые осуществляют трудовую (служебную) деятельность в организации, связанную с охраной...'
    },
    {
      size: 970,
      preview: 'б) отнесены к категориям повышенной взрывопожароопасности, взрывопожароопасности, пожароопасности.\r\n' +
        '...'
    },
    {
      size: 841,
      preview: '5. Как проводится внеплановый противопожарный инструктаж\r\n' +
        '   Провести внеплановый противопожарный ин...'
    },
    {
      size: 956,
      preview: '- лица, осуществляющие трудовую или служебную деятельность в организации, допустили нарушения обязат...'
    },
    {
      size: 933,
      preview: '- руководитель организации или назначенное им лицо приняло соответствующее решение.\r\n' +
        '\r\n' +
        '  5.1. Как со...'
    },
    {
      size: 761,
      preview: 'В частности, его проводят (п. 18 Приложения N 1 к Приказу N 806):\r\n' +
        '\r\n' +
        '- перед выполнением огневых раб...'
    },
    {
      size: 871,
      preview: '7. Как заполнить журнал учета противопожарных инструктажей\r\n' +
        '   Должностное лицо, которое проводило п...'
    },
    {
      size: 927,
      preview: 'Запись в журнале не требуется, если оформляется наряд-допуск на выполнение огневых работ (п. 23 Прил...'
    },
    {
      size: 982,
      preview: 'Обратите внимание, что результаты проведения противопожарных инструктажей и проверки знаний и умений...'
    },
    {
      size: 143,
      preview: 'SAMPLE Образец заполнения журнала учета противопожарных инструктажей (на примере ситуации, когда про...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T12:57:53.005Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T12:57:54.001Z'
}
{
  fileName: 'document3.md',
  error: 'Chroma getOrCreateCollection error: ChromaConnectionError: Failed to connect to chromadb. Make sure your server is running and try again. If you are running from a browser, make sure that your chromadb instance is configured to allow requests from the current origin using the CHROMA_SERVER_CORS_ALLOW_ORIGINS environment variable.',
  level: 'error',
  message: 'Error processing file',
  timestamp: '2025-02-09T12:57:54.002Z'
}
{
  documentName: 'document4.md',
  contentLength: 5394,
  contentPreview: 'Какие бывают виды инструктажей по охране труда\r\n' +
    '\r\n' +
    'Инструктажи по охране труда подразделяются: на вво...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T12:57:54.003Z'
}
{
  documentName: 'document4.md',
  chunksCreated: 8,
  chunkSizes: [
    213, 993, 905,
    513, 823, 926,
    899, 938
  ],
  chunkPreviews: [
    {
      size: 213,
      preview: 'Какие бывают виды инструктажей по охране труда\r\n' +
        '\r\n' +
        'Инструктажи по охране труда подразделяются: на вво...'
    },
    {
      size: 993,
      preview: 'Инструктажи по охране труда подразделяются: на вводный, инструктаж по охране труда на рабочем месте ...'
    },
    {
      size: 905,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кому нужно проводить вводный инструктаж по охране труда\r\n' +
        '2. Кому нужно проводить п...'
    },
    {
      size: 513,
      preview: 'SAMPLE Образец приказа о проведении вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '7. Кому нужно проводить ...'
    },
    {
      size: 823,
      preview: 'В то же время некоторых работников можно освободить от первичного инструктажа (п. 13 Правил обучения...'
    },
    {
      size: 926,
      preview: 'Кто должен проводить инструктаж по охране труда на рабочем месте генеральному директору\r\n' +
        'Если генера...'
    },
    {
      size: 899,
      preview: '4. Кому и для каких целей нужно проводить внеплановый инструктаж по охране труда на рабочем месте\r\n' +
        ' ...'
    },
    {
      size: 938,
      preview: '5. Кому и для каких целей нужно проводить целевой инструктаж по охране труда\r\n' +
        '   Целевой инструктаж ...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T12:57:54.003Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T12:57:55.234Z'
}
{
  fileName: 'document4.md',
  error: 'Chroma getOrCreateCollection error: ChromaConnectionError: Failed to connect to chromadb. Make sure your server is running and try again. If you are running from a browser, make sure that your chromadb instance is configured to allow requests from the current origin using the CHROMA_SERVER_CORS_ALLOW_ORIGINS environment variable.',
  level: 'error',
  message: 'Error processing file',
  timestamp: '2025-02-09T12:57:55.234Z'
}
{
  totalFiles: 4,
  totalDocumentsProcessed: 4,
  totalChunksCreated: 54,
  failedFiles: [ 'document1.md', 'document2.md', 'document3.md', 'document4.md' ],
  vectorStoreStatus: Promise { <pending> },
  level: 'info',
  message: 'Document loading process completed',
  timestamp: '2025-02-09T12:57:55.235Z'
}
{
  failedFiles: [ 'document1.md', 'document2.md', 'document3.md', 'document4.md' ],
  attempt: 3,
  level: 'info',
  message: 'Retrying failed files',
  timestamp: '2025-02-09T12:57:55.235Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 4,
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-09T12:57:56.250Z'
}
{
  fileCount: 4,
  files: [
    { name: 'document1.md', extension: '.md' },
    { name: 'document2.md', extension: '.md' },
    { name: 'document3.md', extension: '.md' },
    { name: 'document4.md', extension: '.md' }
  ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-09T12:57:56.251Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T12:57:56.252Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkSizes: [
    973, 901, 971, 937,
    972, 861, 915, 775,
    903, 648, 580, 875,
    274
  ],
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T12:57:56.253Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T12:57:57.807Z'
}
{
  fileName: 'document1.md',
  error: 'Chroma getOrCreateCollection error: ChromaConnectionError: Failed to connect to chromadb. Make sure your server is running and try again. If you are running from a browser, make sure that your chromadb instance is configured to allow requests from the current origin using the CHROMA_SERVER_CORS_ALLOW_ORIGINS environment variable.',
  level: 'error',
  message: 'Error processing file',
  timestamp: '2025-02-09T12:57:57.807Z'
}
{
  documentName: 'document2.md',
  contentLength: 8574,
  contentPreview: 'Как провести вводный инструктаж по охране труда\r\n' +
    '\r\n' +
    'Вводный инструктаж по охране труда обязаны провод...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T12:57:57.808Z'
}
{
  documentName: 'document2.md',
  chunksCreated: 11,
  chunkSizes: [
    957, 775, 868, 650,
    949, 681, 922, 878,
    954, 890, 938
  ],
  chunkPreviews: [
    {
      size: 957,
      preview: 'Как провести вводный инструктаж по охране труда\r\n' +
        '\r\n' +
        'Вводный инструктаж по охране труда обязаны провод...'
    },
    {
      size: 775,
      preview: '5. Каковы риски в случае непроведения вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '6. Кто проводит вводны...'
    },
    {
      size: 868,
      preview: 'Работники организации (ИП), проводящие инструктаж, должны пройти обучение требованиям охраны труда в...'
    },
    {
      size: 650,
      preview: '2.1. Каков срок проведения вводного инструктажа по охране труда\r\n' +
        'Вводный инструктаж по охране труда ...'
    },
    {
      size: 949,
      preview: 'Инструктаж по охране труда на рабочем месте (в том числе и первичный) проводится в объеме мероприяти...'
    },
    {
      size: 681,
      preview: 'Для проведения вводного инструктажа вам нужно (п. п. 9, 11, 69, 88 Правил обучения по охране труда):...'
    },
    {
      size: 922,
      preview: 'Вводный инструктаж завершается проверкой знания требований охраны труда. Это неотъемлемая часть пров...'
    },
    {
      size: 878,
      preview: 'В Приложении N 1 указаны следующие темы для программы вводного инструктажа по охране труда:\r\n' +
        '\r\n' +
        '- Све...'
    },
    {
      size: 954,
      preview: '- Действия работников при возникновении возможных аварийных ситуаций. Виды сигнализаций и звуковых о...'
    },
    {
      size: 890,
      preview: 'Обратите внимание, что положения о ведении электронного документооборота в сфере трудовых отношений ...'
    },
    {
      size: 938,
      preview: '- фамилию, имя, отчество (при наличии), профессию (должность) работника, проводившего инструктаж;\r\n' +
        '-...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T12:57:57.809Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T12:57:58.853Z'
}
{
  fileName: 'document2.md',
  error: 'Chroma getOrCreateCollection error: ChromaConnectionError: Failed to connect to chromadb. Make sure your server is running and try again. If you are running from a browser, make sure that your chromadb instance is configured to allow requests from the current origin using the CHROMA_SERVER_CORS_ALLOW_ORIGINS environment variable.',
  level: 'error',
  message: 'Error processing file',
  timestamp: '2025-02-09T12:57:58.854Z'
}
{
  documentName: 'document3.md',
  contentLength: 17193,
  contentPreview: 'Как проводятся противопожарные инструктажи\r\n' +
    '\r\n' +
    'Допускать к работе на объекте защиты сотрудников можно...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T12:57:58.855Z'
}
{
  documentName: 'document3.md',
  chunksCreated: 22,
  chunkSizes: [
    947, 917, 886, 854, 962,
    831, 909, 880, 961, 854,
    988, 919, 972, 970, 841,
    956, 933, 761, 871, 927,
    982, 143
  ],
  chunkPreviews: [
    {
      size: 947,
      preview: 'Как проводятся противопожарные инструктажи\r\n' +
        '\r\n' +
        'Допускать к работе на объекте защиты сотрудников можно...'
    },
    {
      size: 917,
      preview: '3. Как проводится первичный противопожарный инструктаж на рабочем месте\r\n' +
        '4. Как проводится повторный...'
    },
    {
      size: 886,
      preview: 'Обучение мерам пожарной безопасности осуществляется, в частности, по программам противопожарного инс...'
    },
    {
      size: 854,
      preview: '- изучения ими действий в случае возникновения пожара.\r\n' +
        '  Проведите противопожарный инструктаж в соо...'
    },
    {
      size: 962,
      preview: 'Противопожарный инструктаж завершается проверкой знаний и умений на предмет их соответствия требован...'
    },
    {
      size: 831,
      preview: '1.1. Кто проводит противопожарный инструктаж\r\n' +
        '  Противопожарный инструктаж проводят лица, которые ос...'
    },
    {
      size: 909,
      preview: 'Такими лицами могут быть (п. п. 7, 8 Приложения N 1 к этому Приказу):\r\n' +
        '- руководитель организации;\r\n' +
        '...'
    },
    {
      size: 880,
      preview: '- на вводный;\r\n' +
        '- первичный на рабочем месте;\r\n' +
        '- повторный;\r\n' +
        '- внеплановый;\r\n' +
        '- целевой.\r\n' +
        '\r\n' +
        '2. Как про...'
    },
    {
      size: 961,
      preview: 'При совмещении вводного противопожарного инструктажа и первичного противопожарного инструктажа на ра...'
    },
    {
      size: 854,
      preview: '- права и обязанности в области пожарной безопасности лиц, которые осуществляют трудовую или служебн...'
    },
    {
      size: 988,
      preview: 'Этот вид инструктажа нужно провести непосредственно на рабочем месте до начала трудовой (служебной) ...'
    },
    {
      size: 919,
      preview: '- общие сведения о взрывопожарной и пожарной опасности веществ и материалов, изготавливаемой продукц...'
    },
    {
      size: 972,
      preview: '- о лицах, которые осуществляют трудовую (служебную) деятельность в организации, связанную с охраной...'
    },
    {
      size: 970,
      preview: 'б) отнесены к категориям повышенной взрывопожароопасности, взрывопожароопасности, пожароопасности.\r\n' +
        '...'
    },
    {
      size: 841,
      preview: '5. Как проводится внеплановый противопожарный инструктаж\r\n' +
        '   Провести внеплановый противопожарный ин...'
    },
    {
      size: 956,
      preview: '- лица, осуществляющие трудовую или служебную деятельность в организации, допустили нарушения обязат...'
    },
    {
      size: 933,
      preview: '- руководитель организации или назначенное им лицо приняло соответствующее решение.\r\n' +
        '\r\n' +
        '  5.1. Как со...'
    },
    {
      size: 761,
      preview: 'В частности, его проводят (п. 18 Приложения N 1 к Приказу N 806):\r\n' +
        '\r\n' +
        '- перед выполнением огневых раб...'
    },
    {
      size: 871,
      preview: '7. Как заполнить журнал учета противопожарных инструктажей\r\n' +
        '   Должностное лицо, которое проводило п...'
    },
    {
      size: 927,
      preview: 'Запись в журнале не требуется, если оформляется наряд-допуск на выполнение огневых работ (п. 23 Прил...'
    },
    {
      size: 982,
      preview: 'Обратите внимание, что результаты проведения противопожарных инструктажей и проверки знаний и умений...'
    },
    {
      size: 143,
      preview: 'SAMPLE Образец заполнения журнала учета противопожарных инструктажей (на примере ситуации, когда про...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T12:57:58.856Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T12:58:00.301Z'
}
{
  fileName: 'document3.md',
  error: 'Chroma getOrCreateCollection error: ChromaConnectionError: Failed to connect to chromadb. Make sure your server is running and try again. If you are running from a browser, make sure that your chromadb instance is configured to allow requests from the current origin using the CHROMA_SERVER_CORS_ALLOW_ORIGINS environment variable.',
  level: 'error',
  message: 'Error processing file',
  timestamp: '2025-02-09T12:58:00.301Z'
}
{
  documentName: 'document4.md',
  contentLength: 5394,
  contentPreview: 'Какие бывают виды инструктажей по охране труда\r\n' +
    '\r\n' +
    'Инструктажи по охране труда подразделяются: на вво...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T12:58:00.303Z'
}
{
  documentName: 'document4.md',
  chunksCreated: 8,
  chunkSizes: [
    213, 993, 905,
    513, 823, 926,
    899, 938
  ],
  chunkPreviews: [
    {
      size: 213,
      preview: 'Какие бывают виды инструктажей по охране труда\r\n' +
        '\r\n' +
        'Инструктажи по охране труда подразделяются: на вво...'
    },
    {
      size: 993,
      preview: 'Инструктажи по охране труда подразделяются: на вводный, инструктаж по охране труда на рабочем месте ...'
    },
    {
      size: 905,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кому нужно проводить вводный инструктаж по охране труда\r\n' +
        '2. Кому нужно проводить п...'
    },
    {
      size: 513,
      preview: 'SAMPLE Образец приказа о проведении вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '7. Кому нужно проводить ...'
    },
    {
      size: 823,
      preview: 'В то же время некоторых работников можно освободить от первичного инструктажа (п. 13 Правил обучения...'
    },
    {
      size: 926,
      preview: 'Кто должен проводить инструктаж по охране труда на рабочем месте генеральному директору\r\n' +
        'Если генера...'
    },
    {
      size: 899,
      preview: '4. Кому и для каких целей нужно проводить внеплановый инструктаж по охране труда на рабочем месте\r\n' +
        ' ...'
    },
    {
      size: 938,
      preview: '5. Кому и для каких целей нужно проводить целевой инструктаж по охране труда\r\n' +
        '   Целевой инструктаж ...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T12:58:00.304Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T12:58:01.050Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  cwd: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas',
  level: 'info',
  message: 'Starting document loading process',
  timestamp: '2025-02-09T12:59:06.258Z'
}
{
  isInitialized: false,
  documentCount: 0,
  level: 'info',
  message: 'Initial vector store status',
  timestamp: '2025-02-09T12:59:06.262Z'
}
{
  message: 'Clearing existing documents from vector store',
  level: 'info',
  timestamp: '2025-02-09T12:59:06.263Z'
}
{
  error: '\n' +
    '                You must provide either ids, where, or where_document to delete. If\n' +
    '                you want to delete all data in a collection you can delete the\n' +
    '                collection itself using the delete_collection method. Or alternatively,\n' +
    '                you can get() all the relevant ids and then delete them.\n' +
    '                ',
  level: 'warn',
  message: 'Failed to clear vector store',
  timestamp: '2025-02-09T12:59:06.410Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 1,
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-09T12:59:06.411Z'
}
{
  fileCount: 4,
  files: [
    { name: 'document1.md', extension: '.md' },
    { name: 'document2.md', extension: '.md' },
    { name: 'document3.md', extension: '.md' },
    { name: 'document4.md', extension: '.md' }
  ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-09T12:59:06.413Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T12:59:06.415Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkSizes: [
    973, 901, 971, 937,
    972, 861, 915, 775,
    903, 648, 580, 875,
    274
  ],
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T12:59:06.417Z'
}
{
  chunksCreated: 13,
  fileName: 'document1.md',
  level: 'info',
  message: 'Added document to vector store: document1.md',
  timestamp: '2025-02-09T12:59:07.899Z'
}
{
  documentName: 'document2.md',
  contentLength: 8574,
  contentPreview: 'Как провести вводный инструктаж по охране труда\r\n' +
    '\r\n' +
    'Вводный инструктаж по охране труда обязаны провод...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T12:59:07.901Z'
}
{
  documentName: 'document2.md',
  chunksCreated: 11,
  chunkSizes: [
    957, 775, 868, 650,
    949, 681, 922, 878,
    954, 890, 938
  ],
  chunkPreviews: [
    {
      size: 957,
      preview: 'Как провести вводный инструктаж по охране труда\r\n' +
        '\r\n' +
        'Вводный инструктаж по охране труда обязаны провод...'
    },
    {
      size: 775,
      preview: '5. Каковы риски в случае непроведения вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '6. Кто проводит вводны...'
    },
    {
      size: 868,
      preview: 'Работники организации (ИП), проводящие инструктаж, должны пройти обучение требованиям охраны труда в...'
    },
    {
      size: 650,
      preview: '2.1. Каков срок проведения вводного инструктажа по охране труда\r\n' +
        'Вводный инструктаж по охране труда ...'
    },
    {
      size: 949,
      preview: 'Инструктаж по охране труда на рабочем месте (в том числе и первичный) проводится в объеме мероприяти...'
    },
    {
      size: 681,
      preview: 'Для проведения вводного инструктажа вам нужно (п. п. 9, 11, 69, 88 Правил обучения по охране труда):...'
    },
    {
      size: 922,
      preview: 'Вводный инструктаж завершается проверкой знания требований охраны труда. Это неотъемлемая часть пров...'
    },
    {
      size: 878,
      preview: 'В Приложении N 1 указаны следующие темы для программы вводного инструктажа по охране труда:\r\n' +
        '\r\n' +
        '- Све...'
    },
    {
      size: 954,
      preview: '- Действия работников при возникновении возможных аварийных ситуаций. Виды сигнализаций и звуковых о...'
    },
    {
      size: 890,
      preview: 'Обратите внимание, что положения о ведении электронного документооборота в сфере трудовых отношений ...'
    },
    {
      size: 938,
      preview: '- фамилию, имя, отчество (при наличии), профессию (должность) работника, проводившего инструктаж;\r\n' +
        '-...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T12:59:07.902Z'
}
{
  chunksCreated: 11,
  fileName: 'document2.md',
  level: 'info',
  message: 'Added document to vector store: document2.md',
  timestamp: '2025-02-09T12:59:09.082Z'
}
{
  documentName: 'document3.md',
  contentLength: 17193,
  contentPreview: 'Как проводятся противопожарные инструктажи\r\n' +
    '\r\n' +
    'Допускать к работе на объекте защиты сотрудников можно...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T12:59:09.084Z'
}
{
  documentName: 'document3.md',
  chunksCreated: 22,
  chunkSizes: [
    947, 917, 886, 854, 962,
    831, 909, 880, 961, 854,
    988, 919, 972, 970, 841,
    956, 933, 761, 871, 927,
    982, 143
  ],
  chunkPreviews: [
    {
      size: 947,
      preview: 'Как проводятся противопожарные инструктажи\r\n' +
        '\r\n' +
        'Допускать к работе на объекте защиты сотрудников можно...'
    },
    {
      size: 917,
      preview: '3. Как проводится первичный противопожарный инструктаж на рабочем месте\r\n' +
        '4. Как проводится повторный...'
    },
    {
      size: 886,
      preview: 'Обучение мерам пожарной безопасности осуществляется, в частности, по программам противопожарного инс...'
    },
    {
      size: 854,
      preview: '- изучения ими действий в случае возникновения пожара.\r\n' +
        '  Проведите противопожарный инструктаж в соо...'
    },
    {
      size: 962,
      preview: 'Противопожарный инструктаж завершается проверкой знаний и умений на предмет их соответствия требован...'
    },
    {
      size: 831,
      preview: '1.1. Кто проводит противопожарный инструктаж\r\n' +
        '  Противопожарный инструктаж проводят лица, которые ос...'
    },
    {
      size: 909,
      preview: 'Такими лицами могут быть (п. п. 7, 8 Приложения N 1 к этому Приказу):\r\n' +
        '- руководитель организации;\r\n' +
        '...'
    },
    {
      size: 880,
      preview: '- на вводный;\r\n' +
        '- первичный на рабочем месте;\r\n' +
        '- повторный;\r\n' +
        '- внеплановый;\r\n' +
        '- целевой.\r\n' +
        '\r\n' +
        '2. Как про...'
    },
    {
      size: 961,
      preview: 'При совмещении вводного противопожарного инструктажа и первичного противопожарного инструктажа на ра...'
    },
    {
      size: 854,
      preview: '- права и обязанности в области пожарной безопасности лиц, которые осуществляют трудовую или служебн...'
    },
    {
      size: 988,
      preview: 'Этот вид инструктажа нужно провести непосредственно на рабочем месте до начала трудовой (служебной) ...'
    },
    {
      size: 919,
      preview: '- общие сведения о взрывопожарной и пожарной опасности веществ и материалов, изготавливаемой продукц...'
    },
    {
      size: 972,
      preview: '- о лицах, которые осуществляют трудовую (служебную) деятельность в организации, связанную с охраной...'
    },
    {
      size: 970,
      preview: 'б) отнесены к категориям повышенной взрывопожароопасности, взрывопожароопасности, пожароопасности.\r\n' +
        '...'
    },
    {
      size: 841,
      preview: '5. Как проводится внеплановый противопожарный инструктаж\r\n' +
        '   Провести внеплановый противопожарный ин...'
    },
    {
      size: 956,
      preview: '- лица, осуществляющие трудовую или служебную деятельность в организации, допустили нарушения обязат...'
    },
    {
      size: 933,
      preview: '- руководитель организации или назначенное им лицо приняло соответствующее решение.\r\n' +
        '\r\n' +
        '  5.1. Как со...'
    },
    {
      size: 761,
      preview: 'В частности, его проводят (п. 18 Приложения N 1 к Приказу N 806):\r\n' +
        '\r\n' +
        '- перед выполнением огневых раб...'
    },
    {
      size: 871,
      preview: '7. Как заполнить журнал учета противопожарных инструктажей\r\n' +
        '   Должностное лицо, которое проводило п...'
    },
    {
      size: 927,
      preview: 'Запись в журнале не требуется, если оформляется наряд-допуск на выполнение огневых работ (п. 23 Прил...'
    },
    {
      size: 982,
      preview: 'Обратите внимание, что результаты проведения противопожарных инструктажей и проверки знаний и умений...'
    },
    {
      size: 143,
      preview: 'SAMPLE Образец заполнения журнала учета противопожарных инструктажей (на примере ситуации, когда про...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T12:59:09.085Z'
}
{
  chunksCreated: 22,
  fileName: 'document3.md',
  level: 'info',
  message: 'Added document to vector store: document3.md',
  timestamp: '2025-02-09T12:59:10.449Z'
}
{
  documentName: 'document4.md',
  contentLength: 5394,
  contentPreview: 'Какие бывают виды инструктажей по охране труда\r\n' +
    '\r\n' +
    'Инструктажи по охране труда подразделяются: на вво...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T12:59:10.451Z'
}
{
  documentName: 'document4.md',
  chunksCreated: 8,
  chunkSizes: [
    213, 993, 905,
    513, 823, 926,
    899, 938
  ],
  chunkPreviews: [
    {
      size: 213,
      preview: 'Какие бывают виды инструктажей по охране труда\r\n' +
        '\r\n' +
        'Инструктажи по охране труда подразделяются: на вво...'
    },
    {
      size: 993,
      preview: 'Инструктажи по охране труда подразделяются: на вводный, инструктаж по охране труда на рабочем месте ...'
    },
    {
      size: 905,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кому нужно проводить вводный инструктаж по охране труда\r\n' +
        '2. Кому нужно проводить п...'
    },
    {
      size: 513,
      preview: 'SAMPLE Образец приказа о проведении вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '7. Кому нужно проводить ...'
    },
    {
      size: 823,
      preview: 'В то же время некоторых работников можно освободить от первичного инструктажа (п. 13 Правил обучения...'
    },
    {
      size: 926,
      preview: 'Кто должен проводить инструктаж по охране труда на рабочем месте генеральному директору\r\n' +
        'Если генера...'
    },
    {
      size: 899,
      preview: '4. Кому и для каких целей нужно проводить внеплановый инструктаж по охране труда на рабочем месте\r\n' +
        ' ...'
    },
    {
      size: 938,
      preview: '5. Кому и для каких целей нужно проводить целевой инструктаж по охране труда\r\n' +
        '   Целевой инструктаж ...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T12:59:10.451Z'
}
{
  chunksCreated: 8,
  fileName: 'document4.md',
  level: 'info',
  message: 'Added document to vector store: document4.md',
  timestamp: '2025-02-09T12:59:11.736Z'
}
{
  totalFiles: 4,
  totalDocumentsProcessed: 4,
  totalChunksCreated: 54,
  failedFiles: [],
  vectorStoreStatus: Promise { <pending> },
  level: 'info',
  message: 'Document loading process completed',
  timestamp: '2025-02-09T12:59:11.736Z'
}
{
  initialDocumentCount: 0,
  finalDocumentCount: 483,
  documentsAdded: 483,
  level: 'info',
  message: 'Document loading completed successfully',
  timestamp: '2025-02-09T12:59:11.748Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-09T12:59:58.167Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-09T13:00:00.422Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь заключение по видам инструктажа при примеме на работу',
          additional_kwargs: {},
          response_metadata: {},
          id: 'afece8c7-f341-4b2f-8d38-6ffa2bf17045'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь заключение по видам инструктажа при примеме на работу',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: 'afece8c7-f341-4b2f-8d38-6ffa2bf17045'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-09T13:00:00.443Z'
}
{
  title: 'Виды инструктажа при приеме на работу',
  contentLength: 1721,
  level: 'info',
  message: 'Adding generated artifact to vector store',
  timestamp: '2025-02-09T13:00:08.785Z'
}
{
  title: 'Виды инструктажа при приеме на работу',
  level: 'info',
  message: 'Successfully added artifact to vector store',
  timestamp: '2025-02-09T13:00:09.712Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-09T13:00:11.452Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-09T13:00:11.453Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-09T13:00:59.385Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-09T13:00:59.386Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь заключение по видам инструктажа при примеме на работу',
          additional_kwargs: {},
          response_metadata: {},
          id: 'afece8c7-f341-4b2f-8d38-6ffa2bf17045'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь заключение по видам инструктажа при примеме на работу',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: 'afece8c7-f341-4b2f-8d38-6ffa2bf17045'
      },
      AIMessageChunk {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Ваше заключение по видам инструктажа при приеме на работу готово. Пожалуйста, ознакомьтесь с документом и дайте знать, если требуется внести изменения или дополнения.',
          additional_kwargs: {},
          response_metadata: {
            usage: {
              prompt_tokens: 844,
              completion_tokens: 43,
              total_tokens: 887,
              prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
              completion_tokens_details: {
                reasoning_tokens: 0,
                audio_tokens: 0,
                accepted_prediction_tokens: 0,
                rejected_prediction_tokens: 0
              }
            }
          },
          tool_call_chunks: [],
          id: 'chatcmpl-Az1Csdmq8ExqZk5AgGdznBwPVqsv9',
          tool_calls: [],
          invalid_tool_calls: [],
          usage_metadata: undefined
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Ваше заключение по видам инструктажа при приеме на работу готово. Пожалуйста, ознакомьтесь с документом и дайте знать, если требуется внести изменения или дополнения.',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {
          usage: {
            prompt_tokens: 844,
            completion_tokens: 43,
            total_tokens: 887,
            prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
            completion_tokens_details: {
              reasoning_tokens: 0,
              audio_tokens: 0,
              accepted_prediction_tokens: 0,
              rejected_prediction_tokens: 0
            }
          }
        },
        id: 'chatcmpl-Az1Csdmq8ExqZk5AgGdznBwPVqsv9',
        tool_calls: [],
        invalid_tool_calls: [],
        tool_call_chunks: [],
        usage_metadata: undefined
      }
    ],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Виды инструктажа при приеме на работу',
          fullMarkdown: 'При приеме на работу сотрудники должны пройти несколько видов инструктажа, которые обеспечивают их безопасность и осведомленность о правилах и процедурах на рабочем месте. Основные виды инструктажа включают:\n' +
            '\n' +
            '1.  **Вводный инструктаж**: Проводится со всеми вновь принимаемыми на работу сотрудниками, а также командированными, временными работниками и студентами, проходящими производственную практику. Этот инструктаж охватывает общие вопросы охраны труда на предприятии, правила внутреннего трудового распорядка, порядок действий при аварийных ситуациях и основные требования безопасности.\n' +
            '2.  **Первичный инструктаж на рабочем месте**: Проводится до начала самостоятельной работы с каждым сотрудником непосредственно на его рабочем месте. Включает ознакомление с технологическим процессом, оборудованием, инструментами, средствами индивидуальной защиты, а также с возможными опасностями и мерами по их предотвращению.\n' +
            '3.  **Повторный инструктаж**: Проводится не реже одного раза в полгода для всех сотрудников, независимо от квалификации, образования и стажа работы. Цель - обновление знаний сотрудников о правилах безопасности и охраны труда.\n' +
            '4.  **Внеплановый инструктаж**: Проводится при изменении технологического процесса, замене или модернизации оборудования, нарушении работниками требований безопасности, а также при авариях или несчастных случаях на производстве.\n' +
            '5.  **Целевой инструктаж**: Проводится при выполнении разовых работ, не связанных с прямыми обязанностями сотрудника, при ликвидации аварий, стихийных бедствий и т.д. Цель - обеспечение безопасности при выполнении конкретных задач.\n' +
            '\n' +
            'Эти инструктажи помогают минимизировать риски на рабочем месте и обеспечивают защиту здоровья и жизни сотрудников.\n'
        }
      ]
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-09T13:00:59.393Z'
}
{
  message: 'Checking if title generation is needed. Message count: 3',
  level: 'info',
  timestamp: '2025-02-09T13:01:13.895Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-09T13:16:39.135Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-09T13:16:41.061Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь заключение по видам инструктажа при примеме на работу',
          additional_kwargs: {},
          response_metadata: {},
          id: '06b10892-24b7-4a63-a288-e096c2e79ebe'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь заключение по видам инструктажа при примеме на работу',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: '06b10892-24b7-4a63-a288-e096c2e79ebe'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-09T13:16:41.067Z'
}
{
  title: 'Заключение по инструктажу',
  contentLength: 2034,
  level: 'info',
  message: 'Adding generated artifact to vector store',
  timestamp: '2025-02-09T13:16:52.032Z'
}
{
  title: 'Заключение по инструктажу',
  level: 'info',
  message: 'Successfully added artifact to vector store',
  timestamp: '2025-02-09T13:16:52.811Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-09T13:16:54.919Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-09T13:16:54.919Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-09T13:17:42.714Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-09T13:17:42.715Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь заключение по видам инструктажа при примеме на работу',
          additional_kwargs: {},
          response_metadata: {},
          id: '06b10892-24b7-4a63-a288-e096c2e79ebe'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь заключение по видам инструктажа при примеме на работу',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: '06b10892-24b7-4a63-a288-e096c2e79ebe'
      },
      AIMessageChunk {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Подготовлено заключение по видам инструктажа при приеме на работу. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуется внести изменения или дополнения.',
          additional_kwargs: {},
          response_metadata: {
            usage: {
              prompt_tokens: 907,
              completion_tokens: 42,
              total_tokens: 949,
              prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
              completion_tokens_details: {
                reasoning_tokens: 0,
                audio_tokens: 0,
                accepted_prediction_tokens: 0,
                rejected_prediction_tokens: 0
              }
            }
          },
          tool_call_chunks: [],
          id: 'chatcmpl-Az1T36PA82gOGtc5DHarhZENAYNrs',
          tool_calls: [],
          invalid_tool_calls: [],
          usage_metadata: undefined
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Подготовлено заключение по видам инструктажа при приеме на работу. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуется внести изменения или дополнения.',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {
          usage: {
            prompt_tokens: 907,
            completion_tokens: 42,
            total_tokens: 949,
            prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
            completion_tokens_details: {
              reasoning_tokens: 0,
              audio_tokens: 0,
              accepted_prediction_tokens: 0,
              rejected_prediction_tokens: 0
            }
          }
        },
        id: 'chatcmpl-Az1T36PA82gOGtc5DHarhZENAYNrs',
        tool_calls: [],
        invalid_tool_calls: [],
        tool_call_chunks: [],
        usage_metadata: undefined
      }
    ],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Заключение по инструктажу',
          fullMarkdown: '# Заключение по видам инструктажа при приеме на работу\n' +
            '\n' +
            'Введение инструктажа при приеме на работу является важной частью процесса адаптации новых сотрудников и обеспечения безопасности на рабочем месте. Данный документ рассматривает различные виды инструктажа, которые должны быть проведены с новыми сотрудниками.\n' +
            '\n' +
            '## Виды инструктажа\n' +
            '\n' +
            '1.  **Вводный инструктаж**\n' +
            '\n' +
            '    *   Проводится с каждым новым работником независимо от его должности и квалификации.\n' +
            '    *   Цель: ознакомление с общими правилами и требованиями безопасности, действующими на предприятии.\n' +
            '    *   Ответственный: специалист по охране труда или назначенное лицо.\n' +
            '\n' +
            '2.  **Первичный инструктаж на рабочем месте**\n' +
            '\n' +
            '    *   Проводится непосредственно на рабочем месте до начала самостоятельной работы.\n' +
            '    *   Цель: ознакомление с безопасными методами выполнения конкретных работ, использованием оборудования и инструментов.\n' +
            '    *   Ответственный: непосредственный руководитель или квалифицированный специалист.\n' +
            '\n' +
            '3.  **Повторный инструктаж**\n' +
            '\n' +
            '    *   Проводится с целью проверки знаний и навыков работников через определенные промежутки времени.\n' +
            '    *   Цель: поддержание высокого уровня безопасности и предотвращение производственных травм.\n' +
            '    *   Периодичность: не реже одного раза в шесть месяцев.\n' +
            '\n' +
            '4.  **Внеплановый инструктаж**\n' +
            '\n' +
            '    *   Проводится в случае изменения условий труда, внедрения новых технологий, оборудования или при происшествии несчастного случая.\n' +
            '    *   Цель: адаптация работников к новым условиям и повышение уровня безопасности.\n' +
            '\n' +
            '5.  **Целевой инструктаж**\n' +
            '\n' +
            '    *   Проводится при выполнении разовых работ, не связанных с прямыми обязанностями работника, а также при ликвидации аварий.\n' +
            '    *   Цель: обеспечение безопасности при выполнении специфических задач.\n' +
            '\n' +
            '## Заключение\n' +
            '\n' +
            'Проведение инструктажа при приеме на работу является обязательной процедурой, направленной на обеспечение безопасности и эффективности труда. Важно, чтобы каждый из видов инструктажа проводился в соответствии с установленными нормами и требованиями, что позволит минимизировать риски и создать безопасные условия труда.\n'
        }
      ]
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-09T13:17:42.719Z'
}
{
  message: 'Checking if title generation is needed. Message count: 3',
  level: 'info',
  timestamp: '2025-02-09T13:17:53.047Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  cwd: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas',
  level: 'info',
  message: 'Starting document loading process',
  timestamp: '2025-02-09T16:40:01.228Z'
}
{
  isInitialized: false,
  documentCount: 0,
  level: 'info',
  message: 'Initial vector store status',
  timestamp: '2025-02-09T16:40:01.232Z'
}
{
  message: 'Clearing existing documents from vector store',
  level: 'info',
  timestamp: '2025-02-09T16:40:01.234Z'
}
{
  error: '\n' +
    '                You must provide either ids, where, or where_document to delete. If\n' +
    '                you want to delete all data in a collection you can delete the\n' +
    '                collection itself using the delete_collection method. Or alternatively,\n' +
    '                you can get() all the relevant ids and then delete them.\n' +
    '                ',
  level: 'warn',
  message: 'Failed to clear vector store',
  timestamp: '2025-02-09T16:40:01.376Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 1,
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-09T16:40:01.377Z'
}
{
  fileCount: 4,
  files: [
    { name: 'document1.md', extension: '.md' },
    { name: 'document2.md', extension: '.md' },
    { name: 'document3.md', extension: '.md' },
    { name: 'document4.md', extension: '.md' }
  ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-09T16:40:01.378Z'
}
{
  fileName: 'document1.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document1.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T16:40:01.378Z'
}
{
  fileName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T16:40:01.379Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T16:40:01.380Z'
}
{
  documentName: 'document1.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T16:40:01.382Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkSizes: [
    973, 901, 971, 937,
    972, 861, 915, 775,
    903, 648, 580, 875,
    274
  ],
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T16:40:01.383Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T16:40:01.527Z'
}
{
  fileName: 'document1.md',
  error: '403 Country, region, or territory not supported',
  level: 'error',
  message: 'Error processing file',
  timestamp: '2025-02-09T16:40:01.528Z'
}
{
  fileName: 'document2.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document2.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T16:40:01.528Z'
}
{
  fileName: 'document2.md',
  contentLength: 8574,
  contentPreview: 'Как провести вводный инструктаж по охране труда\r\n' +
    '\r\n' +
    'Вводный инструктаж по охране труда обязаны провод...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T16:40:01.530Z'
}
{
  documentName: 'document2.md',
  contentLength: 8574,
  contentPreview: 'Как провести вводный инструктаж по охране труда\r\n' +
    '\r\n' +
    'Вводный инструктаж по охране труда обязаны провод...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T16:40:01.531Z'
}
{
  documentName: 'document2.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T16:40:01.533Z'
}
{
  documentName: 'document2.md',
  chunksCreated: 11,
  chunkSizes: [
    957, 775, 868, 650,
    949, 681, 922, 878,
    954, 890, 938
  ],
  chunkPreviews: [
    {
      size: 957,
      preview: 'Как провести вводный инструктаж по охране труда\r\n' +
        '\r\n' +
        'Вводный инструктаж по охране труда обязаны провод...'
    },
    {
      size: 775,
      preview: '5. Каковы риски в случае непроведения вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '6. Кто проводит вводны...'
    },
    {
      size: 868,
      preview: 'Работники организации (ИП), проводящие инструктаж, должны пройти обучение требованиям охраны труда в...'
    },
    {
      size: 650,
      preview: '2.1. Каков срок проведения вводного инструктажа по охране труда\r\n' +
        'Вводный инструктаж по охране труда ...'
    },
    {
      size: 949,
      preview: 'Инструктаж по охране труда на рабочем месте (в том числе и первичный) проводится в объеме мероприяти...'
    },
    {
      size: 681,
      preview: 'Для проведения вводного инструктажа вам нужно (п. п. 9, 11, 69, 88 Правил обучения по охране труда):...'
    },
    {
      size: 922,
      preview: 'Вводный инструктаж завершается проверкой знания требований охраны труда. Это неотъемлемая часть пров...'
    },
    {
      size: 878,
      preview: 'В Приложении N 1 указаны следующие темы для программы вводного инструктажа по охране труда:\r\n' +
        '\r\n' +
        '- Све...'
    },
    {
      size: 954,
      preview: '- Действия работников при возникновении возможных аварийных ситуаций. Виды сигнализаций и звуковых о...'
    },
    {
      size: 890,
      preview: 'Обратите внимание, что положения о ведении электронного документооборота в сфере трудовых отношений ...'
    },
    {
      size: 938,
      preview: '- фамилию, имя, отчество (при наличии), профессию (должность) работника, проводившего инструктаж;\r\n' +
        '-...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T16:40:01.534Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T16:40:01.584Z'
}
{
  fileName: 'document2.md',
  error: '403 Country, region, or territory not supported',
  level: 'error',
  message: 'Error processing file',
  timestamp: '2025-02-09T16:40:01.584Z'
}
{
  fileName: 'document3.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document3.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T16:40:01.585Z'
}
{
  fileName: 'document3.md',
  contentLength: 17193,
  contentPreview: 'Как проводятся противопожарные инструктажи\r\n' +
    '\r\n' +
    'Допускать к работе на объекте защиты сотрудников можно...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T16:40:01.586Z'
}
{
  documentName: 'document3.md',
  contentLength: 17193,
  contentPreview: 'Как проводятся противопожарные инструктажи\r\n' +
    '\r\n' +
    'Допускать к работе на объекте защиты сотрудников можно...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T16:40:01.587Z'
}
{
  documentName: 'document3.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T16:40:01.588Z'
}
{
  documentName: 'document3.md',
  chunksCreated: 22,
  chunkSizes: [
    947, 917, 886, 854, 962,
    831, 909, 880, 961, 854,
    988, 919, 972, 970, 841,
    956, 933, 761, 871, 927,
    982, 143
  ],
  chunkPreviews: [
    {
      size: 947,
      preview: 'Как проводятся противопожарные инструктажи\r\n' +
        '\r\n' +
        'Допускать к работе на объекте защиты сотрудников можно...'
    },
    {
      size: 917,
      preview: '3. Как проводится первичный противопожарный инструктаж на рабочем месте\r\n' +
        '4. Как проводится повторный...'
    },
    {
      size: 886,
      preview: 'Обучение мерам пожарной безопасности осуществляется, в частности, по программам противопожарного инс...'
    },
    {
      size: 854,
      preview: '- изучения ими действий в случае возникновения пожара.\r\n' +
        '  Проведите противопожарный инструктаж в соо...'
    },
    {
      size: 962,
      preview: 'Противопожарный инструктаж завершается проверкой знаний и умений на предмет их соответствия требован...'
    },
    {
      size: 831,
      preview: '1.1. Кто проводит противопожарный инструктаж\r\n' +
        '  Противопожарный инструктаж проводят лица, которые ос...'
    },
    {
      size: 909,
      preview: 'Такими лицами могут быть (п. п. 7, 8 Приложения N 1 к этому Приказу):\r\n' +
        '- руководитель организации;\r\n' +
        '...'
    },
    {
      size: 880,
      preview: '- на вводный;\r\n' +
        '- первичный на рабочем месте;\r\n' +
        '- повторный;\r\n' +
        '- внеплановый;\r\n' +
        '- целевой.\r\n' +
        '\r\n' +
        '2. Как про...'
    },
    {
      size: 961,
      preview: 'При совмещении вводного противопожарного инструктажа и первичного противопожарного инструктажа на ра...'
    },
    {
      size: 854,
      preview: '- права и обязанности в области пожарной безопасности лиц, которые осуществляют трудовую или служебн...'
    },
    {
      size: 988,
      preview: 'Этот вид инструктажа нужно провести непосредственно на рабочем месте до начала трудовой (служебной) ...'
    },
    {
      size: 919,
      preview: '- общие сведения о взрывопожарной и пожарной опасности веществ и материалов, изготавливаемой продукц...'
    },
    {
      size: 972,
      preview: '- о лицах, которые осуществляют трудовую (служебную) деятельность в организации, связанную с охраной...'
    },
    {
      size: 970,
      preview: 'б) отнесены к категориям повышенной взрывопожароопасности, взрывопожароопасности, пожароопасности.\r\n' +
        '...'
    },
    {
      size: 841,
      preview: '5. Как проводится внеплановый противопожарный инструктаж\r\n' +
        '   Провести внеплановый противопожарный ин...'
    },
    {
      size: 956,
      preview: '- лица, осуществляющие трудовую или служебную деятельность в организации, допустили нарушения обязат...'
    },
    {
      size: 933,
      preview: '- руководитель организации или назначенное им лицо приняло соответствующее решение.\r\n' +
        '\r\n' +
        '  5.1. Как со...'
    },
    {
      size: 761,
      preview: 'В частности, его проводят (п. 18 Приложения N 1 к Приказу N 806):\r\n' +
        '\r\n' +
        '- перед выполнением огневых раб...'
    },
    {
      size: 871,
      preview: '7. Как заполнить журнал учета противопожарных инструктажей\r\n' +
        '   Должностное лицо, которое проводило п...'
    },
    {
      size: 927,
      preview: 'Запись в журнале не требуется, если оформляется наряд-допуск на выполнение огневых работ (п. 23 Прил...'
    },
    {
      size: 982,
      preview: 'Обратите внимание, что результаты проведения противопожарных инструктажей и проверки знаний и умений...'
    },
    {
      size: 143,
      preview: 'SAMPLE Образец заполнения журнала учета противопожарных инструктажей (на примере ситуации, когда про...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T16:40:01.589Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T16:40:01.700Z'
}
{
  fileName: 'document3.md',
  error: '403 Country, region, or territory not supported',
  level: 'error',
  message: 'Error processing file',
  timestamp: '2025-02-09T16:40:01.701Z'
}
{
  fileName: 'document4.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document4.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T16:40:01.701Z'
}
{
  fileName: 'document4.md',
  contentLength: 5394,
  contentPreview: 'Какие бывают виды инструктажей по охране труда\r\n' +
    '\r\n' +
    'Инструктажи по охране труда подразделяются: на вво...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T16:40:01.702Z'
}
{
  documentName: 'document4.md',
  contentLength: 5394,
  contentPreview: 'Какие бывают виды инструктажей по охране труда\r\n' +
    '\r\n' +
    'Инструктажи по охране труда подразделяются: на вво...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T16:40:01.703Z'
}
{
  documentName: 'document4.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T16:40:01.704Z'
}
{
  documentName: 'document4.md',
  chunksCreated: 8,
  chunkSizes: [
    213, 993, 905,
    513, 823, 926,
    899, 938
  ],
  chunkPreviews: [
    {
      size: 213,
      preview: 'Какие бывают виды инструктажей по охране труда\r\n' +
        '\r\n' +
        'Инструктажи по охране труда подразделяются: на вво...'
    },
    {
      size: 993,
      preview: 'Инструктажи по охране труда подразделяются: на вводный, инструктаж по охране труда на рабочем месте ...'
    },
    {
      size: 905,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кому нужно проводить вводный инструктаж по охране труда\r\n' +
        '2. Кому нужно проводить п...'
    },
    {
      size: 513,
      preview: 'SAMPLE Образец приказа о проведении вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '7. Кому нужно проводить ...'
    },
    {
      size: 823,
      preview: 'В то же время некоторых работников можно освободить от первичного инструктажа (п. 13 Правил обучения...'
    },
    {
      size: 926,
      preview: 'Кто должен проводить инструктаж по охране труда на рабочем месте генеральному директору\r\n' +
        'Если генера...'
    },
    {
      size: 899,
      preview: '4. Кому и для каких целей нужно проводить внеплановый инструктаж по охране труда на рабочем месте\r\n' +
        ' ...'
    },
    {
      size: 938,
      preview: '5. Кому и для каких целей нужно проводить целевой инструктаж по охране труда\r\n' +
        '   Целевой инструктаж ...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T16:40:01.704Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T16:40:01.744Z'
}
{
  fileName: 'document4.md',
  error: '403 Country, region, or territory not supported',
  level: 'error',
  message: 'Error processing file',
  timestamp: '2025-02-09T16:40:01.745Z'
}
{
  totalFiles: 4,
  totalDocumentsProcessed: 4,
  totalChunksCreated: 54,
  failedFiles: [ 'document1.md', 'document2.md', 'document3.md', 'document4.md' ],
  vectorStoreStatus: Promise { <pending> },
  level: 'info',
  message: 'Document loading process completed',
  timestamp: '2025-02-09T16:40:01.745Z'
}
{
  failedFiles: [ 'document1.md', 'document2.md', 'document3.md', 'document4.md' ],
  attempt: 1,
  level: 'info',
  message: 'Retrying failed files',
  timestamp: '2025-02-09T16:40:01.746Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 2,
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-09T16:40:02.761Z'
}
{
  fileCount: 4,
  files: [
    { name: 'document1.md', extension: '.md' },
    { name: 'document2.md', extension: '.md' },
    { name: 'document3.md', extension: '.md' },
    { name: 'document4.md', extension: '.md' }
  ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-09T16:40:02.762Z'
}
{
  fileName: 'document1.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document1.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T16:40:02.763Z'
}
{
  fileName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T16:40:02.764Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T16:40:02.764Z'
}
{
  documentName: 'document1.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T16:40:02.765Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkSizes: [
    973, 901, 971, 937,
    972, 861, 915, 775,
    903, 648, 580, 875,
    274
  ],
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T16:40:02.765Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T16:40:02.783Z'
}
{
  fileName: 'document1.md',
  error: '403 Country, region, or territory not supported',
  level: 'error',
  message: 'Error processing file',
  timestamp: '2025-02-09T16:40:02.784Z'
}
{
  fileName: 'document2.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document2.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T16:40:02.784Z'
}
{
  fileName: 'document2.md',
  contentLength: 8574,
  contentPreview: 'Как провести вводный инструктаж по охране труда\r\n' +
    '\r\n' +
    'Вводный инструктаж по охране труда обязаны провод...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T16:40:02.785Z'
}
{
  documentName: 'document2.md',
  contentLength: 8574,
  contentPreview: 'Как провести вводный инструктаж по охране труда\r\n' +
    '\r\n' +
    'Вводный инструктаж по охране труда обязаны провод...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T16:40:02.786Z'
}
{
  documentName: 'document2.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T16:40:02.786Z'
}
{
  documentName: 'document2.md',
  chunksCreated: 11,
  chunkSizes: [
    957, 775, 868, 650,
    949, 681, 922, 878,
    954, 890, 938
  ],
  chunkPreviews: [
    {
      size: 957,
      preview: 'Как провести вводный инструктаж по охране труда\r\n' +
        '\r\n' +
        'Вводный инструктаж по охране труда обязаны провод...'
    },
    {
      size: 775,
      preview: '5. Каковы риски в случае непроведения вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '6. Кто проводит вводны...'
    },
    {
      size: 868,
      preview: 'Работники организации (ИП), проводящие инструктаж, должны пройти обучение требованиям охраны труда в...'
    },
    {
      size: 650,
      preview: '2.1. Каков срок проведения вводного инструктажа по охране труда\r\n' +
        'Вводный инструктаж по охране труда ...'
    },
    {
      size: 949,
      preview: 'Инструктаж по охране труда на рабочем месте (в том числе и первичный) проводится в объеме мероприяти...'
    },
    {
      size: 681,
      preview: 'Для проведения вводного инструктажа вам нужно (п. п. 9, 11, 69, 88 Правил обучения по охране труда):...'
    },
    {
      size: 922,
      preview: 'Вводный инструктаж завершается проверкой знания требований охраны труда. Это неотъемлемая часть пров...'
    },
    {
      size: 878,
      preview: 'В Приложении N 1 указаны следующие темы для программы вводного инструктажа по охране труда:\r\n' +
        '\r\n' +
        '- Све...'
    },
    {
      size: 954,
      preview: '- Действия работников при возникновении возможных аварийных ситуаций. Виды сигнализаций и звуковых о...'
    },
    {
      size: 890,
      preview: 'Обратите внимание, что положения о ведении электронного документооборота в сфере трудовых отношений ...'
    },
    {
      size: 938,
      preview: '- фамилию, имя, отчество (при наличии), профессию (должность) работника, проводившего инструктаж;\r\n' +
        '-...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T16:40:02.787Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T16:40:02.807Z'
}
{
  fileName: 'document2.md',
  error: '403 Country, region, or territory not supported',
  level: 'error',
  message: 'Error processing file',
  timestamp: '2025-02-09T16:40:02.807Z'
}
{
  fileName: 'document3.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document3.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T16:40:02.808Z'
}
{
  fileName: 'document3.md',
  contentLength: 17193,
  contentPreview: 'Как проводятся противопожарные инструктажи\r\n' +
    '\r\n' +
    'Допускать к работе на объекте защиты сотрудников можно...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T16:40:02.809Z'
}
{
  documentName: 'document3.md',
  contentLength: 17193,
  contentPreview: 'Как проводятся противопожарные инструктажи\r\n' +
    '\r\n' +
    'Допускать к работе на объекте защиты сотрудников можно...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T16:40:02.809Z'
}
{
  documentName: 'document3.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T16:40:02.810Z'
}
{
  documentName: 'document3.md',
  chunksCreated: 22,
  chunkSizes: [
    947, 917, 886, 854, 962,
    831, 909, 880, 961, 854,
    988, 919, 972, 970, 841,
    956, 933, 761, 871, 927,
    982, 143
  ],
  chunkPreviews: [
    {
      size: 947,
      preview: 'Как проводятся противопожарные инструктажи\r\n' +
        '\r\n' +
        'Допускать к работе на объекте защиты сотрудников можно...'
    },
    {
      size: 917,
      preview: '3. Как проводится первичный противопожарный инструктаж на рабочем месте\r\n' +
        '4. Как проводится повторный...'
    },
    {
      size: 886,
      preview: 'Обучение мерам пожарной безопасности осуществляется, в частности, по программам противопожарного инс...'
    },
    {
      size: 854,
      preview: '- изучения ими действий в случае возникновения пожара.\r\n' +
        '  Проведите противопожарный инструктаж в соо...'
    },
    {
      size: 962,
      preview: 'Противопожарный инструктаж завершается проверкой знаний и умений на предмет их соответствия требован...'
    },
    {
      size: 831,
      preview: '1.1. Кто проводит противопожарный инструктаж\r\n' +
        '  Противопожарный инструктаж проводят лица, которые ос...'
    },
    {
      size: 909,
      preview: 'Такими лицами могут быть (п. п. 7, 8 Приложения N 1 к этому Приказу):\r\n' +
        '- руководитель организации;\r\n' +
        '...'
    },
    {
      size: 880,
      preview: '- на вводный;\r\n' +
        '- первичный на рабочем месте;\r\n' +
        '- повторный;\r\n' +
        '- внеплановый;\r\n' +
        '- целевой.\r\n' +
        '\r\n' +
        '2. Как про...'
    },
    {
      size: 961,
      preview: 'При совмещении вводного противопожарного инструктажа и первичного противопожарного инструктажа на ра...'
    },
    {
      size: 854,
      preview: '- права и обязанности в области пожарной безопасности лиц, которые осуществляют трудовую или служебн...'
    },
    {
      size: 988,
      preview: 'Этот вид инструктажа нужно провести непосредственно на рабочем месте до начала трудовой (служебной) ...'
    },
    {
      size: 919,
      preview: '- общие сведения о взрывопожарной и пожарной опасности веществ и материалов, изготавливаемой продукц...'
    },
    {
      size: 972,
      preview: '- о лицах, которые осуществляют трудовую (служебную) деятельность в организации, связанную с охраной...'
    },
    {
      size: 970,
      preview: 'б) отнесены к категориям повышенной взрывопожароопасности, взрывопожароопасности, пожароопасности.\r\n' +
        '...'
    },
    {
      size: 841,
      preview: '5. Как проводится внеплановый противопожарный инструктаж\r\n' +
        '   Провести внеплановый противопожарный ин...'
    },
    {
      size: 956,
      preview: '- лица, осуществляющие трудовую или служебную деятельность в организации, допустили нарушения обязат...'
    },
    {
      size: 933,
      preview: '- руководитель организации или назначенное им лицо приняло соответствующее решение.\r\n' +
        '\r\n' +
        '  5.1. Как со...'
    },
    {
      size: 761,
      preview: 'В частности, его проводят (п. 18 Приложения N 1 к Приказу N 806):\r\n' +
        '\r\n' +
        '- перед выполнением огневых раб...'
    },
    {
      size: 871,
      preview: '7. Как заполнить журнал учета противопожарных инструктажей\r\n' +
        '   Должностное лицо, которое проводило п...'
    },
    {
      size: 927,
      preview: 'Запись в журнале не требуется, если оформляется наряд-допуск на выполнение огневых работ (п. 23 Прил...'
    },
    {
      size: 982,
      preview: 'Обратите внимание, что результаты проведения противопожарных инструктажей и проверки знаний и умений...'
    },
    {
      size: 143,
      preview: 'SAMPLE Образец заполнения журнала учета противопожарных инструктажей (на примере ситуации, когда про...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T16:40:02.810Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T16:40:02.829Z'
}
{
  fileName: 'document3.md',
  error: '403 Country, region, or territory not supported',
  level: 'error',
  message: 'Error processing file',
  timestamp: '2025-02-09T16:40:02.830Z'
}
{
  fileName: 'document4.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document4.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T16:40:02.830Z'
}
{
  fileName: 'document4.md',
  contentLength: 5394,
  contentPreview: 'Какие бывают виды инструктажей по охране труда\r\n' +
    '\r\n' +
    'Инструктажи по охране труда подразделяются: на вво...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T16:40:02.831Z'
}
{
  documentName: 'document4.md',
  contentLength: 5394,
  contentPreview: 'Какие бывают виды инструктажей по охране труда\r\n' +
    '\r\n' +
    'Инструктажи по охране труда подразделяются: на вво...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T16:40:02.831Z'
}
{
  documentName: 'document4.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T16:40:02.832Z'
}
{
  documentName: 'document4.md',
  chunksCreated: 8,
  chunkSizes: [
    213, 993, 905,
    513, 823, 926,
    899, 938
  ],
  chunkPreviews: [
    {
      size: 213,
      preview: 'Какие бывают виды инструктажей по охране труда\r\n' +
        '\r\n' +
        'Инструктажи по охране труда подразделяются: на вво...'
    },
    {
      size: 993,
      preview: 'Инструктажи по охране труда подразделяются: на вводный, инструктаж по охране труда на рабочем месте ...'
    },
    {
      size: 905,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кому нужно проводить вводный инструктаж по охране труда\r\n' +
        '2. Кому нужно проводить п...'
    },
    {
      size: 513,
      preview: 'SAMPLE Образец приказа о проведении вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '7. Кому нужно проводить ...'
    },
    {
      size: 823,
      preview: 'В то же время некоторых работников можно освободить от первичного инструктажа (п. 13 Правил обучения...'
    },
    {
      size: 926,
      preview: 'Кто должен проводить инструктаж по охране труда на рабочем месте генеральному директору\r\n' +
        'Если генера...'
    },
    {
      size: 899,
      preview: '4. Кому и для каких целей нужно проводить внеплановый инструктаж по охране труда на рабочем месте\r\n' +
        ' ...'
    },
    {
      size: 938,
      preview: '5. Кому и для каких целей нужно проводить целевой инструктаж по охране труда\r\n' +
        '   Целевой инструктаж ...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T16:40:02.832Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T16:40:02.858Z'
}
{
  fileName: 'document4.md',
  error: '403 Country, region, or territory not supported',
  level: 'error',
  message: 'Error processing file',
  timestamp: '2025-02-09T16:40:02.858Z'
}
{
  totalFiles: 4,
  totalDocumentsProcessed: 4,
  totalChunksCreated: 54,
  failedFiles: [ 'document1.md', 'document2.md', 'document3.md', 'document4.md' ],
  vectorStoreStatus: Promise { <pending> },
  level: 'info',
  message: 'Document loading process completed',
  timestamp: '2025-02-09T16:40:02.858Z'
}
{
  failedFiles: [ 'document1.md', 'document2.md', 'document3.md', 'document4.md' ],
  attempt: 2,
  level: 'info',
  message: 'Retrying failed files',
  timestamp: '2025-02-09T16:40:02.859Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 3,
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-09T16:40:03.868Z'
}
{
  fileCount: 4,
  files: [
    { name: 'document1.md', extension: '.md' },
    { name: 'document2.md', extension: '.md' },
    { name: 'document3.md', extension: '.md' },
    { name: 'document4.md', extension: '.md' }
  ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-09T16:40:03.869Z'
}
{
  fileName: 'document1.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document1.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T16:40:03.869Z'
}
{
  fileName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T16:40:03.870Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T16:40:03.871Z'
}
{
  documentName: 'document1.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T16:40:03.871Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkSizes: [
    973, 901, 971, 937,
    972, 861, 915, 775,
    903, 648, 580, 875,
    274
  ],
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T16:40:03.872Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T16:40:03.893Z'
}
{
  fileName: 'document1.md',
  error: '403 Country, region, or territory not supported',
  level: 'error',
  message: 'Error processing file',
  timestamp: '2025-02-09T16:40:03.893Z'
}
{
  fileName: 'document2.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document2.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T16:40:03.894Z'
}
{
  fileName: 'document2.md',
  contentLength: 8574,
  contentPreview: 'Как провести вводный инструктаж по охране труда\r\n' +
    '\r\n' +
    'Вводный инструктаж по охране труда обязаны провод...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T16:40:03.894Z'
}
{
  documentName: 'document2.md',
  contentLength: 8574,
  contentPreview: 'Как провести вводный инструктаж по охране труда\r\n' +
    '\r\n' +
    'Вводный инструктаж по охране труда обязаны провод...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T16:40:03.895Z'
}
{
  documentName: 'document2.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T16:40:03.895Z'
}
{
  documentName: 'document2.md',
  chunksCreated: 11,
  chunkSizes: [
    957, 775, 868, 650,
    949, 681, 922, 878,
    954, 890, 938
  ],
  chunkPreviews: [
    {
      size: 957,
      preview: 'Как провести вводный инструктаж по охране труда\r\n' +
        '\r\n' +
        'Вводный инструктаж по охране труда обязаны провод...'
    },
    {
      size: 775,
      preview: '5. Каковы риски в случае непроведения вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '6. Кто проводит вводны...'
    },
    {
      size: 868,
      preview: 'Работники организации (ИП), проводящие инструктаж, должны пройти обучение требованиям охраны труда в...'
    },
    {
      size: 650,
      preview: '2.1. Каков срок проведения вводного инструктажа по охране труда\r\n' +
        'Вводный инструктаж по охране труда ...'
    },
    {
      size: 949,
      preview: 'Инструктаж по охране труда на рабочем месте (в том числе и первичный) проводится в объеме мероприяти...'
    },
    {
      size: 681,
      preview: 'Для проведения вводного инструктажа вам нужно (п. п. 9, 11, 69, 88 Правил обучения по охране труда):...'
    },
    {
      size: 922,
      preview: 'Вводный инструктаж завершается проверкой знания требований охраны труда. Это неотъемлемая часть пров...'
    },
    {
      size: 878,
      preview: 'В Приложении N 1 указаны следующие темы для программы вводного инструктажа по охране труда:\r\n' +
        '\r\n' +
        '- Све...'
    },
    {
      size: 954,
      preview: '- Действия работников при возникновении возможных аварийных ситуаций. Виды сигнализаций и звуковых о...'
    },
    {
      size: 890,
      preview: 'Обратите внимание, что положения о ведении электронного документооборота в сфере трудовых отношений ...'
    },
    {
      size: 938,
      preview: '- фамилию, имя, отчество (при наличии), профессию (должность) работника, проводившего инструктаж;\r\n' +
        '-...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T16:40:03.896Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T16:40:03.915Z'
}
{
  fileName: 'document2.md',
  error: '403 Country, region, or territory not supported',
  level: 'error',
  message: 'Error processing file',
  timestamp: '2025-02-09T16:40:03.916Z'
}
{
  fileName: 'document3.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document3.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T16:40:03.916Z'
}
{
  fileName: 'document3.md',
  contentLength: 17193,
  contentPreview: 'Как проводятся противопожарные инструктажи\r\n' +
    '\r\n' +
    'Допускать к работе на объекте защиты сотрудников можно...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T16:40:03.917Z'
}
{
  documentName: 'document3.md',
  contentLength: 17193,
  contentPreview: 'Как проводятся противопожарные инструктажи\r\n' +
    '\r\n' +
    'Допускать к работе на объекте защиты сотрудников можно...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T16:40:03.917Z'
}
{
  documentName: 'document3.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T16:40:03.918Z'
}
{
  documentName: 'document3.md',
  chunksCreated: 22,
  chunkSizes: [
    947, 917, 886, 854, 962,
    831, 909, 880, 961, 854,
    988, 919, 972, 970, 841,
    956, 933, 761, 871, 927,
    982, 143
  ],
  chunkPreviews: [
    {
      size: 947,
      preview: 'Как проводятся противопожарные инструктажи\r\n' +
        '\r\n' +
        'Допускать к работе на объекте защиты сотрудников можно...'
    },
    {
      size: 917,
      preview: '3. Как проводится первичный противопожарный инструктаж на рабочем месте\r\n' +
        '4. Как проводится повторный...'
    },
    {
      size: 886,
      preview: 'Обучение мерам пожарной безопасности осуществляется, в частности, по программам противопожарного инс...'
    },
    {
      size: 854,
      preview: '- изучения ими действий в случае возникновения пожара.\r\n' +
        '  Проведите противопожарный инструктаж в соо...'
    },
    {
      size: 962,
      preview: 'Противопожарный инструктаж завершается проверкой знаний и умений на предмет их соответствия требован...'
    },
    {
      size: 831,
      preview: '1.1. Кто проводит противопожарный инструктаж\r\n' +
        '  Противопожарный инструктаж проводят лица, которые ос...'
    },
    {
      size: 909,
      preview: 'Такими лицами могут быть (п. п. 7, 8 Приложения N 1 к этому Приказу):\r\n' +
        '- руководитель организации;\r\n' +
        '...'
    },
    {
      size: 880,
      preview: '- на вводный;\r\n' +
        '- первичный на рабочем месте;\r\n' +
        '- повторный;\r\n' +
        '- внеплановый;\r\n' +
        '- целевой.\r\n' +
        '\r\n' +
        '2. Как про...'
    },
    {
      size: 961,
      preview: 'При совмещении вводного противопожарного инструктажа и первичного противопожарного инструктажа на ра...'
    },
    {
      size: 854,
      preview: '- права и обязанности в области пожарной безопасности лиц, которые осуществляют трудовую или служебн...'
    },
    {
      size: 988,
      preview: 'Этот вид инструктажа нужно провести непосредственно на рабочем месте до начала трудовой (служебной) ...'
    },
    {
      size: 919,
      preview: '- общие сведения о взрывопожарной и пожарной опасности веществ и материалов, изготавливаемой продукц...'
    },
    {
      size: 972,
      preview: '- о лицах, которые осуществляют трудовую (служебную) деятельность в организации, связанную с охраной...'
    },
    {
      size: 970,
      preview: 'б) отнесены к категориям повышенной взрывопожароопасности, взрывопожароопасности, пожароопасности.\r\n' +
        '...'
    },
    {
      size: 841,
      preview: '5. Как проводится внеплановый противопожарный инструктаж\r\n' +
        '   Провести внеплановый противопожарный ин...'
    },
    {
      size: 956,
      preview: '- лица, осуществляющие трудовую или служебную деятельность в организации, допустили нарушения обязат...'
    },
    {
      size: 933,
      preview: '- руководитель организации или назначенное им лицо приняло соответствующее решение.\r\n' +
        '\r\n' +
        '  5.1. Как со...'
    },
    {
      size: 761,
      preview: 'В частности, его проводят (п. 18 Приложения N 1 к Приказу N 806):\r\n' +
        '\r\n' +
        '- перед выполнением огневых раб...'
    },
    {
      size: 871,
      preview: '7. Как заполнить журнал учета противопожарных инструктажей\r\n' +
        '   Должностное лицо, которое проводило п...'
    },
    {
      size: 927,
      preview: 'Запись в журнале не требуется, если оформляется наряд-допуск на выполнение огневых работ (п. 23 Прил...'
    },
    {
      size: 982,
      preview: 'Обратите внимание, что результаты проведения противопожарных инструктажей и проверки знаний и умений...'
    },
    {
      size: 143,
      preview: 'SAMPLE Образец заполнения журнала учета противопожарных инструктажей (на примере ситуации, когда про...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T16:40:03.918Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T16:40:03.944Z'
}
{
  fileName: 'document3.md',
  error: '403 Country, region, or territory not supported',
  level: 'error',
  message: 'Error processing file',
  timestamp: '2025-02-09T16:40:03.944Z'
}
{
  fileName: 'document4.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document4.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T16:40:03.944Z'
}
{
  fileName: 'document4.md',
  contentLength: 5394,
  contentPreview: 'Какие бывают виды инструктажей по охране труда\r\n' +
    '\r\n' +
    'Инструктажи по охране труда подразделяются: на вво...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T16:40:03.945Z'
}
{
  documentName: 'document4.md',
  contentLength: 5394,
  contentPreview: 'Какие бывают виды инструктажей по охране труда\r\n' +
    '\r\n' +
    'Инструктажи по охране труда подразделяются: на вво...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T16:40:03.945Z'
}
{
  documentName: 'document4.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T16:40:03.946Z'
}
{
  documentName: 'document4.md',
  chunksCreated: 8,
  chunkSizes: [
    213, 993, 905,
    513, 823, 926,
    899, 938
  ],
  chunkPreviews: [
    {
      size: 213,
      preview: 'Какие бывают виды инструктажей по охране труда\r\n' +
        '\r\n' +
        'Инструктажи по охране труда подразделяются: на вво...'
    },
    {
      size: 993,
      preview: 'Инструктажи по охране труда подразделяются: на вводный, инструктаж по охране труда на рабочем месте ...'
    },
    {
      size: 905,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кому нужно проводить вводный инструктаж по охране труда\r\n' +
        '2. Кому нужно проводить п...'
    },
    {
      size: 513,
      preview: 'SAMPLE Образец приказа о проведении вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '7. Кому нужно проводить ...'
    },
    {
      size: 823,
      preview: 'В то же время некоторых работников можно освободить от первичного инструктажа (п. 13 Правил обучения...'
    },
    {
      size: 926,
      preview: 'Кто должен проводить инструктаж по охране труда на рабочем месте генеральному директору\r\n' +
        'Если генера...'
    },
    {
      size: 899,
      preview: '4. Кому и для каких целей нужно проводить внеплановый инструктаж по охране труда на рабочем месте\r\n' +
        ' ...'
    },
    {
      size: 938,
      preview: '5. Кому и для каких целей нужно проводить целевой инструктаж по охране труда\r\n' +
        '   Целевой инструктаж ...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T16:40:03.946Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T16:40:03.962Z'
}
{
  fileName: 'document4.md',
  error: '403 Country, region, or territory not supported',
  level: 'error',
  message: 'Error processing file',
  timestamp: '2025-02-09T16:40:03.963Z'
}
{
  totalFiles: 4,
  totalDocumentsProcessed: 4,
  totalChunksCreated: 54,
  failedFiles: [ 'document1.md', 'document2.md', 'document3.md', 'document4.md' ],
  vectorStoreStatus: Promise { <pending> },
  level: 'info',
  message: 'Document loading process completed',
  timestamp: '2025-02-09T16:40:03.963Z'
}
{
  failedFiles: [ 'document1.md', 'document2.md', 'document3.md', 'document4.md' ],
  attempt: 3,
  level: 'info',
  message: 'Retrying failed files',
  timestamp: '2025-02-09T16:40:03.964Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 4,
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-09T16:40:04.975Z'
}
{
  fileCount: 4,
  files: [
    { name: 'document1.md', extension: '.md' },
    { name: 'document2.md', extension: '.md' },
    { name: 'document3.md', extension: '.md' },
    { name: 'document4.md', extension: '.md' }
  ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-09T16:40:04.976Z'
}
{
  fileName: 'document1.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document1.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T16:40:04.976Z'
}
{
  fileName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T16:40:04.977Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T16:40:04.978Z'
}
{
  documentName: 'document1.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T16:40:04.978Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkSizes: [
    973, 901, 971, 937,
    972, 861, 915, 775,
    903, 648, 580, 875,
    274
  ],
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T16:40:04.978Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T16:40:05.000Z'
}
{
  fileName: 'document1.md',
  error: '403 Country, region, or territory not supported',
  level: 'error',
  message: 'Error processing file',
  timestamp: '2025-02-09T16:40:05.000Z'
}
{
  fileName: 'document2.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document2.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T16:40:05.001Z'
}
{
  fileName: 'document2.md',
  contentLength: 8574,
  contentPreview: 'Как провести вводный инструктаж по охране труда\r\n' +
    '\r\n' +
    'Вводный инструктаж по охране труда обязаны провод...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T16:40:05.002Z'
}
{
  documentName: 'document2.md',
  contentLength: 8574,
  contentPreview: 'Как провести вводный инструктаж по охране труда\r\n' +
    '\r\n' +
    'Вводный инструктаж по охране труда обязаны провод...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T16:40:05.002Z'
}
{
  documentName: 'document2.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T16:40:05.002Z'
}
{
  documentName: 'document2.md',
  chunksCreated: 11,
  chunkSizes: [
    957, 775, 868, 650,
    949, 681, 922, 878,
    954, 890, 938
  ],
  chunkPreviews: [
    {
      size: 957,
      preview: 'Как провести вводный инструктаж по охране труда\r\n' +
        '\r\n' +
        'Вводный инструктаж по охране труда обязаны провод...'
    },
    {
      size: 775,
      preview: '5. Каковы риски в случае непроведения вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '6. Кто проводит вводны...'
    },
    {
      size: 868,
      preview: 'Работники организации (ИП), проводящие инструктаж, должны пройти обучение требованиям охраны труда в...'
    },
    {
      size: 650,
      preview: '2.1. Каков срок проведения вводного инструктажа по охране труда\r\n' +
        'Вводный инструктаж по охране труда ...'
    },
    {
      size: 949,
      preview: 'Инструктаж по охране труда на рабочем месте (в том числе и первичный) проводится в объеме мероприяти...'
    },
    {
      size: 681,
      preview: 'Для проведения вводного инструктажа вам нужно (п. п. 9, 11, 69, 88 Правил обучения по охране труда):...'
    },
    {
      size: 922,
      preview: 'Вводный инструктаж завершается проверкой знания требований охраны труда. Это неотъемлемая часть пров...'
    },
    {
      size: 878,
      preview: 'В Приложении N 1 указаны следующие темы для программы вводного инструктажа по охране труда:\r\n' +
        '\r\n' +
        '- Све...'
    },
    {
      size: 954,
      preview: '- Действия работников при возникновении возможных аварийных ситуаций. Виды сигнализаций и звуковых о...'
    },
    {
      size: 890,
      preview: 'Обратите внимание, что положения о ведении электронного документооборота в сфере трудовых отношений ...'
    },
    {
      size: 938,
      preview: '- фамилию, имя, отчество (при наличии), профессию (должность) работника, проводившего инструктаж;\r\n' +
        '-...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T16:40:05.003Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T16:40:05.033Z'
}
{
  fileName: 'document2.md',
  error: '403 Country, region, or territory not supported',
  level: 'error',
  message: 'Error processing file',
  timestamp: '2025-02-09T16:40:05.034Z'
}
{
  fileName: 'document3.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document3.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T16:40:05.034Z'
}
{
  fileName: 'document3.md',
  contentLength: 17193,
  contentPreview: 'Как проводятся противопожарные инструктажи\r\n' +
    '\r\n' +
    'Допускать к работе на объекте защиты сотрудников можно...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T16:40:05.035Z'
}
{
  documentName: 'document3.md',
  contentLength: 17193,
  contentPreview: 'Как проводятся противопожарные инструктажи\r\n' +
    '\r\n' +
    'Допускать к работе на объекте защиты сотрудников можно...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T16:40:05.036Z'
}
{
  documentName: 'document3.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T16:40:05.036Z'
}
{
  documentName: 'document3.md',
  chunksCreated: 22,
  chunkSizes: [
    947, 917, 886, 854, 962,
    831, 909, 880, 961, 854,
    988, 919, 972, 970, 841,
    956, 933, 761, 871, 927,
    982, 143
  ],
  chunkPreviews: [
    {
      size: 947,
      preview: 'Как проводятся противопожарные инструктажи\r\n' +
        '\r\n' +
        'Допускать к работе на объекте защиты сотрудников можно...'
    },
    {
      size: 917,
      preview: '3. Как проводится первичный противопожарный инструктаж на рабочем месте\r\n' +
        '4. Как проводится повторный...'
    },
    {
      size: 886,
      preview: 'Обучение мерам пожарной безопасности осуществляется, в частности, по программам противопожарного инс...'
    },
    {
      size: 854,
      preview: '- изучения ими действий в случае возникновения пожара.\r\n' +
        '  Проведите противопожарный инструктаж в соо...'
    },
    {
      size: 962,
      preview: 'Противопожарный инструктаж завершается проверкой знаний и умений на предмет их соответствия требован...'
    },
    {
      size: 831,
      preview: '1.1. Кто проводит противопожарный инструктаж\r\n' +
        '  Противопожарный инструктаж проводят лица, которые ос...'
    },
    {
      size: 909,
      preview: 'Такими лицами могут быть (п. п. 7, 8 Приложения N 1 к этому Приказу):\r\n' +
        '- руководитель организации;\r\n' +
        '...'
    },
    {
      size: 880,
      preview: '- на вводный;\r\n' +
        '- первичный на рабочем месте;\r\n' +
        '- повторный;\r\n' +
        '- внеплановый;\r\n' +
        '- целевой.\r\n' +
        '\r\n' +
        '2. Как про...'
    },
    {
      size: 961,
      preview: 'При совмещении вводного противопожарного инструктажа и первичного противопожарного инструктажа на ра...'
    },
    {
      size: 854,
      preview: '- права и обязанности в области пожарной безопасности лиц, которые осуществляют трудовую или служебн...'
    },
    {
      size: 988,
      preview: 'Этот вид инструктажа нужно провести непосредственно на рабочем месте до начала трудовой (служебной) ...'
    },
    {
      size: 919,
      preview: '- общие сведения о взрывопожарной и пожарной опасности веществ и материалов, изготавливаемой продукц...'
    },
    {
      size: 972,
      preview: '- о лицах, которые осуществляют трудовую (служебную) деятельность в организации, связанную с охраной...'
    },
    {
      size: 970,
      preview: 'б) отнесены к категориям повышенной взрывопожароопасности, взрывопожароопасности, пожароопасности.\r\n' +
        '...'
    },
    {
      size: 841,
      preview: '5. Как проводится внеплановый противопожарный инструктаж\r\n' +
        '   Провести внеплановый противопожарный ин...'
    },
    {
      size: 956,
      preview: '- лица, осуществляющие трудовую или служебную деятельность в организации, допустили нарушения обязат...'
    },
    {
      size: 933,
      preview: '- руководитель организации или назначенное им лицо приняло соответствующее решение.\r\n' +
        '\r\n' +
        '  5.1. Как со...'
    },
    {
      size: 761,
      preview: 'В частности, его проводят (п. 18 Приложения N 1 к Приказу N 806):\r\n' +
        '\r\n' +
        '- перед выполнением огневых раб...'
    },
    {
      size: 871,
      preview: '7. Как заполнить журнал учета противопожарных инструктажей\r\n' +
        '   Должностное лицо, которое проводило п...'
    },
    {
      size: 927,
      preview: 'Запись в журнале не требуется, если оформляется наряд-допуск на выполнение огневых работ (п. 23 Прил...'
    },
    {
      size: 982,
      preview: 'Обратите внимание, что результаты проведения противопожарных инструктажей и проверки знаний и умений...'
    },
    {
      size: 143,
      preview: 'SAMPLE Образец заполнения журнала учета противопожарных инструктажей (на примере ситуации, когда про...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T16:40:05.037Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T16:40:05.057Z'
}
{
  fileName: 'document3.md',
  error: '403 Country, region, or territory not supported',
  level: 'error',
  message: 'Error processing file',
  timestamp: '2025-02-09T16:40:05.057Z'
}
{
  fileName: 'document4.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document4.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T16:40:05.058Z'
}
{
  fileName: 'document4.md',
  contentLength: 5394,
  contentPreview: 'Какие бывают виды инструктажей по охране труда\r\n' +
    '\r\n' +
    'Инструктажи по охране труда подразделяются: на вво...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T16:40:05.059Z'
}
{
  documentName: 'document4.md',
  contentLength: 5394,
  contentPreview: 'Какие бывают виды инструктажей по охране труда\r\n' +
    '\r\n' +
    'Инструктажи по охране труда подразделяются: на вво...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T16:40:05.059Z'
}
{
  documentName: 'document4.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T16:40:05.059Z'
}
{
  documentName: 'document4.md',
  chunksCreated: 8,
  chunkSizes: [
    213, 993, 905,
    513, 823, 926,
    899, 938
  ],
  chunkPreviews: [
    {
      size: 213,
      preview: 'Какие бывают виды инструктажей по охране труда\r\n' +
        '\r\n' +
        'Инструктажи по охране труда подразделяются: на вво...'
    },
    {
      size: 993,
      preview: 'Инструктажи по охране труда подразделяются: на вводный, инструктаж по охране труда на рабочем месте ...'
    },
    {
      size: 905,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кому нужно проводить вводный инструктаж по охране труда\r\n' +
        '2. Кому нужно проводить п...'
    },
    {
      size: 513,
      preview: 'SAMPLE Образец приказа о проведении вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '7. Кому нужно проводить ...'
    },
    {
      size: 823,
      preview: 'В то же время некоторых работников можно освободить от первичного инструктажа (п. 13 Правил обучения...'
    },
    {
      size: 926,
      preview: 'Кто должен проводить инструктаж по охране труда на рабочем месте генеральному директору\r\n' +
        'Если генера...'
    },
    {
      size: 899,
      preview: '4. Кому и для каких целей нужно проводить внеплановый инструктаж по охране труда на рабочем месте\r\n' +
        ' ...'
    },
    {
      size: 938,
      preview: '5. Кому и для каких целей нужно проводить целевой инструктаж по охране труда\r\n' +
        '   Целевой инструктаж ...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T16:40:05.060Z'
}
{
  message: 'Failed to add documents to vector store',
  level: 'error',
  timestamp: '2025-02-09T16:40:05.082Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  cwd: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas',
  level: 'info',
  message: 'Starting document loading process',
  timestamp: '2025-02-09T16:41:03.259Z'
}
{
  isInitialized: false,
  documentCount: 0,
  level: 'info',
  message: 'Initial vector store status',
  timestamp: '2025-02-09T16:41:03.262Z'
}
{
  message: 'Clearing existing documents from vector store',
  level: 'info',
  timestamp: '2025-02-09T16:41:03.263Z'
}
{
  error: '\n' +
    '                You must provide either ids, where, or where_document to delete. If\n' +
    '                you want to delete all data in a collection you can delete the\n' +
    '                collection itself using the delete_collection method. Or alternatively,\n' +
    '                you can get() all the relevant ids and then delete them.\n' +
    '                ',
  level: 'warn',
  message: 'Failed to clear vector store',
  timestamp: '2025-02-09T16:41:03.382Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 1,
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-09T16:41:03.383Z'
}
{
  fileCount: 4,
  files: [
    { name: 'document1.md', extension: '.md' },
    { name: 'document2.md', extension: '.md' },
    { name: 'document3.md', extension: '.md' },
    { name: 'document4.md', extension: '.md' }
  ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-09T16:41:03.384Z'
}
{
  fileName: 'document1.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document1.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T16:41:03.385Z'
}
{
  fileName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T16:41:03.386Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T16:41:03.387Z'
}
{
  documentName: 'document1.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T16:41:03.388Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkSizes: [
    973, 901, 971, 937,
    972, 861, 915, 775,
    903, 648, 580, 875,
    274
  ],
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T16:41:03.389Z'
}
{
  chunksCreated: 13,
  fileName: 'document1.md',
  level: 'info',
  message: 'Added document to vector store: document1.md',
  timestamp: '2025-02-09T16:41:05.279Z'
}
{
  fileName: 'document2.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document2.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T16:41:05.280Z'
}
{
  fileName: 'document2.md',
  contentLength: 8574,
  contentPreview: 'Как провести вводный инструктаж по охране труда\r\n' +
    '\r\n' +
    'Вводный инструктаж по охране труда обязаны провод...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T16:41:05.281Z'
}
{
  documentName: 'document2.md',
  contentLength: 8574,
  contentPreview: 'Как провести вводный инструктаж по охране труда\r\n' +
    '\r\n' +
    'Вводный инструктаж по охране труда обязаны провод...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T16:41:05.281Z'
}
{
  documentName: 'document2.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T16:41:05.282Z'
}
{
  documentName: 'document2.md',
  chunksCreated: 11,
  chunkSizes: [
    957, 775, 868, 650,
    949, 681, 922, 878,
    954, 890, 938
  ],
  chunkPreviews: [
    {
      size: 957,
      preview: 'Как провести вводный инструктаж по охране труда\r\n' +
        '\r\n' +
        'Вводный инструктаж по охране труда обязаны провод...'
    },
    {
      size: 775,
      preview: '5. Каковы риски в случае непроведения вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '6. Кто проводит вводны...'
    },
    {
      size: 868,
      preview: 'Работники организации (ИП), проводящие инструктаж, должны пройти обучение требованиям охраны труда в...'
    },
    {
      size: 650,
      preview: '2.1. Каков срок проведения вводного инструктажа по охране труда\r\n' +
        'Вводный инструктаж по охране труда ...'
    },
    {
      size: 949,
      preview: 'Инструктаж по охране труда на рабочем месте (в том числе и первичный) проводится в объеме мероприяти...'
    },
    {
      size: 681,
      preview: 'Для проведения вводного инструктажа вам нужно (п. п. 9, 11, 69, 88 Правил обучения по охране труда):...'
    },
    {
      size: 922,
      preview: 'Вводный инструктаж завершается проверкой знания требований охраны труда. Это неотъемлемая часть пров...'
    },
    {
      size: 878,
      preview: 'В Приложении N 1 указаны следующие темы для программы вводного инструктажа по охране труда:\r\n' +
        '\r\n' +
        '- Све...'
    },
    {
      size: 954,
      preview: '- Действия работников при возникновении возможных аварийных ситуаций. Виды сигнализаций и звуковых о...'
    },
    {
      size: 890,
      preview: 'Обратите внимание, что положения о ведении электронного документооборота в сфере трудовых отношений ...'
    },
    {
      size: 938,
      preview: '- фамилию, имя, отчество (при наличии), профессию (должность) работника, проводившего инструктаж;\r\n' +
        '-...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T16:41:05.282Z'
}
{
  chunksCreated: 11,
  fileName: 'document2.md',
  level: 'info',
  message: 'Added document to vector store: document2.md',
  timestamp: '2025-02-09T16:41:07.916Z'
}
{
  fileName: 'document3.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document3.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T16:41:07.916Z'
}
{
  fileName: 'document3.md',
  contentLength: 17193,
  contentPreview: 'Как проводятся противопожарные инструктажи\r\n' +
    '\r\n' +
    'Допускать к работе на объекте защиты сотрудников можно...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T16:41:07.917Z'
}
{
  documentName: 'document3.md',
  contentLength: 17193,
  contentPreview: 'Как проводятся противопожарные инструктажи\r\n' +
    '\r\n' +
    'Допускать к работе на объекте защиты сотрудников можно...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T16:41:07.918Z'
}
{
  documentName: 'document3.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T16:41:07.918Z'
}
{
  documentName: 'document3.md',
  chunksCreated: 22,
  chunkSizes: [
    947, 917, 886, 854, 962,
    831, 909, 880, 961, 854,
    988, 919, 972, 970, 841,
    956, 933, 761, 871, 927,
    982, 143
  ],
  chunkPreviews: [
    {
      size: 947,
      preview: 'Как проводятся противопожарные инструктажи\r\n' +
        '\r\n' +
        'Допускать к работе на объекте защиты сотрудников можно...'
    },
    {
      size: 917,
      preview: '3. Как проводится первичный противопожарный инструктаж на рабочем месте\r\n' +
        '4. Как проводится повторный...'
    },
    {
      size: 886,
      preview: 'Обучение мерам пожарной безопасности осуществляется, в частности, по программам противопожарного инс...'
    },
    {
      size: 854,
      preview: '- изучения ими действий в случае возникновения пожара.\r\n' +
        '  Проведите противопожарный инструктаж в соо...'
    },
    {
      size: 962,
      preview: 'Противопожарный инструктаж завершается проверкой знаний и умений на предмет их соответствия требован...'
    },
    {
      size: 831,
      preview: '1.1. Кто проводит противопожарный инструктаж\r\n' +
        '  Противопожарный инструктаж проводят лица, которые ос...'
    },
    {
      size: 909,
      preview: 'Такими лицами могут быть (п. п. 7, 8 Приложения N 1 к этому Приказу):\r\n' +
        '- руководитель организации;\r\n' +
        '...'
    },
    {
      size: 880,
      preview: '- на вводный;\r\n' +
        '- первичный на рабочем месте;\r\n' +
        '- повторный;\r\n' +
        '- внеплановый;\r\n' +
        '- целевой.\r\n' +
        '\r\n' +
        '2. Как про...'
    },
    {
      size: 961,
      preview: 'При совмещении вводного противопожарного инструктажа и первичного противопожарного инструктажа на ра...'
    },
    {
      size: 854,
      preview: '- права и обязанности в области пожарной безопасности лиц, которые осуществляют трудовую или служебн...'
    },
    {
      size: 988,
      preview: 'Этот вид инструктажа нужно провести непосредственно на рабочем месте до начала трудовой (служебной) ...'
    },
    {
      size: 919,
      preview: '- общие сведения о взрывопожарной и пожарной опасности веществ и материалов, изготавливаемой продукц...'
    },
    {
      size: 972,
      preview: '- о лицах, которые осуществляют трудовую (служебную) деятельность в организации, связанную с охраной...'
    },
    {
      size: 970,
      preview: 'б) отнесены к категориям повышенной взрывопожароопасности, взрывопожароопасности, пожароопасности.\r\n' +
        '...'
    },
    {
      size: 841,
      preview: '5. Как проводится внеплановый противопожарный инструктаж\r\n' +
        '   Провести внеплановый противопожарный ин...'
    },
    {
      size: 956,
      preview: '- лица, осуществляющие трудовую или служебную деятельность в организации, допустили нарушения обязат...'
    },
    {
      size: 933,
      preview: '- руководитель организации или назначенное им лицо приняло соответствующее решение.\r\n' +
        '\r\n' +
        '  5.1. Как со...'
    },
    {
      size: 761,
      preview: 'В частности, его проводят (п. 18 Приложения N 1 к Приказу N 806):\r\n' +
        '\r\n' +
        '- перед выполнением огневых раб...'
    },
    {
      size: 871,
      preview: '7. Как заполнить журнал учета противопожарных инструктажей\r\n' +
        '   Должностное лицо, которое проводило п...'
    },
    {
      size: 927,
      preview: 'Запись в журнале не требуется, если оформляется наряд-допуск на выполнение огневых работ (п. 23 Прил...'
    },
    {
      size: 982,
      preview: 'Обратите внимание, что результаты проведения противопожарных инструктажей и проверки знаний и умений...'
    },
    {
      size: 143,
      preview: 'SAMPLE Образец заполнения журнала учета противопожарных инструктажей (на примере ситуации, когда про...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T16:41:07.918Z'
}
{
  chunksCreated: 22,
  fileName: 'document3.md',
  level: 'info',
  message: 'Added document to vector store: document3.md',
  timestamp: '2025-02-09T16:41:09.767Z'
}
{
  fileName: 'document4.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document4.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T16:41:09.768Z'
}
{
  fileName: 'document4.md',
  contentLength: 5394,
  contentPreview: 'Какие бывают виды инструктажей по охране труда\r\n' +
    '\r\n' +
    'Инструктажи по охране труда подразделяются: на вво...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T16:41:09.769Z'
}
{
  documentName: 'document4.md',
  contentLength: 5394,
  contentPreview: 'Какие бывают виды инструктажей по охране труда\r\n' +
    '\r\n' +
    'Инструктажи по охране труда подразделяются: на вво...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T16:41:09.769Z'
}
{
  documentName: 'document4.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T16:41:09.770Z'
}
{
  documentName: 'document4.md',
  chunksCreated: 8,
  chunkSizes: [
    213, 993, 905,
    513, 823, 926,
    899, 938
  ],
  chunkPreviews: [
    {
      size: 213,
      preview: 'Какие бывают виды инструктажей по охране труда\r\n' +
        '\r\n' +
        'Инструктажи по охране труда подразделяются: на вво...'
    },
    {
      size: 993,
      preview: 'Инструктажи по охране труда подразделяются: на вводный, инструктаж по охране труда на рабочем месте ...'
    },
    {
      size: 905,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кому нужно проводить вводный инструктаж по охране труда\r\n' +
        '2. Кому нужно проводить п...'
    },
    {
      size: 513,
      preview: 'SAMPLE Образец приказа о проведении вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '7. Кому нужно проводить ...'
    },
    {
      size: 823,
      preview: 'В то же время некоторых работников можно освободить от первичного инструктажа (п. 13 Правил обучения...'
    },
    {
      size: 926,
      preview: 'Кто должен проводить инструктаж по охране труда на рабочем месте генеральному директору\r\n' +
        'Если генера...'
    },
    {
      size: 899,
      preview: '4. Кому и для каких целей нужно проводить внеплановый инструктаж по охране труда на рабочем месте\r\n' +
        ' ...'
    },
    {
      size: 938,
      preview: '5. Кому и для каких целей нужно проводить целевой инструктаж по охране труда\r\n' +
        '   Целевой инструктаж ...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T16:41:09.770Z'
}
{
  chunksCreated: 8,
  fileName: 'document4.md',
  level: 'info',
  message: 'Added document to vector store: document4.md',
  timestamp: '2025-02-09T16:41:11.123Z'
}
{
  totalFiles: 4,
  totalDocumentsProcessed: 4,
  totalChunksCreated: 54,
  failedFiles: [],
  vectorStoreStatus: Promise { <pending> },
  level: 'info',
  message: 'Document loading process completed',
  timestamp: '2025-02-09T16:41:11.123Z'
}
{
  initialDocumentCount: 0,
  finalDocumentCount: 540,
  documentsAdded: 540,
  level: 'info',
  message: 'Document loading completed successfully',
  timestamp: '2025-02-09T16:41:11.136Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-09T16:42:08.612Z'
}
{
  hasCurrentArtifact: false,
  messageCount: 1,
  level: 'debug',
  message: 'Preparing LLM prompt for routing',
  timestamp: '2025-02-09T16:42:08.614Z'
}
{
  message: 'Initializing model for routing decision',
  level: 'debug',
  timestamp: '2025-02-09T16:42:08.615Z'
}
{
  message: 'Invoking model for routing decision',
  level: 'debug',
  timestamp: '2025-02-09T16:42:08.617Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-09T16:42:13.516Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь план подготовки к судебному заседанию',
          additional_kwargs: {},
          response_metadata: {},
          id: 'c168bb34-c1fa-4626-8d65-dc45665902d8'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь план подготовки к судебному заседанию',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: 'c168bb34-c1fa-4626-8d65-dc45665902d8'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-09T16:42:13.521Z'
}
{
  message: 'Starting artifact generation process',
  level: 'info',
  timestamp: '2025-02-09T16:42:13.530Z'
}
{
  modelName: 'gpt-4o-mini',
  modelProvider: 'openai',
  level: 'debug',
  message: 'Model configuration',
  timestamp: '2025-02-09T16:42:13.531Z'
}
{
  message: 'Model initialized with temperature 0.5',
  level: 'debug',
  timestamp: '2025-02-09T16:42:13.532Z'
}
{
  message: 'Model bound with artifact generation tool',
  level: 'debug',
  timestamp: '2025-02-09T16:42:13.532Z'
}
{
  memoriesLength: 278,
  level: 'debug',
  message: 'Retrieved formatted reflections',
  timestamp: '2025-02-09T16:42:13.533Z'
}
{
  promptLength: 1069,
  level: 'debug',
  message: 'Formatted new artifact prompt',
  timestamp: '2025-02-09T16:42:13.534Z'
}
{
  hasUserSystemPrompt: false,
  fullPromptLength: 1069,
  level: 'debug',
  message: 'Assembled full system prompt',
  timestamp: '2025-02-09T16:42:13.534Z'
}
{
  message: 'Invoking model for artifact generation',
  level: 'info',
  timestamp: '2025-02-09T16:42:13.535Z'
}
{
  hasToolCalls: true,
  toolCallsCount: 1,
  level: 'debug',
  message: 'Received model response',
  timestamp: '2025-02-09T16:42:18.831Z'
}
{
  title: 'План подготовки к суду',
  type: 'text',
  contentLength: 994,
  content: '# План подготовки к судебному заседанию\n' +
    '\n' +
    '## 1. Изучение дела\n' +
    '   - Ознакомление с материалами дела.\n' +
    '   - Анализ позиций сторон.\n' +
    '   - Определение ключевых вопросов.\n' +
    '\n' +
    '## 2. Подготовка доказательств\n' +
    '   - Сбор всех необходимых документов.\n' +
    '   - Подготовка свидетелей (если применимо).\n' +
    '   - Оформление доказательств в соответствии с требованиями суда.\n' +
    '\n' +
    '## 3. Разработка стратегии\n' +
    '   - Определение основных аргументов.\n' +
    '   - Подготовка возможных контраргументов.\n' +
    '   - Планирование тактики ведения процесса.\n' +
    '\n' +
    '## 4. Подготовка выступления\n' +
    '   - Написание основного текста выступления.\n' +
    '   - Подготовка краткого изложения основных позиций.\n' +
    '   - Репетиция выступления.\n' +
    '\n' +
    '## 5. Логистика\n' +
    '   - Убедиться в наличии всех необходимых документов и материалов.\n' +
    '   - Подготовка к транспортировке (если необходимо).\n' +
    '   - Проверка времени и места заседания.\n' +
    '\n' +
    '## 6. Эмоциональная подготовка\n' +
    '   - Настройка на позитивный исход.\n' +
    '   - Управление стрессом и волнением.\n' +
    '   - Подготовка к возможным неожиданностям на заседании.',
  level: 'debug',
  message: 'Created new artifact content',
  timestamp: '2025-02-09T16:42:18.832Z'
}
{
  id: '070ac4dd-8d2c-4aa8-af9f-6404064c0641',
  currentIndex: 1,
  contentsLength: 1,
  content: '# План подготовки к судебному заседанию\n' +
    '\n' +
    '## 1. Изучение дела\n' +
    '   - Ознакомление с материалами дела.\n' +
    '   - Анализ позиций сторон.\n' +
    '   - Определение ключевых вопросов.\n' +
    '\n' +
    '## 2. Подготовка доказательств\n' +
    '   - Сбор всех необходимых документов.\n' +
    '   - Подготовка свидетелей (если применимо).\n' +
    '   - Оформление доказательств в соответствии с требованиями суда.\n' +
    '\n' +
    '## 3. Разработка стратегии\n' +
    '   - Определение основных аргументов.\n' +
    '   - Подготовка возможных контраргументов.\n' +
    '   - Планирование тактики ведения процесса.\n' +
    '\n' +
    '## 4. Подготовка выступления\n' +
    '   - Написание основного текста выступления.\n' +
    '   - Подготовка краткого изложения основных позиций.\n' +
    '   - Репетиция выступления.\n' +
    '\n' +
    '## 5. Логистика\n' +
    '   - Убедиться в наличии всех необходимых документов и материалов.\n' +
    '   - Подготовка к транспортировке (если необходимо).\n' +
    '   - Проверка времени и места заседания.\n' +
    '\n' +
    '## 6. Эмоциональная подготовка\n' +
    '   - Настройка на позитивный исход.\n' +
    '   - Управление стрессом и волнением.\n' +
    '   - Подготовка к возможным неожиданностям на заседании.',
  level: 'debug',
  message: 'Created new artifact object',
  timestamp: '2025-02-09T16:42:18.833Z'
}
{
  title: 'План подготовки к суду',
  contentLength: 994,
  level: 'info',
  message: 'Adding generated artifact to vector store',
  timestamp: '2025-02-09T16:42:18.835Z'
}
{
  title: 'План подготовки к суду',
  level: 'info',
  message: 'Successfully added artifact to vector store',
  timestamp: '2025-02-09T16:42:19.642Z'
}
{
  message: 'Cleaning state, resetting to default inputs',
  level: 'debug',
  timestamp: '2025-02-09T16:42:37.298Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-09T16:42:37.303Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-09T16:42:37.303Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-09T16:43:49.580Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-09T16:43:49.580Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь план подготовки к судебному заседанию',
          additional_kwargs: {},
          response_metadata: {},
          id: 'c168bb34-c1fa-4626-8d65-dc45665902d8'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь план подготовки к судебному заседанию',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: 'c168bb34-c1fa-4626-8d65-dc45665902d8'
      }
    ],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'План подготовки к суду',
          fullMarkdown: '# План подготовки к судебному заседанию\n' +
            '\n' +
            '## 1. Изучение дела\n' +
            '\n' +
            '*   Ознакомление с материалами дела.\n' +
            '*   Анализ позиций сторон.\n' +
            '*   Определение ключевых вопросов.\n' +
            '\n' +
            '## 2. Подготовка доказательств\n' +
            '\n' +
            '*   Сбор всех необходимых документов.\n' +
            '*   Подготовка свидетелей (если применимо).\n' +
            '*   Оформление доказательств в соответствии с требованиями суда.\n' +
            '\n' +
            '## 3. Разработка стратегии\n' +
            '\n' +
            '*   Определение основных аргументов.\n' +
            '*   Подготовка возможных контраргументов.\n' +
            '*   Планирование тактики ведения процесса.\n' +
            '\n' +
            '## 4. Подготовка выступления\n' +
            '\n' +
            '*   Написание основного текста выступления.\n' +
            '*   Подготовка краткого изложения основных позиций.\n' +
            '*   Репетиция выступления.\n' +
            '\n' +
            '## 5. Логистика\n' +
            '\n' +
            '*   Убедиться в наличии всех необходимых документов и материалов.\n' +
            '*   Подготовка к транспортировке (если необходимо).\n' +
            '*   Проверка времени и места заседания.\n' +
            '\n' +
            '## 6. Эмоциональная подготовка\n' +
            '\n' +
            '*   Настройка на позитивный исход.\n' +
            '*   Управление стрессом и волнением.\n' +
            '*   Подготовка к возможным неожиданностям на заседании.\n'
        }
      ],
      metadata: {},
      id: '070ac4dd-8d2c-4aa8-af9f-6404064c0641'
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-09T16:43:49.586Z'
}
{
  message: 'Starting RAG retrieval process',
  level: 'info',
  timestamp: '2025-02-09T16:43:49.595Z'
}
{
  hasMessage: true,
  queryLength: 45,
  queryType: 'string',
  level: 'debug',
  message: 'Extracted query from last human message',
  timestamp: '2025-02-09T16:43:49.595Z'
}
{
  query: 'Составь план подготовки к судебному заседанию',
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-09T16:43:49.596Z'
}
{
  documentsFound: 5,
  documents: [
    { source: 'generated_artifact', chunkIndex: 0, contentLength: 994 },
    {
      source: 'document1.md',
      chunkIndex: undefined,
      contentLength: 903
    },
    {
      source: 'document1.md',
      chunkIndex: undefined,
      contentLength: 903
    },
    { source: 'document1.md', chunkIndex: 0, contentLength: 903 },
    { source: 'document1.md', chunkIndex: 0, contentLength: 903 }
  ],
  level: 'debug',
  message: 'Vector search results',
  timestamp: '2025-02-09T16:43:50.470Z'
}
{
  message: 'Assembling context from retrieved documents',
  level: 'info',
  timestamp: '2025-02-09T16:43:50.471Z'
}
{
  documentCount: 5,
  content: [
    '# План подготовки к судебному заседанию\n' +
      '\n' +
      '## 1. Изучение дела\n' +
      '   - Ознакомление с материалами дела.\n' +
      '   - Анализ позиций сторон.\n' +
      '   - Определение ключевых вопросов.\n' +
      '\n' +
      '## 2. Подготовка доказательств\n' +
      '   - Сбор всех необходимых документов.\n' +
      '   - Подготовка свидетелей (если применимо).\n' +
      '   - Оформление доказательств в соответствии с требованиями суда.\n' +
      '\n' +
      '## 3. Разработка стратегии\n' +
      '   - Определение основных аргументов.\n' +
      '   - Подготовка возможных контраргументов.\n' +
      '   - Планирование тактики ведения процесса.\n' +
      '\n' +
      '## 4. Подготовка выступления\n' +
      '   - Написание основного текста выступления.\n' +
      '   - Подготовка краткого изложения основных позиций.\n' +
      '   - Репетиция выступления.\n' +
      '\n' +
      '## 5. Логистика\n' +
      '   - Убедиться в наличии всех необходимых документов и материалов.\n' +
      '   - Подготовка к транспортировке (если необходимо).\n' +
      '   - Проверка времени и места заседания.\n' +
      '\n' +
      '## 6. Эмоциональная подготовка\n' +
      '   - Настройка на позитивный исход.\n' +
      '   - Управление стрессом и волнением.\n' +
      '   - Подготовка к возможным неожиданностям на заседании.',
    'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный труд (работников) (ч. 2 ст. 20 Закона о защите от ЧС, п. 1.4 Примерного порядка реализации инструктажа по ЧС). Его рекомендуется проводить со вновь принятыми работниками и лицами, командированными в организацию на срок более 30 календарных дней (п. 1.5 Примерного порядка реализации инструктажа по ЧС).\r\n' +
      '   За невыполнение обязанности провести вводный инструктаж по ЧС может наступить административная ответственность по ч. 1 ст. 20.6 КоАП РФ. Такая позиция встречается в судебной практике (см., например, Постановление Шестого кассационного суда общей юрисдикции от 08.08.2022 N 16-4568/2022).\r\n' +
      '   МЧС России довело до организаций Примерный порядок реализации инструктажа по ЧС. Он не содержит обязательных предписаний (Письмо МЧС России от 27.10.2020 N ИВ-11-85). Однако рекомендуем его придерживаться.',
    'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный труд (работников) (ч. 2 ст. 20 Закона о защите от ЧС, п. 1.4 Примерного порядка реализации инструктажа по ЧС). Его рекомендуется проводить со вновь принятыми работниками и лицами, командированными в организацию на срок более 30 календарных дней (п. 1.5 Примерного порядка реализации инструктажа по ЧС).\r\n' +
      '   За невыполнение обязанности провести вводный инструктаж по ЧС может наступить административная ответственность по ч. 1 ст. 20.6 КоАП РФ. Такая позиция встречается в судебной практике (см., например, Постановление Шестого кассационного суда общей юрисдикции от 08.08.2022 N 16-4568/2022).\r\n' +
      '   МЧС России довело до организаций Примерный порядок реализации инструктажа по ЧС. Он не содержит обязательных предписаний (Письмо МЧС России от 27.10.2020 N ИВ-11-85). Однако рекомендуем его придерживаться.',
    'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный труд (работников) (ч. 2 ст. 20 Закона о защите от ЧС, п. 1.4 Примерного порядка реализации инструктажа по ЧС). Его рекомендуется проводить со вновь принятыми работниками и лицами, командированными в организацию на срок более 30 календарных дней (п. 1.5 Примерного порядка реализации инструктажа по ЧС).\r\n' +
      '   За невыполнение обязанности провести вводный инструктаж по ЧС может наступить административная ответственность по ч. 1 ст. 20.6 КоАП РФ. Такая позиция встречается в судебной практике (см., например, Постановление Шестого кассационного суда общей юрисдикции от 08.08.2022 N 16-4568/2022).\r\n' +
      '   МЧС России довело до организаций Примерный порядок реализации инструктажа по ЧС. Он не содержит обязательных предписаний (Письмо МЧС России от 27.10.2020 N ИВ-11-85). Однако рекомендуем его придерживаться.',
    'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный труд (работников) (ч. 2 ст. 20 Закона о защите от ЧС, п. 1.4 Примерного порядка реализации инструктажа по ЧС). Его рекомендуется проводить со вновь принятыми работниками и лицами, командированными в организацию на срок более 30 календарных дней (п. 1.5 Примерного порядка реализации инструктажа по ЧС).\r\n' +
      '   За невыполнение обязанности провести вводный инструктаж по ЧС может наступить административная ответственность по ч. 1 ст. 20.6 КоАП РФ. Такая позиция встречается в судебной практике (см., например, Постановление Шестого кассационного суда общей юрисдикции от 08.08.2022 N 16-4568/2022).\r\n' +
      '   МЧС России довело до организаций Примерный порядок реализации инструктажа по ЧС. Он не содержит обязательных предписаний (Письмо МЧС России от 27.10.2020 N ИВ-11-85). Однако рекомендуем его придерживаться.'
  ],
  level: 'debug',
  message: 'Starting context assembly',
  timestamp: '2025-02-09T16:43:50.471Z'
}
{
  sourceCount: 2,
  sources: [ 'generated_artifact', 'document1.md' ],
  level: 'debug',
  message: 'Grouped documents by source',
  timestamp: '2025-02-09T16:43:50.475Z'
}
{
  message: 'Sorted document groups by chunk index',
  level: 'debug',
  timestamp: '2025-02-09T16:43:50.475Z'
}
{
  source: 'generated_artifact',
  addedDocsCount: 1,
  newTotalLength: 994,
  level: 'debug',
  message: 'Added source content to context',
  timestamp: '2025-02-09T16:43:50.476Z'
}
{
  source: 'document1.md',
  addedDocsCount: 4,
  newTotalLength: 4612,
  level: 'debug',
  message: 'Added source content to context',
  timestamp: '2025-02-09T16:43:50.476Z'
}
{
  finalLength: 4669,
  sourceCount: 2,
  level: 'debug',
  message: 'Assembled final context',
  timestamp: '2025-02-09T16:43:50.477Z'
}
{
  contextLength: 4669,
  documentCount: 5,
  level: 'info',
  message: 'RAG retrieval completed successfully',
  timestamp: '2025-02-09T16:43:50.477Z'
}
{
  message: 'Starting artifact rewrite process',
  level: 'info',
  timestamp: '2025-02-09T16:43:50.491Z'
}
{
  message: 'Model initialized with temperature 0.5',
  level: 'debug',
  timestamp: '2025-02-09T16:43:50.492Z'
}
{
  message: 'Model bound with artifact generation tool',
  level: 'debug',
  timestamp: '2025-02-09T16:43:50.493Z'
}
{
  hasMessage: true,
  content: 'Составь план подготовки к судебному заседанию',
  level: 'debug',
  message: 'Retrieved last human message',
  timestamp: '2025-02-09T16:43:50.493Z'
}
{
  lastHumanMessage: 'Составь план подготовки к судебному заседанию',
  retrievedContext: 'Source: generated_artifact\n' +
    '\n' +
    '# План подготовки к судебному заседанию\n' +
    '\n' +
    '## 1. Изучение дела\n' +
    '   - Ознакомление с материалами дела.\n' +
    '   - Анализ позиций сторон.\n' +
    '   - Определение ключевых вопросов.\n' +
    '\n' +
    '## 2. Подготовка доказательств\n' +
    '   - Сбор всех необходимых документов.\n' +
    '   - Подготовка свидетелей (если применимо).\n' +
    '   - Оформление доказательств в соответствии с требованиями суда.\n' +
    '\n' +
    '## 3. Разработка стратегии\n' +
    '   - Определение основных аргументов.\n' +
    '   - Подготовка возможных контраргументов.\n' +
    '   - Планирование тактики ведения процесса.\n' +
    '\n' +
    '## 4. Подготовка выступления\n' +
    '   - Написание основного текста выступления.\n' +
    '   - Подготовка краткого изложения основных позиций.\n' +
    '   - Репетиция выступления.\n' +
    '\n' +
    '## 5. Логистика\n' +
    '   - Убедиться в наличии всех необходимых документов и материалов.\n' +
    '   - Подготовка к транспортировке (если необходимо).\n' +
    '   - Проверка времени и места заседания.\n' +
    '\n' +
    '## 6. Эмоциональная подготовка\n' +
    '   - Настройка на позитивный исход.\n' +
    '   - Управление стрессом и волнением.\n' +
    '   - Подготовка к возможным неожиданностям на заседании.\n' +
    '\n' +
    '---\n' +
    '\n' +
    'Source: document1.md\n' +
    '\n' +
    'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный труд (работников) (ч. 2 ст. 20 Закона о защите от ЧС, п. 1.4 Примерного порядка реализации инструктажа по ЧС). Его рекомендуется проводить со вновь принятыми работниками и лицами, командированными в организацию на срок более 30 календарных дней (п. 1.5 Примерного порядка реализации инструктажа по ЧС).\r\n' +
    '   За невыполнение обязанности провести вводный инструктаж по ЧС может наступить административная ответственность по ч. 1 ст. 20.6 КоАП РФ. Такая позиция встречается в судебной практике (см., например, Постановление Шестого кассационного суда общей юрисдикции от 08.08.2022 N 16-4568/2022).\r\n' +
    '   МЧС России довело до организаций Примерный порядок реализации инструктажа по ЧС. Он не содержит обязательных предписаний (Письмо МЧС России от 27.10.2020 N ИВ-11-85). Однако рекомендуем его придерживаться.\n' +
    '\n' +
    'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный труд (работников) (ч. 2 ст. 20 Закона о защите от ЧС, п. 1.4 Примерного порядка реализации инструктажа по ЧС). Его рекомендуется проводить со вновь принятыми работниками и лицами, командированными в организацию на срок более 30 календарных дней (п. 1.5 Примерного порядка реализации инструктажа по ЧС).\r\n' +
    '   За невыполнение обязанности провести вводный инструктаж по ЧС может наступить административная ответственность по ч. 1 ст. 20.6 КоАП РФ. Такая позиция встречается в судебной практике (см., например, Постановление Шестого кассационного суда общей юрисдикции от 08.08.2022 N 16-4568/2022).\r\n' +
    '   МЧС России довело до организаций Примерный порядок реализации инструктажа по ЧС. Он не содержит обязательных предписаний (Письмо МЧС России от 27.10.2020 N ИВ-11-85). Однако рекомендуем его придерживаться.\n' +
    '\n' +
    'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный труд (работников) (ч. 2 ст. 20 Закона о защите от ЧС, п. 1.4 Примерного порядка реализации инструктажа по ЧС). Его рекомендуется проводить со вновь принятыми работниками и лицами, командированными в организацию на срок более 30 календарных дней (п. 1.5 Примерного порядка реализации инструктажа по ЧС).\r\n' +
    '   За невыполнение обязанности провести вводный инструктаж по ЧС может наступить административная ответственность по ч. 1 ст. 20.6 КоАП РФ. Такая позиция встречается в судебной практике (см., например, Постановление Шестого кассационного суда общей юрисдикции от 08.08.2022 N 16-4568/2022).\r\n' +
    '   МЧС России довело до организаций Примерный порядок реализации инструктажа по ЧС. Он не содержит обязательных предписаний (Письмо МЧС России от 27.10.2020 N ИВ-11-85). Однако рекомендуем его придерживаться.\n' +
    '\n' +
    'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный труд (работников) (ч. 2 ст. 20 Закона о защите от ЧС, п. 1.4 Примерного порядка реализации инструктажа по ЧС). Его рекомендуется проводить со вновь принятыми работниками и лицами, командированными в организацию на срок более 30 календарных дней (п. 1.5 Примерного порядка реализации инструктажа по ЧС).\r\n' +
    '   За невыполнение обязанности провести вводный инструктаж по ЧС может наступить административная ответственность по ч. 1 ст. 20.6 КоАП РФ. Такая позиция встречается в судебной практике (см., например, Постановление Шестого кассационного суда общей юрисдикции от 08.08.2022 N 16-4568/2022).\r\n' +
    '   МЧС России довело до организаций Примерный порядок реализации инструктажа по ЧС. Он не содержит обязательных предписаний (Письмо МЧС России от 27.10.2020 N ИВ-11-85). Однако рекомендуем его придерживаться.',
  artifactFullMarkdown: '# План подготовки к судебному заседанию\n' +
    '\n' +
    '## 1. Изучение дела\n' +
    '\n' +
    '*   Ознакомление с материалами дела.\n' +
    '*   Анализ позиций сторон.\n' +
    '*   Определение ключевых вопросов.\n' +
    '\n' +
    '## 2. Подготовка доказательств\n' +
    '\n' +
    '*   Сбор всех необходимых документов.\n' +
    '*   Подготовка свидетелей (если применимо).\n' +
    '*   Оформление доказательств в соответствии с требованиями суда.\n' +
    '\n' +
    '## 3. Разработка стратегии\n' +
    '\n' +
    '*   Определение основных аргументов.\n' +
    '*   Подготовка возможных контраргументов.\n' +
    '*   Планирование тактики ведения процесса.\n' +
    '\n' +
    '## 4. Подготовка выступления\n' +
    '\n' +
    '*   Написание основного текста выступления.\n' +
    '*   Подготовка краткого изложения основных позиций.\n' +
    '*   Репетиция выступления.\n' +
    '\n' +
    '## 5. Логистика\n' +
    '\n' +
    '*   Убедиться в наличии всех необходимых документов и материалов.\n' +
    '*   Подготовка к транспортировке (если необходимо).\n' +
    '*   Проверка времени и места заседания.\n' +
    '\n' +
    '## 6. Эмоциональная подготовка\n' +
    '\n' +
    '*   Настройка на позитивный исход.\n' +
    '*   Управление стрессом и волнением.\n' +
    '*   Подготовка к возможным неожиданностям на заседании.\n',
  level: 'debug',
  message: 'Components for system prompt',
  timestamp: '2025-02-09T16:43:50.494Z'
}
{
  promptLength: 5966,
  hasContext: true,
  hasOriginalDocument: true,
  level: 'debug',
  message: 'Final system prompt assembled',
  timestamp: '2025-02-09T16:43:50.498Z'
}
{
  message: 'Invoking model for artifact rewrite',
  level: 'info',
  timestamp: '2025-02-09T16:43:50.498Z'
}
{
  hasToolCalls: true,
  toolCallsCount: 1,
  level: 'debug',
  message: 'Model response received',
  timestamp: '2025-02-09T16:43:58.771Z'
}
{
  title: 'План подготовки к судебному заседанию',
  contentLength: 1744,
  level: 'debug',
  message: 'Created new artifact content',
  timestamp: '2025-02-09T16:43:58.772Z'
}
{
  id: '070ac4dd-8d2c-4aa8-af9f-6404064c0641',
  contentsLength: 1,
  currentIndex: 1,
  level: 'debug',
  message: 'Updated artifact object',
  timestamp: '2025-02-09T16:43:58.772Z'
}
{
  message: 'Successfully completed artifact rewrite',
  level: 'info',
  timestamp: '2025-02-09T16:43:58.773Z'
}
{
  message: 'Cleaning state, resetting to default inputs',
  level: 'debug',
  timestamp: '2025-02-09T16:43:59.912Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-09T16:43:59.916Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-09T16:43:59.916Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  cwd: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas',
  level: 'info',
  message: 'Starting document loading process',
  timestamp: '2025-02-09T16:47:29.109Z'
}
{
  isInitialized: false,
  documentCount: 0,
  level: 'info',
  message: 'Initial vector store status',
  timestamp: '2025-02-09T16:47:29.113Z'
}
{
  message: 'Clearing existing documents from vector store',
  level: 'info',
  timestamp: '2025-02-09T16:47:29.114Z'
}
{
  error: '\n' +
    '                You must provide either ids, where, or where_document to delete. If\n' +
    '                you want to delete all data in a collection you can delete the\n' +
    '                collection itself using the delete_collection method. Or alternatively,\n' +
    '                you can get() all the relevant ids and then delete them.\n' +
    '                ',
  level: 'warn',
  message: 'Failed to clear vector store',
  timestamp: '2025-02-09T16:47:29.235Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 1,
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-09T16:47:29.237Z'
}
{
  fileCount: 4,
  files: [
    { name: 'document1.md', extension: '.md' },
    { name: 'document2.md', extension: '.md' },
    { name: 'document3.md', extension: '.md' },
    { name: 'document4.md', extension: '.md' }
  ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-09T16:47:29.238Z'
}
{
  fileName: 'document1.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document1.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T16:47:29.239Z'
}
{
  fileName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T16:47:29.240Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T16:47:29.241Z'
}
{
  documentName: 'document1.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T16:47:29.242Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkSizes: [
    973, 901, 971, 937,
    972, 861, 915, 775,
    903, 648, 580, 875,
    274
  ],
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T16:47:29.244Z'
}
{
  chunksCreated: 13,
  fileName: 'document1.md',
  level: 'info',
  message: 'Added document to vector store: document1.md',
  timestamp: '2025-02-09T16:47:30.973Z'
}
{
  fileName: 'document2.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document2.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T16:47:30.974Z'
}
{
  fileName: 'document2.md',
  contentLength: 8574,
  contentPreview: 'Как провести вводный инструктаж по охране труда\r\n' +
    '\r\n' +
    'Вводный инструктаж по охране труда обязаны провод...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T16:47:30.975Z'
}
{
  documentName: 'document2.md',
  contentLength: 8574,
  contentPreview: 'Как провести вводный инструктаж по охране труда\r\n' +
    '\r\n' +
    'Вводный инструктаж по охране труда обязаны провод...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T16:47:30.975Z'
}
{
  documentName: 'document2.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T16:47:30.976Z'
}
{
  documentName: 'document2.md',
  chunksCreated: 11,
  chunkSizes: [
    957, 775, 868, 650,
    949, 681, 922, 878,
    954, 890, 938
  ],
  chunkPreviews: [
    {
      size: 957,
      preview: 'Как провести вводный инструктаж по охране труда\r\n' +
        '\r\n' +
        'Вводный инструктаж по охране труда обязаны провод...'
    },
    {
      size: 775,
      preview: '5. Каковы риски в случае непроведения вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '6. Кто проводит вводны...'
    },
    {
      size: 868,
      preview: 'Работники организации (ИП), проводящие инструктаж, должны пройти обучение требованиям охраны труда в...'
    },
    {
      size: 650,
      preview: '2.1. Каков срок проведения вводного инструктажа по охране труда\r\n' +
        'Вводный инструктаж по охране труда ...'
    },
    {
      size: 949,
      preview: 'Инструктаж по охране труда на рабочем месте (в том числе и первичный) проводится в объеме мероприяти...'
    },
    {
      size: 681,
      preview: 'Для проведения вводного инструктажа вам нужно (п. п. 9, 11, 69, 88 Правил обучения по охране труда):...'
    },
    {
      size: 922,
      preview: 'Вводный инструктаж завершается проверкой знания требований охраны труда. Это неотъемлемая часть пров...'
    },
    {
      size: 878,
      preview: 'В Приложении N 1 указаны следующие темы для программы вводного инструктажа по охране труда:\r\n' +
        '\r\n' +
        '- Све...'
    },
    {
      size: 954,
      preview: '- Действия работников при возникновении возможных аварийных ситуаций. Виды сигнализаций и звуковых о...'
    },
    {
      size: 890,
      preview: 'Обратите внимание, что положения о ведении электронного документооборота в сфере трудовых отношений ...'
    },
    {
      size: 938,
      preview: '- фамилию, имя, отчество (при наличии), профессию (должность) работника, проводившего инструктаж;\r\n' +
        '-...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T16:47:30.976Z'
}
{
  chunksCreated: 11,
  fileName: 'document2.md',
  level: 'info',
  message: 'Added document to vector store: document2.md',
  timestamp: '2025-02-09T16:47:31.876Z'
}
{
  fileName: 'document3.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document3.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T16:47:31.877Z'
}
{
  fileName: 'document3.md',
  contentLength: 17193,
  contentPreview: 'Как проводятся противопожарные инструктажи\r\n' +
    '\r\n' +
    'Допускать к работе на объекте защиты сотрудников можно...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T16:47:31.878Z'
}
{
  documentName: 'document3.md',
  contentLength: 17193,
  contentPreview: 'Как проводятся противопожарные инструктажи\r\n' +
    '\r\n' +
    'Допускать к работе на объекте защиты сотрудников можно...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T16:47:31.878Z'
}
{
  documentName: 'document3.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T16:47:31.879Z'
}
{
  documentName: 'document3.md',
  chunksCreated: 22,
  chunkSizes: [
    947, 917, 886, 854, 962,
    831, 909, 880, 961, 854,
    988, 919, 972, 970, 841,
    956, 933, 761, 871, 927,
    982, 143
  ],
  chunkPreviews: [
    {
      size: 947,
      preview: 'Как проводятся противопожарные инструктажи\r\n' +
        '\r\n' +
        'Допускать к работе на объекте защиты сотрудников можно...'
    },
    {
      size: 917,
      preview: '3. Как проводится первичный противопожарный инструктаж на рабочем месте\r\n' +
        '4. Как проводится повторный...'
    },
    {
      size: 886,
      preview: 'Обучение мерам пожарной безопасности осуществляется, в частности, по программам противопожарного инс...'
    },
    {
      size: 854,
      preview: '- изучения ими действий в случае возникновения пожара.\r\n' +
        '  Проведите противопожарный инструктаж в соо...'
    },
    {
      size: 962,
      preview: 'Противопожарный инструктаж завершается проверкой знаний и умений на предмет их соответствия требован...'
    },
    {
      size: 831,
      preview: '1.1. Кто проводит противопожарный инструктаж\r\n' +
        '  Противопожарный инструктаж проводят лица, которые ос...'
    },
    {
      size: 909,
      preview: 'Такими лицами могут быть (п. п. 7, 8 Приложения N 1 к этому Приказу):\r\n' +
        '- руководитель организации;\r\n' +
        '...'
    },
    {
      size: 880,
      preview: '- на вводный;\r\n' +
        '- первичный на рабочем месте;\r\n' +
        '- повторный;\r\n' +
        '- внеплановый;\r\n' +
        '- целевой.\r\n' +
        '\r\n' +
        '2. Как про...'
    },
    {
      size: 961,
      preview: 'При совмещении вводного противопожарного инструктажа и первичного противопожарного инструктажа на ра...'
    },
    {
      size: 854,
      preview: '- права и обязанности в области пожарной безопасности лиц, которые осуществляют трудовую или служебн...'
    },
    {
      size: 988,
      preview: 'Этот вид инструктажа нужно провести непосредственно на рабочем месте до начала трудовой (служебной) ...'
    },
    {
      size: 919,
      preview: '- общие сведения о взрывопожарной и пожарной опасности веществ и материалов, изготавливаемой продукц...'
    },
    {
      size: 972,
      preview: '- о лицах, которые осуществляют трудовую (служебную) деятельность в организации, связанную с охраной...'
    },
    {
      size: 970,
      preview: 'б) отнесены к категориям повышенной взрывопожароопасности, взрывопожароопасности, пожароопасности.\r\n' +
        '...'
    },
    {
      size: 841,
      preview: '5. Как проводится внеплановый противопожарный инструктаж\r\n' +
        '   Провести внеплановый противопожарный ин...'
    },
    {
      size: 956,
      preview: '- лица, осуществляющие трудовую или служебную деятельность в организации, допустили нарушения обязат...'
    },
    {
      size: 933,
      preview: '- руководитель организации или назначенное им лицо приняло соответствующее решение.\r\n' +
        '\r\n' +
        '  5.1. Как со...'
    },
    {
      size: 761,
      preview: 'В частности, его проводят (п. 18 Приложения N 1 к Приказу N 806):\r\n' +
        '\r\n' +
        '- перед выполнением огневых раб...'
    },
    {
      size: 871,
      preview: '7. Как заполнить журнал учета противопожарных инструктажей\r\n' +
        '   Должностное лицо, которое проводило п...'
    },
    {
      size: 927,
      preview: 'Запись в журнале не требуется, если оформляется наряд-допуск на выполнение огневых работ (п. 23 Прил...'
    },
    {
      size: 982,
      preview: 'Обратите внимание, что результаты проведения противопожарных инструктажей и проверки знаний и умений...'
    },
    {
      size: 143,
      preview: 'SAMPLE Образец заполнения журнала учета противопожарных инструктажей (на примере ситуации, когда про...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T16:47:31.879Z'
}
{
  chunksCreated: 22,
  fileName: 'document3.md',
  level: 'info',
  message: 'Added document to vector store: document3.md',
  timestamp: '2025-02-09T16:47:33.082Z'
}
{
  fileName: 'document4.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document4.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T16:47:33.082Z'
}
{
  fileName: 'document4.md',
  contentLength: 5394,
  contentPreview: 'Какие бывают виды инструктажей по охране труда\r\n' +
    '\r\n' +
    'Инструктажи по охране труда подразделяются: на вво...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T16:47:33.083Z'
}
{
  documentName: 'document4.md',
  contentLength: 5394,
  contentPreview: 'Какие бывают виды инструктажей по охране труда\r\n' +
    '\r\n' +
    'Инструктажи по охране труда подразделяются: на вво...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T16:47:33.084Z'
}
{
  documentName: 'document4.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T16:47:33.084Z'
}
{
  documentName: 'document4.md',
  chunksCreated: 8,
  chunkSizes: [
    213, 993, 905,
    513, 823, 926,
    899, 938
  ],
  chunkPreviews: [
    {
      size: 213,
      preview: 'Какие бывают виды инструктажей по охране труда\r\n' +
        '\r\n' +
        'Инструктажи по охране труда подразделяются: на вво...'
    },
    {
      size: 993,
      preview: 'Инструктажи по охране труда подразделяются: на вводный, инструктаж по охране труда на рабочем месте ...'
    },
    {
      size: 905,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кому нужно проводить вводный инструктаж по охране труда\r\n' +
        '2. Кому нужно проводить п...'
    },
    {
      size: 513,
      preview: 'SAMPLE Образец приказа о проведении вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '7. Кому нужно проводить ...'
    },
    {
      size: 823,
      preview: 'В то же время некоторых работников можно освободить от первичного инструктажа (п. 13 Правил обучения...'
    },
    {
      size: 926,
      preview: 'Кто должен проводить инструктаж по охране труда на рабочем месте генеральному директору\r\n' +
        'Если генера...'
    },
    {
      size: 899,
      preview: '4. Кому и для каких целей нужно проводить внеплановый инструктаж по охране труда на рабочем месте\r\n' +
        ' ...'
    },
    {
      size: 938,
      preview: '5. Кому и для каких целей нужно проводить целевой инструктаж по охране труда\r\n' +
        '   Целевой инструктаж ...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T16:47:33.085Z'
}
{
  chunksCreated: 8,
  fileName: 'document4.md',
  level: 'info',
  message: 'Added document to vector store: document4.md',
  timestamp: '2025-02-09T16:47:33.875Z'
}
{
  totalFiles: 4,
  totalDocumentsProcessed: 4,
  totalChunksCreated: 54,
  failedFiles: [],
  vectorStoreStatus: Promise { <pending> },
  level: 'info',
  message: 'Document loading process completed',
  timestamp: '2025-02-09T16:47:33.876Z'
}
{
  initialDocumentCount: 0,
  finalDocumentCount: 595,
  documentsAdded: 595,
  level: 'info',
  message: 'Document loading completed successfully',
  timestamp: '2025-02-09T16:47:33.888Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-09T16:50:14.071Z'
}
{
  hasCurrentArtifact: false,
  messageCount: 1,
  level: 'debug',
  message: 'Preparing LLM prompt for routing',
  timestamp: '2025-02-09T16:50:14.073Z'
}
{
  message: 'Initializing model for routing decision',
  level: 'debug',
  timestamp: '2025-02-09T16:50:14.074Z'
}
{
  message: 'Invoking model for routing decision',
  level: 'debug',
  timestamp: '2025-02-09T16:50:14.077Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-09T16:50:16.318Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь заключение по видам инструктажа при приеме на работу с использованием ссылок на нормативные акты',
          additional_kwargs: {},
          response_metadata: {},
          id: 'dba79f81-d45c-47c6-a91a-5575efc275d6'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь заключение по видам инструктажа при приеме на работу с использованием ссылок на нормативные акты',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: 'dba79f81-d45c-47c6-a91a-5575efc275d6'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-09T16:50:16.325Z'
}
{
  message: 'Starting artifact generation process',
  level: 'info',
  timestamp: '2025-02-09T16:50:16.339Z'
}
{
  modelName: 'gpt-4o',
  modelProvider: 'openai',
  level: 'debug',
  message: 'Model configuration',
  timestamp: '2025-02-09T16:50:16.339Z'
}
{
  message: 'Model initialized with temperature 0.5',
  level: 'debug',
  timestamp: '2025-02-09T16:50:16.340Z'
}
{
  message: 'Model bound with artifact generation tool',
  level: 'debug',
  timestamp: '2025-02-09T16:50:16.341Z'
}
{
  memoriesLength: 278,
  level: 'debug',
  message: 'Retrieved formatted reflections',
  timestamp: '2025-02-09T16:50:16.343Z'
}
{
  promptLength: 1069,
  level: 'debug',
  message: 'Formatted new artifact prompt',
  timestamp: '2025-02-09T16:50:16.343Z'
}
{
  hasUserSystemPrompt: false,
  fullPromptLength: 1069,
  level: 'debug',
  message: 'Assembled full system prompt',
  timestamp: '2025-02-09T16:50:16.344Z'
}
{
  message: 'Invoking model for artifact generation',
  level: 'info',
  timestamp: '2025-02-09T16:50:16.344Z'
}
{
  hasToolCalls: true,
  toolCallsCount: 1,
  level: 'debug',
  message: 'Received model response',
  timestamp: '2025-02-09T16:50:32.860Z'
}
{
  title: 'Виды инструктажа при приеме на работу',
  type: 'text',
  contentLength: 2792,
  content: '# Заключение о видах инструктажа при приеме на работу\n' +
    '\n' +
    '## Введение\n' +
    '\n' +
    'При приеме на работу в Российской Федерации работодатель обязан обеспечить проведение инструктажа по охране труда для всех новых сотрудников. Данный процесс регулируется трудовым законодательством и включает несколько этапов инструктажа, каждый из которых имеет свои особенности и нормативное обоснование.\n' +
    '\n' +
    '## Виды инструктажа\n' +
    '\n' +
    '1. **Вводный инструктаж**\n' +
    '   \n' +
    '   Вводный инструктаж проводится со всеми вновь принимаемыми на работу сотрудниками, независимо от их должности, а также с командированными, временными сотрудниками, студентами и практикантами. \n' +
    '   \n' +
    '   **Нормативное обоснование:**\n' +
    '   - Трудовой кодекс Российской Федерации (ТК РФ), ст. 212, обязывает работодателя проводить инструктажи по охране труда.\n' +
    '   - Постановление Минтруда России от 13.01.2003 № 1/29 "Об утверждении Порядка обучения по охране труда и проверки знаний требований охраны труда работников организаций".\n' +
    '\n' +
    '2. **Первичный инструктаж на рабочем месте**\n' +
    '   \n' +
    '   Проводится непосредственно на рабочем месте до начала самостоятельной работы. Данный вид инструктажа обязателен для всех сотрудников, которые впервые приступают к работе на данном рабочем месте или по новой профессии.\n' +
    '   \n' +
    '   **Нормативное обоснование:**\n' +
    '   - Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
    '   - ГОСТ 12.0.004-2015 "Система стандартов безопасности труда. Организация обучения безопасности труда. Общие положения".\n' +
    '\n' +
    '3. **Повторный инструктаж**\n' +
    '   \n' +
    '   Повторный инструктаж проводится не реже одного раза в шесть месяцев для всех работников, независимо от квалификации, стажа и характера выполняемой работы.\n' +
    '   \n' +
    '   **Нормативное обоснование:**\n' +
    '   - Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
    '\n' +
    '4. **Внеплановый инструктаж**\n' +
    '   \n' +
    '   Осуществляется в случае изменения условий труда, внедрения новых технологий, оборудования или материалов, а также при нарушении работниками требований охраны труда, которое могло привести или привело к травме.\n' +
    '   \n' +
    '   **Нормативное обоснование:**\n' +
    '   - Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
    '\n' +
    '5. **Целевой инструктаж**\n' +
    '   \n' +
    '   Проводится при выполнении разовых работ, не связанных с непосредственными обязанностями, ликвидации аварий, стихийных бедствий и других чрезвычайных ситуаций.\n' +
    '   \n' +
    '   **Нормативное обоснование:**\n' +
    '   - Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
    '\n' +
    '## Заключение\n' +
    '\n' +
    'Проведение инструктажа по охране труда является обязательной процедурой при приеме на работу в соответствии с российским законодательством. Эффективное обучение сотрудников безопасным методам работы способствует снижению производственного травматизма и улучшению условий труда. Работодатели обязаны строго соблюдать установленные порядки и сроки проведения инструктажей, что подтверждается соответствующими нормативными актами.',
  level: 'debug',
  message: 'Created new artifact content',
  timestamp: '2025-02-09T16:50:32.861Z'
}
{
  id: '54eae8f4-3add-40ae-ada4-658b2dd794ba',
  currentIndex: 1,
  contentsLength: 1,
  content: '# Заключение о видах инструктажа при приеме на работу\n' +
    '\n' +
    '## Введение\n' +
    '\n' +
    'При приеме на работу в Российской Федерации работодатель обязан обеспечить проведение инструктажа по охране труда для всех новых сотрудников. Данный процесс регулируется трудовым законодательством и включает несколько этапов инструктажа, каждый из которых имеет свои особенности и нормативное обоснование.\n' +
    '\n' +
    '## Виды инструктажа\n' +
    '\n' +
    '1. **Вводный инструктаж**\n' +
    '   \n' +
    '   Вводный инструктаж проводится со всеми вновь принимаемыми на работу сотрудниками, независимо от их должности, а также с командированными, временными сотрудниками, студентами и практикантами. \n' +
    '   \n' +
    '   **Нормативное обоснование:**\n' +
    '   - Трудовой кодекс Российской Федерации (ТК РФ), ст. 212, обязывает работодателя проводить инструктажи по охране труда.\n' +
    '   - Постановление Минтруда России от 13.01.2003 № 1/29 "Об утверждении Порядка обучения по охране труда и проверки знаний требований охраны труда работников организаций".\n' +
    '\n' +
    '2. **Первичный инструктаж на рабочем месте**\n' +
    '   \n' +
    '   Проводится непосредственно на рабочем месте до начала самостоятельной работы. Данный вид инструктажа обязателен для всех сотрудников, которые впервые приступают к работе на данном рабочем месте или по новой профессии.\n' +
    '   \n' +
    '   **Нормативное обоснование:**\n' +
    '   - Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
    '   - ГОСТ 12.0.004-2015 "Система стандартов безопасности труда. Организация обучения безопасности труда. Общие положения".\n' +
    '\n' +
    '3. **Повторный инструктаж**\n' +
    '   \n' +
    '   Повторный инструктаж проводится не реже одного раза в шесть месяцев для всех работников, независимо от квалификации, стажа и характера выполняемой работы.\n' +
    '   \n' +
    '   **Нормативное обоснование:**\n' +
    '   - Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
    '\n' +
    '4. **Внеплановый инструктаж**\n' +
    '   \n' +
    '   Осуществляется в случае изменения условий труда, внедрения новых технологий, оборудования или материалов, а также при нарушении работниками требований охраны труда, которое могло привести или привело к травме.\n' +
    '   \n' +
    '   **Нормативное обоснование:**\n' +
    '   - Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
    '\n' +
    '5. **Целевой инструктаж**\n' +
    '   \n' +
    '   Проводится при выполнении разовых работ, не связанных с непосредственными обязанностями, ликвидации аварий, стихийных бедствий и других чрезвычайных ситуаций.\n' +
    '   \n' +
    '   **Нормативное обоснование:**\n' +
    '   - Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
    '\n' +
    '## Заключение\n' +
    '\n' +
    'Проведение инструктажа по охране труда является обязательной процедурой при приеме на работу в соответствии с российским законодательством. Эффективное обучение сотрудников безопасным методам работы способствует снижению производственного травматизма и улучшению условий труда. Работодатели обязаны строго соблюдать установленные порядки и сроки проведения инструктажей, что подтверждается соответствующими нормативными актами.',
  level: 'debug',
  message: 'Created new artifact object',
  timestamp: '2025-02-09T16:50:32.863Z'
}
{
  message: 'Cleaning state, resetting to default inputs',
  level: 'debug',
  timestamp: '2025-02-09T16:50:35.029Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-09T16:50:35.033Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-09T16:50:35.033Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-09T16:51:20.068Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-09T16:51:20.069Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь заключение по видам инструктажа при приеме на работу с использованием ссылок на нормативные акты',
          additional_kwargs: {},
          response_metadata: {},
          id: 'dba79f81-d45c-47c6-a91a-5575efc275d6'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь заключение по видам инструктажа при приеме на работу с использованием ссылок на нормативные акты',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: 'dba79f81-d45c-47c6-a91a-5575efc275d6'
      },
      AIMessageChunk {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Ваше заключение о видах инструктажа при приеме на работу готово. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуется внести изменения или дополнения.',
          additional_kwargs: {},
          response_metadata: {
            usage: {
              prompt_tokens: 1162,
              completion_tokens: 43,
              total_tokens: 1205,
              prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
              completion_tokens_details: {
                reasoning_tokens: 0,
                audio_tokens: 0,
                accepted_prediction_tokens: 0,
                rejected_prediction_tokens: 0
              }
            }
          },
          tool_call_chunks: [],
          id: 'chatcmpl-Az4np2UTcbvw2Sky65lUI88ppGxMf',
          tool_calls: [],
          invalid_tool_calls: [],
          usage_metadata: undefined
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Ваше заключение о видах инструктажа при приеме на работу готово. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуется внести изменения или дополнения.',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {
          usage: {
            prompt_tokens: 1162,
            completion_tokens: 43,
            total_tokens: 1205,
            prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
            completion_tokens_details: {
              reasoning_tokens: 0,
              audio_tokens: 0,
              accepted_prediction_tokens: 0,
              rejected_prediction_tokens: 0
            }
          }
        },
        id: 'chatcmpl-Az4np2UTcbvw2Sky65lUI88ppGxMf',
        tool_calls: [],
        invalid_tool_calls: [],
        tool_call_chunks: [],
        usage_metadata: undefined
      }
    ],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Виды инструктажа при приеме на работу',
          fullMarkdown: '# Заключение о видах инструктажа при приеме на работу\n' +
            '\n' +
            '## Введение\n' +
            '\n' +
            'При приеме на работу в Российской Федерации работодатель обязан обеспечить проведение инструктажа по охране труда для всех новых сотрудников. Данный процесс регулируется трудовым законодательством и включает несколько этапов инструктажа, каждый из которых имеет свои особенности и нормативное обоснование.\n' +
            '\n' +
            '## Виды инструктажа\n' +
            '\n' +
            '1.  **Вводный инструктаж** Вводный инструктаж проводится со всеми вновь принимаемыми на работу сотрудниками, независимо от их должности, а также с командированными, временными сотрудниками, студентами и практикантами. **Нормативное обоснование:**\n' +
            '\n' +
            '    *   Трудовой кодекс Российской Федерации (ТК РФ), ст. 212, обязывает работодателя проводить инструктажи по охране труда.\n' +
            '    *   Постановление Минтруда России от 13.01.2003 № 1/29 "Об утверждении Порядка обучения по охране труда и проверки знаний требований охраны труда работников организаций".\n' +
            '\n' +
            '2.  **Первичный инструктаж на рабочем месте** Проводится непосредственно на рабочем месте до начала самостоятельной работы. Данный вид инструктажа обязателен для всех сотрудников, которые впервые приступают к работе на данном рабочем месте или по новой профессии. **Нормативное обоснование:**\n' +
            '\n' +
            '    *   Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
            '    *   ГОСТ 12.0.004-2015 "Система стандартов безопасности труда. Организация обучения безопасности труда. Общие положения".\n' +
            '\n' +
            '3.  **Повторный инструктаж** Повторный инструктаж проводится не реже одного раза в шесть месяцев для всех работников, независимо от квалификации, стажа и характера выполняемой работы. **Нормативное обоснование:**\n' +
            '\n' +
            '    *   Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
            '\n' +
            '4.  **Внеплановый инструктаж** Осуществляется в случае изменения условий труда, внедрения новых технологий, оборудования или материалов, а также при нарушении работниками требований охраны труда, которое могло привести или привело к травме. **Нормативное обоснование:**\n' +
            '\n' +
            '    *   Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
            '\n' +
            '5.  **Целевой инструктаж** Проводится при выполнении разовых работ, не связанных с непосредственными обязанностями, ликвидации аварий, стихийных бедствий и других чрезвычайных ситуаций. **Нормативное обоснование:**\n' +
            '\n' +
            '    *   Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
            '\n' +
            '## Заключение\n' +
            '\n' +
            'Проведение инструктажа по охране труда является обязательной процедурой при приеме на работу в соответствии с российским законодательством. Эффективное обучение сотрудников безопасным методам работы способствует снижению производственного травматизма и улучшению условий труда. Работодатели обязаны строго соблюдать установленные порядки и сроки проведения инструктажей, что подтверждается соответствующими нормативными актами.\n'
        }
      ],
      metadata: {},
      id: '54eae8f4-3add-40ae-ada4-658b2dd794ba'
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-09T16:51:20.073Z'
}
{
  message: 'Starting RAG retrieval process',
  level: 'info',
  timestamp: '2025-02-09T16:51:20.085Z'
}
{
  hasMessage: true,
  queryLength: 104,
  queryType: 'string',
  level: 'debug',
  message: 'Extracted query from last human message',
  timestamp: '2025-02-09T16:51:20.085Z'
}
{
  query: 'Составь заключение по видам инструктажа при приеме на работу с использованием ссылок на нормативные акты',
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-09T16:51:20.086Z'
}
{
  error: Error: Vector store is empty
      at performVectorSearch (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\rag\vector_store.ts:92:27)
      at async retryWithBackoff (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\agent\open-canvas\nodes\ragRetrieval.ts:22:14)
      at async RunnableCallable.ragRetrievalNode (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\agent\open-canvas\nodes\ragRetrieval.ts:139:30)
      at async RunnableCallable.invoke (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\utils.cjs:82:27)
      at async RunnableSequence.invoke (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\core\dist\runnables\base.cjs:1162:33)
      at async _runWithRetry (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\retry.cjs:99:22)
      at async executeTasksWithRetry (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\retry.cjs:72:29)
      at async CompiledStateGraph._streamIterator (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\index.cjs:764:48)
      at async Object.pull (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\core\dist\utils\stream.cjs:103:41),
  level: 'error',
  message: 'Vector search failed',
  timestamp: '2025-02-09T16:51:20.087Z'
}
{
  error: 'Vector store is empty',
  nextDelayMs: 1000,
  level: 'warn',
  message: 'Operation failed, attempt 1 of 3',
  timestamp: '2025-02-09T16:51:20.090Z'
}
{
  error: Error: Vector store is empty
      at performVectorSearch (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\rag\vector_store.ts:92:27)
      at async retryWithBackoff (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\agent\open-canvas\nodes\ragRetrieval.ts:22:14)
      at async RunnableCallable.ragRetrievalNode (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\agent\open-canvas\nodes\ragRetrieval.ts:139:30)
      at async RunnableCallable.invoke (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\utils.cjs:82:27)
      at async RunnableSequence.invoke (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\core\dist\runnables\base.cjs:1162:33)
      at async _runWithRetry (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\retry.cjs:99:22)
      at async executeTasksWithRetry (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\retry.cjs:72:29)
      at async CompiledStateGraph._streamIterator (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\index.cjs:764:48)
      at async Object.pull (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\core\dist\utils\stream.cjs:103:41),
  level: 'error',
  message: 'Vector search failed',
  timestamp: '2025-02-09T16:51:21.093Z'
}
{
  error: 'Vector store is empty',
  nextDelayMs: 2000,
  level: 'warn',
  message: 'Operation failed, attempt 2 of 3',
  timestamp: '2025-02-09T16:51:21.093Z'
}
{
  error: Error: Vector store is empty
      at performVectorSearch (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\rag\vector_store.ts:92:27)
      at runNextTicks (node:internal/process/task_queues:65:5)
      at process.processTimers (node:internal/timers:526:9)
      at async retryWithBackoff (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\agent\open-canvas\nodes\ragRetrieval.ts:22:14)
      at async RunnableCallable.ragRetrievalNode (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\agent\open-canvas\nodes\ragRetrieval.ts:139:30)
      at async RunnableCallable.invoke (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\utils.cjs:82:27)
      at async RunnableSequence.invoke (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\core\dist\runnables\base.cjs:1162:33)
      at async _runWithRetry (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\retry.cjs:99:22)
      at async executeTasksWithRetry (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\retry.cjs:72:29)
      at async CompiledStateGraph._streamIterator (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\index.cjs:764:48),
  level: 'error',
  message: 'Vector search failed',
  timestamp: '2025-02-09T16:51:23.134Z'
}
{
  error: 'Vector store is empty',
  nextDelayMs: 4000,
  level: 'warn',
  message: 'Operation failed, attempt 3 of 3',
  timestamp: '2025-02-09T16:51:23.134Z'
}
{
  error: 'Vector store is empty',
  query: 'Составь заключение по видам инструктажа при приеме на работу с использованием ссылок на нормативные акты',
  stack: 'Error: Vector store is empty\n' +
    '    at performVectorSearch (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\rag\\vector_store.ts:92:27)\n' +
    '    at runNextTicks (node:internal/process/task_queues:65:5)\n' +
    '    at process.processTimers (node:internal/timers:526:9)\n' +
    '    at async retryWithBackoff (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\agent\\open-canvas\\nodes\\ragRetrieval.ts:22:14)\n' +
    '    at async RunnableCallable.ragRetrievalNode (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\agent\\open-canvas\\nodes\\ragRetrieval.ts:139:30)\n' +
    '    at async RunnableCallable.invoke (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\langgraph\\dist\\utils.cjs:82:27)\n' +
    '    at async RunnableSequence.invoke (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\core\\dist\\runnables\\base.cjs:1162:33)\n' +
    '    at async _runWithRetry (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\langgraph\\dist\\pregel\\retry.cjs:99:22)\n' +
    '    at async executeTasksWithRetry (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\langgraph\\dist\\pregel\\retry.cjs:72:29)\n' +
    '    at async CompiledStateGraph._streamIterator (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\langgraph\\dist\\pregel\\index.cjs:764:48)',
  level: 'error',
  message: 'Error during RAG retrieval',
  timestamp: '2025-02-09T16:51:23.135Z'
}
{
  message: 'Starting artifact rewrite process',
  level: 'info',
  timestamp: '2025-02-09T16:51:23.153Z'
}
{
  message: 'Model initialized with temperature 0.5',
  level: 'debug',
  timestamp: '2025-02-09T16:51:23.154Z'
}
{
  message: 'Model bound with artifact generation tool',
  level: 'debug',
  timestamp: '2025-02-09T16:51:23.155Z'
}
{
  hasMessage: true,
  content: 'Составь заключение по видам инструктажа при приеме на работу с использованием ссылок на нормативные акты',
  level: 'debug',
  message: 'Retrieved last human message',
  timestamp: '2025-02-09T16:51:23.155Z'
}
{
  lastHumanMessage: 'Составь заключение по видам инструктажа при приеме на работу с использованием ссылок на нормативные акты',
  retrievedContext: 'Нет дополнительного контекста.',
  artifactFullMarkdown: '# Заключение о видах инструктажа при приеме на работу\n' +
    '\n' +
    '## Введение\n' +
    '\n' +
    'При приеме на работу в Российской Федерации работодатель обязан обеспечить проведение инструктажа по охране труда для всех новых сотрудников. Данный процесс регулируется трудовым законодательством и включает несколько этапов инструктажа, каждый из которых имеет свои особенности и нормативное обоснование.\n' +
    '\n' +
    '## Виды инструктажа\n' +
    '\n' +
    '1.  **Вводный инструктаж** Вводный инструктаж проводится со всеми вновь принимаемыми на работу сотрудниками, независимо от их должности, а также с командированными, временными сотрудниками, студентами и практикантами. **Нормативное обоснование:**\n' +
    '\n' +
    '    *   Трудовой кодекс Российской Федерации (ТК РФ), ст. 212, обязывает работодателя проводить инструктажи по охране труда.\n' +
    '    *   Постановление Минтруда России от 13.01.2003 № 1/29 "Об утверждении Порядка обучения по охране труда и проверки знаний требований охраны труда работников организаций".\n' +
    '\n' +
    '2.  **Первичный инструктаж на рабочем месте** Проводится непосредственно на рабочем месте до начала самостоятельной работы. Данный вид инструктажа обязателен для всех сотрудников, которые впервые приступают к работе на данном рабочем месте или по новой профессии. **Нормативное обоснование:**\n' +
    '\n' +
    '    *   Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
    '    *   ГОСТ 12.0.004-2015 "Система стандартов безопасности труда. Организация обучения безопасности труда. Общие положения".\n' +
    '\n' +
    '3.  **Повторный инструктаж** Повторный инструктаж проводится не реже одного раза в шесть месяцев для всех работников, независимо от квалификации, стажа и характера выполняемой работы. **Нормативное обоснование:**\n' +
    '\n' +
    '    *   Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
    '\n' +
    '4.  **Внеплановый инструктаж** Осуществляется в случае изменения условий труда, внедрения новых технологий, оборудования или материалов, а также при нарушении работниками требований охраны труда, которое могло привести или привело к травме. **Нормативное обоснование:**\n' +
    '\n' +
    '    *   Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
    '\n' +
    '5.  **Целевой инструктаж** Проводится при выполнении разовых работ, не связанных с непосредственными обязанностями, ликвидации аварий, стихийных бедствий и других чрезвычайных ситуаций. **Нормативное обоснование:**\n' +
    '\n' +
    '    *   Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
    '\n' +
    '## Заключение\n' +
    '\n' +
    'Проведение инструктажа по охране труда является обязательной процедурой при приеме на работу в соответствии с российским законодательством. Эффективное обучение сотрудников безопасным методам работы способствует снижению производственного травматизма и улучшению условий труда. Работодатели обязаны строго соблюдать установленные порядки и сроки проведения инструктажей, что подтверждается соответствующими нормативными актами.\n',
  level: 'debug',
  message: 'Components for system prompt',
  timestamp: '2025-02-09T16:51:23.156Z'
}
{
  promptLength: 3156,
  hasContext: false,
  hasOriginalDocument: true,
  level: 'debug',
  message: 'Final system prompt assembled',
  timestamp: '2025-02-09T16:51:23.158Z'
}
{
  message: 'Invoking model for artifact rewrite',
  level: 'info',
  timestamp: '2025-02-09T16:51:23.159Z'
}
{
  hasToolCalls: true,
  toolCallsCount: 1,
  level: 'debug',
  message: 'Model response received',
  timestamp: '2025-02-09T16:51:36.080Z'
}
{
  title: 'Заключение по инструктажам',
  contentLength: 2855,
  level: 'debug',
  message: 'Created new artifact content',
  timestamp: '2025-02-09T16:51:36.081Z'
}
{
  id: '54eae8f4-3add-40ae-ada4-658b2dd794ba',
  contentsLength: 1,
  currentIndex: 1,
  level: 'debug',
  message: 'Updated artifact object',
  timestamp: '2025-02-09T16:51:36.081Z'
}
{
  message: 'Successfully completed artifact rewrite',
  level: 'info',
  timestamp: '2025-02-09T16:51:36.081Z'
}
{
  message: 'Cleaning state, resetting to default inputs',
  level: 'debug',
  timestamp: '2025-02-09T16:51:37.384Z'
}
{
  message: 'Checking if title generation is needed. Message count: 3',
  level: 'info',
  timestamp: '2025-02-09T16:51:37.388Z'
}
{
  message: 'Skipping title generation - conversation already has more than 2 messages',
  level: 'debug',
  timestamp: '2025-02-09T16:51:37.389Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  cwd: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas',
  level: 'info',
  message: 'Starting document loading process',
  timestamp: '2025-02-09T17:11:13.966Z'
}
{
  isInitialized: false,
  documentCount: 0,
  level: 'info',
  message: 'Initial vector store status',
  timestamp: '2025-02-09T17:11:13.969Z'
}
{
  message: 'Clearing existing documents from vector store',
  level: 'info',
  timestamp: '2025-02-09T17:11:13.970Z'
}
{
  error: '\n' +
    '                You must provide either ids, where, or where_document to delete. If\n' +
    '                you want to delete all data in a collection you can delete the\n' +
    '                collection itself using the delete_collection method. Or alternatively,\n' +
    '                you can get() all the relevant ids and then delete them.\n' +
    '                ',
  level: 'warn',
  message: 'Failed to clear vector store',
  timestamp: '2025-02-09T17:11:14.106Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 1,
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-09T17:11:14.108Z'
}
{
  fileCount: 4,
  files: [
    { name: 'document1.md', extension: '.md' },
    { name: 'document2.md', extension: '.md' },
    { name: 'document3.md', extension: '.md' },
    { name: 'document4.md', extension: '.md' }
  ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-09T17:11:14.109Z'
}
{
  fileName: 'document1.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document1.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T17:11:14.110Z'
}
{
  fileName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T17:11:14.111Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T17:11:14.112Z'
}
{
  documentName: 'document1.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T17:11:14.113Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkSizes: [
    973, 901, 971, 937,
    972, 861, 915, 775,
    903, 648, 580, 875,
    274
  ],
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T17:11:14.115Z'
}
{
  chunksCreated: 13,
  fileName: 'document1.md',
  level: 'info',
  message: 'Added document to vector store: document1.md',
  timestamp: '2025-02-09T17:11:15.883Z'
}
{
  fileName: 'document2.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document2.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T17:11:15.884Z'
}
{
  fileName: 'document2.md',
  contentLength: 8574,
  contentPreview: 'Как провести вводный инструктаж по охране труда\r\n' +
    '\r\n' +
    'Вводный инструктаж по охране труда обязаны провод...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T17:11:15.885Z'
}
{
  documentName: 'document2.md',
  contentLength: 8574,
  contentPreview: 'Как провести вводный инструктаж по охране труда\r\n' +
    '\r\n' +
    'Вводный инструктаж по охране труда обязаны провод...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T17:11:15.886Z'
}
{
  documentName: 'document2.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T17:11:15.887Z'
}
{
  documentName: 'document2.md',
  chunksCreated: 11,
  chunkSizes: [
    957, 775, 868, 650,
    949, 681, 922, 878,
    954, 890, 938
  ],
  chunkPreviews: [
    {
      size: 957,
      preview: 'Как провести вводный инструктаж по охране труда\r\n' +
        '\r\n' +
        'Вводный инструктаж по охране труда обязаны провод...'
    },
    {
      size: 775,
      preview: '5. Каковы риски в случае непроведения вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '6. Кто проводит вводны...'
    },
    {
      size: 868,
      preview: 'Работники организации (ИП), проводящие инструктаж, должны пройти обучение требованиям охраны труда в...'
    },
    {
      size: 650,
      preview: '2.1. Каков срок проведения вводного инструктажа по охране труда\r\n' +
        'Вводный инструктаж по охране труда ...'
    },
    {
      size: 949,
      preview: 'Инструктаж по охране труда на рабочем месте (в том числе и первичный) проводится в объеме мероприяти...'
    },
    {
      size: 681,
      preview: 'Для проведения вводного инструктажа вам нужно (п. п. 9, 11, 69, 88 Правил обучения по охране труда):...'
    },
    {
      size: 922,
      preview: 'Вводный инструктаж завершается проверкой знания требований охраны труда. Это неотъемлемая часть пров...'
    },
    {
      size: 878,
      preview: 'В Приложении N 1 указаны следующие темы для программы вводного инструктажа по охране труда:\r\n' +
        '\r\n' +
        '- Све...'
    },
    {
      size: 954,
      preview: '- Действия работников при возникновении возможных аварийных ситуаций. Виды сигнализаций и звуковых о...'
    },
    {
      size: 890,
      preview: 'Обратите внимание, что положения о ведении электронного документооборота в сфере трудовых отношений ...'
    },
    {
      size: 938,
      preview: '- фамилию, имя, отчество (при наличии), профессию (должность) работника, проводившего инструктаж;\r\n' +
        '-...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T17:11:15.887Z'
}
{
  chunksCreated: 11,
  fileName: 'document2.md',
  level: 'info',
  message: 'Added document to vector store: document2.md',
  timestamp: '2025-02-09T17:11:16.440Z'
}
{
  fileName: 'document3.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document3.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T17:11:16.440Z'
}
{
  fileName: 'document3.md',
  contentLength: 17193,
  contentPreview: 'Как проводятся противопожарные инструктажи\r\n' +
    '\r\n' +
    'Допускать к работе на объекте защиты сотрудников можно...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T17:11:16.442Z'
}
{
  documentName: 'document3.md',
  contentLength: 17193,
  contentPreview: 'Как проводятся противопожарные инструктажи\r\n' +
    '\r\n' +
    'Допускать к работе на объекте защиты сотрудников можно...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T17:11:16.443Z'
}
{
  documentName: 'document3.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T17:11:16.443Z'
}
{
  documentName: 'document3.md',
  chunksCreated: 22,
  chunkSizes: [
    947, 917, 886, 854, 962,
    831, 909, 880, 961, 854,
    988, 919, 972, 970, 841,
    956, 933, 761, 871, 927,
    982, 143
  ],
  chunkPreviews: [
    {
      size: 947,
      preview: 'Как проводятся противопожарные инструктажи\r\n' +
        '\r\n' +
        'Допускать к работе на объекте защиты сотрудников можно...'
    },
    {
      size: 917,
      preview: '3. Как проводится первичный противопожарный инструктаж на рабочем месте\r\n' +
        '4. Как проводится повторный...'
    },
    {
      size: 886,
      preview: 'Обучение мерам пожарной безопасности осуществляется, в частности, по программам противопожарного инс...'
    },
    {
      size: 854,
      preview: '- изучения ими действий в случае возникновения пожара.\r\n' +
        '  Проведите противопожарный инструктаж в соо...'
    },
    {
      size: 962,
      preview: 'Противопожарный инструктаж завершается проверкой знаний и умений на предмет их соответствия требован...'
    },
    {
      size: 831,
      preview: '1.1. Кто проводит противопожарный инструктаж\r\n' +
        '  Противопожарный инструктаж проводят лица, которые ос...'
    },
    {
      size: 909,
      preview: 'Такими лицами могут быть (п. п. 7, 8 Приложения N 1 к этому Приказу):\r\n' +
        '- руководитель организации;\r\n' +
        '...'
    },
    {
      size: 880,
      preview: '- на вводный;\r\n' +
        '- первичный на рабочем месте;\r\n' +
        '- повторный;\r\n' +
        '- внеплановый;\r\n' +
        '- целевой.\r\n' +
        '\r\n' +
        '2. Как про...'
    },
    {
      size: 961,
      preview: 'При совмещении вводного противопожарного инструктажа и первичного противопожарного инструктажа на ра...'
    },
    {
      size: 854,
      preview: '- права и обязанности в области пожарной безопасности лиц, которые осуществляют трудовую или служебн...'
    },
    {
      size: 988,
      preview: 'Этот вид инструктажа нужно провести непосредственно на рабочем месте до начала трудовой (служебной) ...'
    },
    {
      size: 919,
      preview: '- общие сведения о взрывопожарной и пожарной опасности веществ и материалов, изготавливаемой продукц...'
    },
    {
      size: 972,
      preview: '- о лицах, которые осуществляют трудовую (служебную) деятельность в организации, связанную с охраной...'
    },
    {
      size: 970,
      preview: 'б) отнесены к категориям повышенной взрывопожароопасности, взрывопожароопасности, пожароопасности.\r\n' +
        '...'
    },
    {
      size: 841,
      preview: '5. Как проводится внеплановый противопожарный инструктаж\r\n' +
        '   Провести внеплановый противопожарный ин...'
    },
    {
      size: 956,
      preview: '- лица, осуществляющие трудовую или служебную деятельность в организации, допустили нарушения обязат...'
    },
    {
      size: 933,
      preview: '- руководитель организации или назначенное им лицо приняло соответствующее решение.\r\n' +
        '\r\n' +
        '  5.1. Как со...'
    },
    {
      size: 761,
      preview: 'В частности, его проводят (п. 18 Приложения N 1 к Приказу N 806):\r\n' +
        '\r\n' +
        '- перед выполнением огневых раб...'
    },
    {
      size: 871,
      preview: '7. Как заполнить журнал учета противопожарных инструктажей\r\n' +
        '   Должностное лицо, которое проводило п...'
    },
    {
      size: 927,
      preview: 'Запись в журнале не требуется, если оформляется наряд-допуск на выполнение огневых работ (п. 23 Прил...'
    },
    {
      size: 982,
      preview: 'Обратите внимание, что результаты проведения противопожарных инструктажей и проверки знаний и умений...'
    },
    {
      size: 143,
      preview: 'SAMPLE Образец заполнения журнала учета противопожарных инструктажей (на примере ситуации, когда про...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T17:11:16.444Z'
}
{
  chunksCreated: 22,
  fileName: 'document3.md',
  level: 'info',
  message: 'Added document to vector store: document3.md',
  timestamp: '2025-02-09T17:11:19.614Z'
}
{
  fileName: 'document4.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document4.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T17:11:19.615Z'
}
{
  fileName: 'document4.md',
  contentLength: 5394,
  contentPreview: 'Какие бывают виды инструктажей по охране труда\r\n' +
    '\r\n' +
    'Инструктажи по охране труда подразделяются: на вво...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T17:11:19.616Z'
}
{
  documentName: 'document4.md',
  contentLength: 5394,
  contentPreview: 'Какие бывают виды инструктажей по охране труда\r\n' +
    '\r\n' +
    'Инструктажи по охране труда подразделяются: на вво...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T17:11:19.616Z'
}
{
  documentName: 'document4.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T17:11:19.617Z'
}
{
  documentName: 'document4.md',
  chunksCreated: 8,
  chunkSizes: [
    213, 993, 905,
    513, 823, 926,
    899, 938
  ],
  chunkPreviews: [
    {
      size: 213,
      preview: 'Какие бывают виды инструктажей по охране труда\r\n' +
        '\r\n' +
        'Инструктажи по охране труда подразделяются: на вво...'
    },
    {
      size: 993,
      preview: 'Инструктажи по охране труда подразделяются: на вводный, инструктаж по охране труда на рабочем месте ...'
    },
    {
      size: 905,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кому нужно проводить вводный инструктаж по охране труда\r\n' +
        '2. Кому нужно проводить п...'
    },
    {
      size: 513,
      preview: 'SAMPLE Образец приказа о проведении вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '7. Кому нужно проводить ...'
    },
    {
      size: 823,
      preview: 'В то же время некоторых работников можно освободить от первичного инструктажа (п. 13 Правил обучения...'
    },
    {
      size: 926,
      preview: 'Кто должен проводить инструктаж по охране труда на рабочем месте генеральному директору\r\n' +
        'Если генера...'
    },
    {
      size: 899,
      preview: '4. Кому и для каких целей нужно проводить внеплановый инструктаж по охране труда на рабочем месте\r\n' +
        ' ...'
    },
    {
      size: 938,
      preview: '5. Кому и для каких целей нужно проводить целевой инструктаж по охране труда\r\n' +
        '   Целевой инструктаж ...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T17:11:19.617Z'
}
{
  chunksCreated: 8,
  fileName: 'document4.md',
  level: 'info',
  message: 'Added document to vector store: document4.md',
  timestamp: '2025-02-09T17:11:20.510Z'
}
{
  totalFiles: 4,
  totalDocumentsProcessed: 4,
  totalChunksCreated: 54,
  failedFiles: [],
  vectorStoreStatus: Promise { <pending> },
  level: 'info',
  message: 'Document loading process completed',
  timestamp: '2025-02-09T17:11:20.511Z'
}
{
  initialDocumentCount: 0,
  finalDocumentCount: 649,
  documentsAdded: 649,
  level: 'info',
  message: 'Document loading completed successfully',
  timestamp: '2025-02-09T17:11:20.526Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-09T17:13:04.136Z'
}
{
  hasCurrentArtifact: false,
  messageCount: 1,
  level: 'debug',
  message: 'Preparing LLM prompt for routing',
  timestamp: '2025-02-09T17:13:04.138Z'
}
{
  message: 'Initializing model for routing decision',
  level: 'debug',
  timestamp: '2025-02-09T17:13:04.139Z'
}
{
  message: 'Invoking model for routing decision',
  level: 'debug',
  timestamp: '2025-02-09T17:13:04.141Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-09T17:13:06.276Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
          additional_kwargs: {},
          response_metadata: {},
          id: '2065cba3-287c-4328-8971-22463bced35a'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: '2065cba3-287c-4328-8971-22463bced35a'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-09T17:13:06.284Z'
}
{
  message: 'Starting artifact generation process',
  level: 'info',
  timestamp: '2025-02-09T17:13:06.300Z'
}
{
  modelName: 'gpt-4o',
  modelProvider: 'openai',
  level: 'debug',
  message: 'Model configuration',
  timestamp: '2025-02-09T17:13:06.301Z'
}
{
  message: 'Model initialized with temperature 0.5',
  level: 'debug',
  timestamp: '2025-02-09T17:13:06.302Z'
}
{
  message: 'Model bound with artifact generation tool',
  level: 'debug',
  timestamp: '2025-02-09T17:13:06.303Z'
}
{
  memoriesLength: 278,
  level: 'debug',
  message: 'Retrieved formatted reflections',
  timestamp: '2025-02-09T17:13:06.304Z'
}
{
  promptLength: 1069,
  level: 'debug',
  message: 'Formatted new artifact prompt',
  timestamp: '2025-02-09T17:13:06.304Z'
}
{
  hasUserSystemPrompt: false,
  fullPromptLength: 1069,
  level: 'debug',
  message: 'Assembled full system prompt',
  timestamp: '2025-02-09T17:13:06.305Z'
}
{
  message: 'Invoking model for artifact generation',
  level: 'info',
  timestamp: '2025-02-09T17:13:06.305Z'
}
{
  message: 'Starting artifact generation process',
  level: 'info',
  timestamp: '2025-02-09T17:14:39.382Z'
}
{
  modelName: 'gpt-4o',
  modelProvider: 'openai',
  level: 'debug',
  message: 'Model configuration',
  timestamp: '2025-02-09T17:14:39.383Z'
}
{
  message: 'Model initialized with temperature 0.5',
  level: 'debug',
  timestamp: '2025-02-09T17:14:39.383Z'
}
{
  message: 'Model bound with artifact generation tool',
  level: 'debug',
  timestamp: '2025-02-09T17:14:39.384Z'
}
{
  memoriesLength: 278,
  level: 'debug',
  message: 'Retrieved formatted reflections',
  timestamp: '2025-02-09T17:14:39.385Z'
}
{
  promptLength: 1069,
  level: 'debug',
  message: 'Formatted new artifact prompt',
  timestamp: '2025-02-09T17:14:39.385Z'
}
{
  hasUserSystemPrompt: false,
  fullPromptLength: 1069,
  level: 'debug',
  message: 'Assembled full system prompt',
  timestamp: '2025-02-09T17:14:39.386Z'
}
{
  message: 'Invoking model for artifact generation',
  level: 'info',
  timestamp: '2025-02-09T17:14:39.386Z'
}
{
  hasToolCalls: true,
  toolCallsCount: 1,
  level: 'debug',
  message: 'Received model response',
  timestamp: '2025-02-09T17:14:45.442Z'
}
{
  title: 'Заключение по инструктажам при приеме на работу',
  type: 'text',
  contentLength: 1495,
  content: 'При приеме на работу работодатель обязан провести ряд инструктажей с новыми сотрудниками. Основные виды инструктажа включают:\n' +
    '\n' +
    '1. **Вводный инструктаж** — проводится со всеми вновь принимаемыми на работу, а также с командированными, временными работниками и учащимися, прибывшими на производственное обучение или практику. Регламентируется Трудовым кодексом РФ и Постановлением Минтруда России от 13 января 2003 г. N 1/29 "Об утверждении Порядка обучения по охране труда и проверки знаний требований охраны труда работников организаций".\n' +
    '\n' +
    '2. **Первичный инструктаж на рабочем месте** — проводится с каждым работником непосредственно на его рабочем месте. Этот инструктаж необходим для ознакомления с безопасными методами и приемами выполнения работ. Регламентируется Трудовым кодексом РФ и вышеназванным постановлением.\n' +
    '\n' +
    '3. **Повторный инструктаж** — проводится не реже одного раза в шесть месяцев для всех работников. Он направлен на закрепление знаний и навыков безопасного выполнения работ.\n' +
    '\n' +
    '4. **Внеплановый инструктаж** — проводится при изменении технологического процесса, замене оборудования, изменении условий труда и в других случаях, требующих дополнительного обучения работников.\n' +
    '\n' +
    '5. **Целевой инструктаж** — проводится при выполнении разовых работ, не связанных с прямыми обязанностями по специальности, ликвидации последствий аварий, стихийных бедствий и в других случаях.\n' +
    '\n' +
    'Все виды инструктажа должны быть документально оформлены в журнале регистрации инструктажа на рабочем месте.',
  level: 'debug',
  message: 'Created new artifact content',
  timestamp: '2025-02-09T17:14:45.442Z'
}
{
  id: 'b0d16daa-9b24-4d34-8745-53eef8b56d85',
  currentIndex: 1,
  contentsLength: 1,
  content: 'При приеме на работу работодатель обязан провести ряд инструктажей с новыми сотрудниками. Основные виды инструктажа включают:\n' +
    '\n' +
    '1. **Вводный инструктаж** — проводится со всеми вновь принимаемыми на работу, а также с командированными, временными работниками и учащимися, прибывшими на производственное обучение или практику. Регламентируется Трудовым кодексом РФ и Постановлением Минтруда России от 13 января 2003 г. N 1/29 "Об утверждении Порядка обучения по охране труда и проверки знаний требований охраны труда работников организаций".\n' +
    '\n' +
    '2. **Первичный инструктаж на рабочем месте** — проводится с каждым работником непосредственно на его рабочем месте. Этот инструктаж необходим для ознакомления с безопасными методами и приемами выполнения работ. Регламентируется Трудовым кодексом РФ и вышеназванным постановлением.\n' +
    '\n' +
    '3. **Повторный инструктаж** — проводится не реже одного раза в шесть месяцев для всех работников. Он направлен на закрепление знаний и навыков безопасного выполнения работ.\n' +
    '\n' +
    '4. **Внеплановый инструктаж** — проводится при изменении технологического процесса, замене оборудования, изменении условий труда и в других случаях, требующих дополнительного обучения работников.\n' +
    '\n' +
    '5. **Целевой инструктаж** — проводится при выполнении разовых работ, не связанных с прямыми обязанностями по специальности, ликвидации последствий аварий, стихийных бедствий и в других случаях.\n' +
    '\n' +
    'Все виды инструктажа должны быть документально оформлены в журнале регистрации инструктажа на рабочем месте.',
  level: 'debug',
  message: 'Created new artifact object',
  timestamp: '2025-02-09T17:14:45.444Z'
}
{
  message: 'Successfully generated new artifact',
  level: 'info',
  timestamp: '2025-02-09T17:14:45.446Z'
}
{
  message: 'Cleaning state, resetting to default inputs',
  level: 'debug',
  timestamp: '2025-02-09T17:14:47.008Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-09T17:14:47.013Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-09T17:14:47.014Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-09T17:15:09.366Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-09T17:15:09.367Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
          additional_kwargs: {},
          response_metadata: {},
          id: '2065cba3-287c-4328-8971-22463bced35a'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: '2065cba3-287c-4328-8971-22463bced35a'
      }
    ],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Заключение по инструктажам при приеме на работу',
          fullMarkdown: 'При приеме на работу работодатель обязан провести ряд инструктажей с новыми сотрудниками. Основные виды инструктажа включают:\n' +
            '\n' +
            '1.  **Вводный инструктаж** — проводится со всеми вновь принимаемыми на работу, а также с командированными, временными работниками и учащимися, прибывшими на производственное обучение или практику. Регламентируется Трудовым кодексом РФ и Постановлением Минтруда России от 13 января 2003 г. N 1/29 "Об утверждении Порядка обучения по охране труда и проверки знаний требований охраны труда работников организаций".\n' +
            '2.  **Первичный инструктаж на рабочем месте** — проводится с каждым работником непосредственно на его рабочем месте. Этот инструктаж необходим для ознакомления с безопасными методами и приемами выполнения работ. Регламентируется Трудовым кодексом РФ и вышеназванным постановлением.\n' +
            '3.  **Повторный инструктаж** — проводится не реже одного раза в шесть месяцев для всех работников. Он направлен на закрепление знаний и навыков безопасного выполнения работ.\n' +
            '4.  **Внеплановый инструктаж** — проводится при изменении технологического процесса, замене оборудования, изменении условий труда и в других случаях, требующих дополнительного обучения работников.\n' +
            '5.  **Целевой инструктаж** — проводится при выполнении разовых работ, не связанных с прямыми обязанностями по специальности, ликвидации последствий аварий, стихийных бедствий и в других случаях.\n' +
            '\n' +
            'Все виды инструктажа должны быть документально оформлены в журнале регистрации инструктажа на рабочем месте.\n'
        }
      ],
      metadata: {},
      id: 'b0d16daa-9b24-4d34-8745-53eef8b56d85'
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-09T17:15:09.374Z'
}
{
  message: 'Starting RAG retrieval process',
  level: 'info',
  timestamp: '2025-02-09T17:15:09.392Z'
}
{
  hasMessage: true,
  queryLength: 108,
  queryType: 'string',
  level: 'debug',
  message: 'Extracted query from last human message',
  timestamp: '2025-02-09T17:15:09.392Z'
}
{
  query: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-09T17:15:09.393Z'
}
{
  error: Error: Vector store is empty
      at performVectorSearch (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\rag\vector_store.ts:92:27)
      at async retryWithBackoff (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\agent\open-canvas\nodes\ragRetrieval.ts:22:14)
      at async RunnableCallable.ragRetrievalNode (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\agent\open-canvas\nodes\ragRetrieval.ts:139:30)
      at async RunnableCallable.invoke (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\utils.cjs:82:27)
      at async RunnableSequence.invoke (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\core\dist\runnables\base.cjs:1162:33)
      at async _runWithRetry (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\retry.cjs:99:22)
      at async executeTasksWithRetry (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\retry.cjs:72:29)
      at async CompiledStateGraph._streamIterator (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\index.cjs:764:48)
      at async Object.pull (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\core\dist\utils\stream.cjs:103:41),
  level: 'error',
  message: 'Vector search failed',
  timestamp: '2025-02-09T17:15:09.395Z'
}
{
  error: 'Vector store is empty',
  nextDelayMs: 1000,
  level: 'warn',
  message: 'Operation failed, attempt 1 of 3',
  timestamp: '2025-02-09T17:15:09.399Z'
}
{
  error: Error: Vector store is empty
      at performVectorSearch (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\rag\vector_store.ts:92:27)
      at async retryWithBackoff (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\agent\open-canvas\nodes\ragRetrieval.ts:22:14)
      at async RunnableCallable.ragRetrievalNode (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\agent\open-canvas\nodes\ragRetrieval.ts:139:30)
      at async RunnableCallable.invoke (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\utils.cjs:82:27)
      at async RunnableSequence.invoke (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\core\dist\runnables\base.cjs:1162:33)
      at async _runWithRetry (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\retry.cjs:99:22)
      at async executeTasksWithRetry (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\retry.cjs:72:29)
      at async CompiledStateGraph._streamIterator (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\index.cjs:764:48)
      at async Object.pull (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\core\dist\utils\stream.cjs:103:41),
  level: 'error',
  message: 'Vector search failed',
  timestamp: '2025-02-09T17:15:10.404Z'
}
{
  error: 'Vector store is empty',
  nextDelayMs: 2000,
  level: 'warn',
  message: 'Operation failed, attempt 2 of 3',
  timestamp: '2025-02-09T17:15:10.405Z'
}
{
  error: Error: Vector store is empty
      at performVectorSearch (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\rag\vector_store.ts:92:27)
      at runNextTicks (node:internal/process/task_queues:65:5)
      at process.processTimers (node:internal/timers:526:9)
      at async retryWithBackoff (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\agent\open-canvas\nodes\ragRetrieval.ts:22:14)
      at async RunnableCallable.ragRetrievalNode (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\agent\open-canvas\nodes\ragRetrieval.ts:139:30)
      at async RunnableCallable.invoke (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\utils.cjs:82:27)
      at async RunnableSequence.invoke (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\core\dist\runnables\base.cjs:1162:33)
      at async _runWithRetry (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\retry.cjs:99:22)
      at async executeTasksWithRetry (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\retry.cjs:72:29)
      at async CompiledStateGraph._streamIterator (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\index.cjs:764:48),
  level: 'error',
  message: 'Vector search failed',
  timestamp: '2025-02-09T17:15:12.432Z'
}
{
  error: 'Vector store is empty',
  nextDelayMs: 4000,
  level: 'warn',
  message: 'Operation failed, attempt 3 of 3',
  timestamp: '2025-02-09T17:15:12.433Z'
}
{
  error: 'Vector store is empty',
  query: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
  stack: 'Error: Vector store is empty\n' +
    '    at performVectorSearch (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\rag\\vector_store.ts:92:27)\n' +
    '    at runNextTicks (node:internal/process/task_queues:65:5)\n' +
    '    at process.processTimers (node:internal/timers:526:9)\n' +
    '    at async retryWithBackoff (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\agent\\open-canvas\\nodes\\ragRetrieval.ts:22:14)\n' +
    '    at async RunnableCallable.ragRetrievalNode (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\agent\\open-canvas\\nodes\\ragRetrieval.ts:139:30)\n' +
    '    at async RunnableCallable.invoke (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\langgraph\\dist\\utils.cjs:82:27)\n' +
    '    at async RunnableSequence.invoke (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\core\\dist\\runnables\\base.cjs:1162:33)\n' +
    '    at async _runWithRetry (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\langgraph\\dist\\pregel\\retry.cjs:99:22)\n' +
    '    at async executeTasksWithRetry (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\langgraph\\dist\\pregel\\retry.cjs:72:29)\n' +
    '    at async CompiledStateGraph._streamIterator (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\langgraph\\dist\\pregel\\index.cjs:764:48)',
  level: 'error',
  message: 'Error during RAG retrieval',
  timestamp: '2025-02-09T17:15:12.433Z'
}
{
  message: 'Starting artifact rewrite process',
  level: 'info',
  timestamp: '2025-02-09T17:15:12.444Z'
}
{
  message: 'Model initialized with temperature 0.5',
  level: 'debug',
  timestamp: '2025-02-09T17:15:12.444Z'
}
{
  message: 'Model bound with artifact generation tool',
  level: 'debug',
  timestamp: '2025-02-09T17:15:12.445Z'
}
{
  hasMessage: true,
  content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
  level: 'debug',
  message: 'Retrieved last human message',
  timestamp: '2025-02-09T17:15:12.445Z'
}
{
  lastHumanMessage: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
  retrievedContext: 'Нет дополнительного контекста.',
  artifactFullMarkdown: 'При приеме на работу работодатель обязан провести ряд инструктажей с новыми сотрудниками. Основные виды инструктажа включают:\n' +
    '\n' +
    '1.  **Вводный инструктаж** — проводится со всеми вновь принимаемыми на работу, а также с командированными, временными работниками и учащимися, прибывшими на производственное обучение или практику. Регламентируется Трудовым кодексом РФ и Постановлением Минтруда России от 13 января 2003 г. N 1/29 "Об утверждении Порядка обучения по охране труда и проверки знаний требований охраны труда работников организаций".\n' +
    '2.  **Первичный инструктаж на рабочем месте** — проводится с каждым работником непосредственно на его рабочем месте. Этот инструктаж необходим для ознакомления с безопасными методами и приемами выполнения работ. Регламентируется Трудовым кодексом РФ и вышеназванным постановлением.\n' +
    '3.  **Повторный инструктаж** — проводится не реже одного раза в шесть месяцев для всех работников. Он направлен на закрепление знаний и навыков безопасного выполнения работ.\n' +
    '4.  **Внеплановый инструктаж** — проводится при изменении технологического процесса, замене оборудования, изменении условий труда и в других случаях, требующих дополнительного обучения работников.\n' +
    '5.  **Целевой инструктаж** — проводится при выполнении разовых работ, не связанных с прямыми обязанностями по специальности, ликвидации последствий аварий, стихийных бедствий и в других случаях.\n' +
    '\n' +
    'Все виды инструктажа должны быть документально оформлены в журнале регистрации инструктажа на рабочем месте.\n',
  level: 'debug',
  message: 'Components for system prompt',
  timestamp: '2025-02-09T17:15:12.446Z'
}
{
  promptLength: 1904,
  hasContext: false,
  hasOriginalDocument: true,
  level: 'debug',
  message: 'Final system prompt assembled',
  timestamp: '2025-02-09T17:15:12.447Z'
}
{
  message: 'Invoking model for artifact rewrite',
  level: 'info',
  timestamp: '2025-02-09T17:15:12.448Z'
}
{
  hasToolCalls: true,
  toolCallsCount: 0,
  level: 'debug',
  message: 'Model response received',
  timestamp: '2025-02-09T17:15:18.963Z'
}
{
  title: undefined,
  contentLength: 0,
  level: 'debug',
  message: 'Created new artifact content',
  timestamp: '2025-02-09T17:15:18.963Z'
}
{
  id: 'b0d16daa-9b24-4d34-8745-53eef8b56d85',
  contentsLength: 1,
  currentIndex: 1,
  level: 'debug',
  message: 'Updated artifact object',
  timestamp: '2025-02-09T17:15:18.963Z'
}
{
  message: 'Successfully completed artifact rewrite',
  level: 'info',
  timestamp: '2025-02-09T17:15:18.964Z'
}
{
  message: 'Cleaning state, resetting to default inputs',
  level: 'debug',
  timestamp: '2025-02-09T17:15:20.080Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-09T17:15:20.085Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-09T17:15:20.085Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  cwd: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas',
  level: 'info',
  message: 'Starting document loading process',
  timestamp: '2025-02-09T17:19:06.038Z'
}
{
  isInitialized: false,
  documentCount: 0,
  level: 'info',
  message: 'Initial vector store status',
  timestamp: '2025-02-09T17:19:06.042Z'
}
{
  message: 'Clearing existing documents from vector store',
  level: 'info',
  timestamp: '2025-02-09T17:19:06.043Z'
}
{
  error: '\n' +
    '                You must provide either ids, where, or where_document to delete. If\n' +
    '                you want to delete all data in a collection you can delete the\n' +
    '                collection itself using the delete_collection method. Or alternatively,\n' +
    '                you can get() all the relevant ids and then delete them.\n' +
    '                ',
  level: 'warn',
  message: 'Failed to clear vector store',
  timestamp: '2025-02-09T17:19:06.170Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 1,
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-09T17:19:06.171Z'
}
{
  fileCount: 4,
  files: [
    { name: 'document1.md', extension: '.md' },
    { name: 'document2.md', extension: '.md' },
    { name: 'document3.md', extension: '.md' },
    { name: 'document4.md', extension: '.md' }
  ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-09T17:19:06.172Z'
}
{
  fileName: 'document1.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document1.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T17:19:06.173Z'
}
{
  fileName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T17:19:06.174Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T17:19:06.175Z'
}
{
  documentName: 'document1.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T17:19:06.176Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkSizes: [
    973, 901, 971, 937,
    972, 861, 915, 775,
    903, 648, 580, 875,
    274
  ],
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T17:19:06.178Z'
}
{
  chunksCreated: 13,
  fileName: 'document1.md',
  level: 'info',
  message: 'Added document to vector store: document1.md',
  timestamp: '2025-02-09T17:19:07.494Z'
}
{
  fileName: 'document2.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document2.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T17:19:07.495Z'
}
{
  fileName: 'document2.md',
  contentLength: 8574,
  contentPreview: 'Как провести вводный инструктаж по охране труда\r\n' +
    '\r\n' +
    'Вводный инструктаж по охране труда обязаны провод...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T17:19:07.495Z'
}
{
  documentName: 'document2.md',
  contentLength: 8574,
  contentPreview: 'Как провести вводный инструктаж по охране труда\r\n' +
    '\r\n' +
    'Вводный инструктаж по охране труда обязаны провод...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T17:19:07.496Z'
}
{
  documentName: 'document2.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T17:19:07.496Z'
}
{
  documentName: 'document2.md',
  chunksCreated: 11,
  chunkSizes: [
    957, 775, 868, 650,
    949, 681, 922, 878,
    954, 890, 938
  ],
  chunkPreviews: [
    {
      size: 957,
      preview: 'Как провести вводный инструктаж по охране труда\r\n' +
        '\r\n' +
        'Вводный инструктаж по охране труда обязаны провод...'
    },
    {
      size: 775,
      preview: '5. Каковы риски в случае непроведения вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '6. Кто проводит вводны...'
    },
    {
      size: 868,
      preview: 'Работники организации (ИП), проводящие инструктаж, должны пройти обучение требованиям охраны труда в...'
    },
    {
      size: 650,
      preview: '2.1. Каков срок проведения вводного инструктажа по охране труда\r\n' +
        'Вводный инструктаж по охране труда ...'
    },
    {
      size: 949,
      preview: 'Инструктаж по охране труда на рабочем месте (в том числе и первичный) проводится в объеме мероприяти...'
    },
    {
      size: 681,
      preview: 'Для проведения вводного инструктажа вам нужно (п. п. 9, 11, 69, 88 Правил обучения по охране труда):...'
    },
    {
      size: 922,
      preview: 'Вводный инструктаж завершается проверкой знания требований охраны труда. Это неотъемлемая часть пров...'
    },
    {
      size: 878,
      preview: 'В Приложении N 1 указаны следующие темы для программы вводного инструктажа по охране труда:\r\n' +
        '\r\n' +
        '- Све...'
    },
    {
      size: 954,
      preview: '- Действия работников при возникновении возможных аварийных ситуаций. Виды сигнализаций и звуковых о...'
    },
    {
      size: 890,
      preview: 'Обратите внимание, что положения о ведении электронного документооборота в сфере трудовых отношений ...'
    },
    {
      size: 938,
      preview: '- фамилию, имя, отчество (при наличии), профессию (должность) работника, проводившего инструктаж;\r\n' +
        '-...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T17:19:07.497Z'
}
{
  chunksCreated: 11,
  fileName: 'document2.md',
  level: 'info',
  message: 'Added document to vector store: document2.md',
  timestamp: '2025-02-09T17:19:08.694Z'
}
{
  fileName: 'document3.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document3.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T17:19:08.695Z'
}
{
  fileName: 'document3.md',
  contentLength: 17193,
  contentPreview: 'Как проводятся противопожарные инструктажи\r\n' +
    '\r\n' +
    'Допускать к работе на объекте защиты сотрудников можно...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T17:19:08.696Z'
}
{
  documentName: 'document3.md',
  contentLength: 17193,
  contentPreview: 'Как проводятся противопожарные инструктажи\r\n' +
    '\r\n' +
    'Допускать к работе на объекте защиты сотрудников можно...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T17:19:08.697Z'
}
{
  documentName: 'document3.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T17:19:08.697Z'
}
{
  documentName: 'document3.md',
  chunksCreated: 22,
  chunkSizes: [
    947, 917, 886, 854, 962,
    831, 909, 880, 961, 854,
    988, 919, 972, 970, 841,
    956, 933, 761, 871, 927,
    982, 143
  ],
  chunkPreviews: [
    {
      size: 947,
      preview: 'Как проводятся противопожарные инструктажи\r\n' +
        '\r\n' +
        'Допускать к работе на объекте защиты сотрудников можно...'
    },
    {
      size: 917,
      preview: '3. Как проводится первичный противопожарный инструктаж на рабочем месте\r\n' +
        '4. Как проводится повторный...'
    },
    {
      size: 886,
      preview: 'Обучение мерам пожарной безопасности осуществляется, в частности, по программам противопожарного инс...'
    },
    {
      size: 854,
      preview: '- изучения ими действий в случае возникновения пожара.\r\n' +
        '  Проведите противопожарный инструктаж в соо...'
    },
    {
      size: 962,
      preview: 'Противопожарный инструктаж завершается проверкой знаний и умений на предмет их соответствия требован...'
    },
    {
      size: 831,
      preview: '1.1. Кто проводит противопожарный инструктаж\r\n' +
        '  Противопожарный инструктаж проводят лица, которые ос...'
    },
    {
      size: 909,
      preview: 'Такими лицами могут быть (п. п. 7, 8 Приложения N 1 к этому Приказу):\r\n' +
        '- руководитель организации;\r\n' +
        '...'
    },
    {
      size: 880,
      preview: '- на вводный;\r\n' +
        '- первичный на рабочем месте;\r\n' +
        '- повторный;\r\n' +
        '- внеплановый;\r\n' +
        '- целевой.\r\n' +
        '\r\n' +
        '2. Как про...'
    },
    {
      size: 961,
      preview: 'При совмещении вводного противопожарного инструктажа и первичного противопожарного инструктажа на ра...'
    },
    {
      size: 854,
      preview: '- права и обязанности в области пожарной безопасности лиц, которые осуществляют трудовую или служебн...'
    },
    {
      size: 988,
      preview: 'Этот вид инструктажа нужно провести непосредственно на рабочем месте до начала трудовой (служебной) ...'
    },
    {
      size: 919,
      preview: '- общие сведения о взрывопожарной и пожарной опасности веществ и материалов, изготавливаемой продукц...'
    },
    {
      size: 972,
      preview: '- о лицах, которые осуществляют трудовую (служебную) деятельность в организации, связанную с охраной...'
    },
    {
      size: 970,
      preview: 'б) отнесены к категориям повышенной взрывопожароопасности, взрывопожароопасности, пожароопасности.\r\n' +
        '...'
    },
    {
      size: 841,
      preview: '5. Как проводится внеплановый противопожарный инструктаж\r\n' +
        '   Провести внеплановый противопожарный ин...'
    },
    {
      size: 956,
      preview: '- лица, осуществляющие трудовую или служебную деятельность в организации, допустили нарушения обязат...'
    },
    {
      size: 933,
      preview: '- руководитель организации или назначенное им лицо приняло соответствующее решение.\r\n' +
        '\r\n' +
        '  5.1. Как со...'
    },
    {
      size: 761,
      preview: 'В частности, его проводят (п. 18 Приложения N 1 к Приказу N 806):\r\n' +
        '\r\n' +
        '- перед выполнением огневых раб...'
    },
    {
      size: 871,
      preview: '7. Как заполнить журнал учета противопожарных инструктажей\r\n' +
        '   Должностное лицо, которое проводило п...'
    },
    {
      size: 927,
      preview: 'Запись в журнале не требуется, если оформляется наряд-допуск на выполнение огневых работ (п. 23 Прил...'
    },
    {
      size: 982,
      preview: 'Обратите внимание, что результаты проведения противопожарных инструктажей и проверки знаний и умений...'
    },
    {
      size: 143,
      preview: 'SAMPLE Образец заполнения журнала учета противопожарных инструктажей (на примере ситуации, когда про...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T17:19:08.698Z'
}
{
  chunksCreated: 22,
  fileName: 'document3.md',
  level: 'info',
  message: 'Added document to vector store: document3.md',
  timestamp: '2025-02-09T17:19:09.670Z'
}
{
  fileName: 'document4.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document4.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T17:19:09.671Z'
}
{
  fileName: 'document4.md',
  contentLength: 5394,
  contentPreview: 'Какие бывают виды инструктажей по охране труда\r\n' +
    '\r\n' +
    'Инструктажи по охране труда подразделяются: на вво...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T17:19:09.672Z'
}
{
  documentName: 'document4.md',
  contentLength: 5394,
  contentPreview: 'Какие бывают виды инструктажей по охране труда\r\n' +
    '\r\n' +
    'Инструктажи по охране труда подразделяются: на вво...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T17:19:09.673Z'
}
{
  documentName: 'document4.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T17:19:09.673Z'
}
{
  documentName: 'document4.md',
  chunksCreated: 8,
  chunkSizes: [
    213, 993, 905,
    513, 823, 926,
    899, 938
  ],
  chunkPreviews: [
    {
      size: 213,
      preview: 'Какие бывают виды инструктажей по охране труда\r\n' +
        '\r\n' +
        'Инструктажи по охране труда подразделяются: на вво...'
    },
    {
      size: 993,
      preview: 'Инструктажи по охране труда подразделяются: на вводный, инструктаж по охране труда на рабочем месте ...'
    },
    {
      size: 905,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кому нужно проводить вводный инструктаж по охране труда\r\n' +
        '2. Кому нужно проводить п...'
    },
    {
      size: 513,
      preview: 'SAMPLE Образец приказа о проведении вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '7. Кому нужно проводить ...'
    },
    {
      size: 823,
      preview: 'В то же время некоторых работников можно освободить от первичного инструктажа (п. 13 Правил обучения...'
    },
    {
      size: 926,
      preview: 'Кто должен проводить инструктаж по охране труда на рабочем месте генеральному директору\r\n' +
        'Если генера...'
    },
    {
      size: 899,
      preview: '4. Кому и для каких целей нужно проводить внеплановый инструктаж по охране труда на рабочем месте\r\n' +
        ' ...'
    },
    {
      size: 938,
      preview: '5. Кому и для каких целей нужно проводить целевой инструктаж по охране труда\r\n' +
        '   Целевой инструктаж ...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T17:19:09.674Z'
}
{
  chunksCreated: 8,
  fileName: 'document4.md',
  level: 'info',
  message: 'Added document to vector store: document4.md',
  timestamp: '2025-02-09T17:19:10.810Z'
}
{
  totalFiles: 4,
  totalDocumentsProcessed: 4,
  totalChunksCreated: 54,
  failedFiles: [],
  vectorStoreStatus: Promise { <pending> },
  level: 'info',
  message: 'Document loading process completed',
  timestamp: '2025-02-09T17:19:10.810Z'
}
{
  initialDocumentCount: 0,
  finalDocumentCount: 703,
  documentsAdded: 703,
  level: 'info',
  message: 'Document loading completed successfully',
  timestamp: '2025-02-09T17:19:10.821Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-09T17:20:05.783Z'
}
{
  hasCurrentArtifact: false,
  messageCount: 1,
  level: 'debug',
  message: 'Preparing LLM prompt for routing',
  timestamp: '2025-02-09T17:20:05.785Z'
}
{
  message: 'Initializing model for routing decision',
  level: 'debug',
  timestamp: '2025-02-09T17:20:05.786Z'
}
{
  message: 'Invoking model for routing decision',
  level: 'debug',
  timestamp: '2025-02-09T17:20:05.787Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-09T17:20:07.663Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
          additional_kwargs: {},
          response_metadata: {},
          id: 'c2da26b4-40e6-494d-9b91-ab3fb66657b0'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: 'c2da26b4-40e6-494d-9b91-ab3fb66657b0'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-09T17:20:07.672Z'
}
{
  message: 'Starting artifact generation process',
  level: 'info',
  timestamp: '2025-02-09T17:20:07.684Z'
}
{
  modelName: 'gpt-4o',
  modelProvider: 'openai',
  level: 'debug',
  message: 'Model configuration',
  timestamp: '2025-02-09T17:20:07.685Z'
}
{
  message: 'Model initialized with temperature 0.5',
  level: 'debug',
  timestamp: '2025-02-09T17:20:07.686Z'
}
{
  message: 'Model bound with artifact generation tool',
  level: 'debug',
  timestamp: '2025-02-09T17:20:07.687Z'
}
{
  memoriesLength: 278,
  level: 'debug',
  message: 'Retrieved formatted reflections',
  timestamp: '2025-02-09T17:20:07.689Z'
}
{
  promptLength: 1069,
  level: 'debug',
  message: 'Formatted new artifact prompt',
  timestamp: '2025-02-09T17:20:07.689Z'
}
{
  hasUserSystemPrompt: false,
  fullPromptLength: 1069,
  level: 'debug',
  message: 'Assembled full system prompt',
  timestamp: '2025-02-09T17:20:07.691Z'
}
{
  message: 'Invoking model for artifact generation',
  level: 'info',
  timestamp: '2025-02-09T17:20:07.691Z'
}
{
  hasToolCalls: true,
  toolCallsCount: 1,
  level: 'debug',
  message: 'Received model response',
  timestamp: '2025-02-09T17:20:19.455Z'
}
{
  title: 'Заключение по инструктажам',
  type: 'text',
  contentLength: 1502,
  content: '### Виды инструктажа при приеме на работу\n' +
    '\n' +
    'При приеме на работу работодатель обязан провести с работником инструктажи по охране труда. Основные виды инструктажа включают:\n' +
    '\n' +
    '1. **Вводный инструктаж**\n' +
    '   - Проводится со всеми вновь принимаемыми на работу сотрудниками. \n' +
    '   - Регламентируется статьей 225 Трудового кодекса Российской Федерации (ТК РФ) и постановлением Минтруда России от 13 января 2003 г. № 1/29.\n' +
    '\n' +
    '2. **Первичный инструктаж на рабочем месте**\n' +
    '   - Проводится до начала самостоятельной работы на рабочем месте.\n' +
    '   - Определяется статьей 225 ТК РФ и постановлением Минтруда России от 13 января 2003 г. № 1/29.\n' +
    '\n' +
    '3. **Повторный инструктаж**\n' +
    '   - Проводится не реже одного раза в шесть месяцев.\n' +
    '   - Основан на статье 225 ТК РФ и постановлении Минтруда России от 13 января 2003 г. № 1/29.\n' +
    '\n' +
    '4. **Внеплановый инструктаж**\n' +
    '   - Проводится при изменении условий труда, введении в действие новых нормативных актов, а также после аварий и несчастных случаев.\n' +
    '   - Регламентируется той же статьей 225 ТК РФ и постановлением Минтруда России от 13 января 2003 г. № 1/29.\n' +
    '\n' +
    '5. **Целевой инструктаж**\n' +
    '   - Проводится при выполнении разовых работ, не связанных с прямыми обязанностями работника, а также при ликвидации аварий и стихийных бедствий.\n' +
    '   - Также регулируется статьей 225 ТК РФ и постановлением Минтруда России от 13 января 2003 г. № 1/29.\n' +
    '\n' +
    'Эти инструкции направлены на обеспечение безопасности и минимизацию рисков на рабочем месте, и их проведение является обязательным для всех работодателей.',
  level: 'debug',
  message: 'Created new artifact content',
  timestamp: '2025-02-09T17:20:19.455Z'
}
{
  id: '71368ae5-a930-4862-9fe8-f0d458997d40',
  currentIndex: 1,
  contentsLength: 1,
  content: '### Виды инструктажа при приеме на работу\n' +
    '\n' +
    'При приеме на работу работодатель обязан провести с работником инструктажи по охране труда. Основные виды инструктажа включают:\n' +
    '\n' +
    '1. **Вводный инструктаж**\n' +
    '   - Проводится со всеми вновь принимаемыми на работу сотрудниками. \n' +
    '   - Регламентируется статьей 225 Трудового кодекса Российской Федерации (ТК РФ) и постановлением Минтруда России от 13 января 2003 г. № 1/29.\n' +
    '\n' +
    '2. **Первичный инструктаж на рабочем месте**\n' +
    '   - Проводится до начала самостоятельной работы на рабочем месте.\n' +
    '   - Определяется статьей 225 ТК РФ и постановлением Минтруда России от 13 января 2003 г. № 1/29.\n' +
    '\n' +
    '3. **Повторный инструктаж**\n' +
    '   - Проводится не реже одного раза в шесть месяцев.\n' +
    '   - Основан на статье 225 ТК РФ и постановлении Минтруда России от 13 января 2003 г. № 1/29.\n' +
    '\n' +
    '4. **Внеплановый инструктаж**\n' +
    '   - Проводится при изменении условий труда, введении в действие новых нормативных актов, а также после аварий и несчастных случаев.\n' +
    '   - Регламентируется той же статьей 225 ТК РФ и постановлением Минтруда России от 13 января 2003 г. № 1/29.\n' +
    '\n' +
    '5. **Целевой инструктаж**\n' +
    '   - Проводится при выполнении разовых работ, не связанных с прямыми обязанностями работника, а также при ликвидации аварий и стихийных бедствий.\n' +
    '   - Также регулируется статьей 225 ТК РФ и постановлением Минтруда России от 13 января 2003 г. № 1/29.\n' +
    '\n' +
    'Эти инструкции направлены на обеспечение безопасности и минимизацию рисков на рабочем месте, и их проведение является обязательным для всех работодателей.',
  level: 'debug',
  message: 'Created new artifact object',
  timestamp: '2025-02-09T17:20:19.458Z'
}
{
  message: 'Successfully generated new artifact',
  level: 'info',
  timestamp: '2025-02-09T17:20:19.459Z'
}
{
  message: 'Cleaning state, resetting to default inputs',
  level: 'debug',
  timestamp: '2025-02-09T17:20:20.759Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-09T17:20:20.765Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-09T17:20:20.765Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-09T17:20:52.345Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-09T17:20:52.345Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
          additional_kwargs: {},
          response_metadata: {},
          id: 'c2da26b4-40e6-494d-9b91-ab3fb66657b0'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: 'c2da26b4-40e6-494d-9b91-ab3fb66657b0'
      },
      AIMessageChunk {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Ваше заключение по видам инструктажа при приеме на работу готово. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуются какие-либо изменения или дополнения.',
          additional_kwargs: {},
          response_metadata: {
            usage: {
              prompt_tokens: 891,
              completion_tokens: 44,
              total_tokens: 935,
              prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
              completion_tokens_details: {
                reasoning_tokens: 0,
                audio_tokens: 0,
                accepted_prediction_tokens: 0,
                rejected_prediction_tokens: 0
              }
            }
          },
          tool_call_chunks: [],
          id: 'chatcmpl-Az5GdF7kNrWXL1LGuYzJmBR9X4O9f',
          tool_calls: [],
          invalid_tool_calls: [],
          usage_metadata: undefined
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Ваше заключение по видам инструктажа при приеме на работу готово. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуются какие-либо изменения или дополнения.',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {
          usage: {
            prompt_tokens: 891,
            completion_tokens: 44,
            total_tokens: 935,
            prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
            completion_tokens_details: {
              reasoning_tokens: 0,
              audio_tokens: 0,
              accepted_prediction_tokens: 0,
              rejected_prediction_tokens: 0
            }
          }
        },
        id: 'chatcmpl-Az5GdF7kNrWXL1LGuYzJmBR9X4O9f',
        tool_calls: [],
        invalid_tool_calls: [],
        tool_call_chunks: [],
        usage_metadata: undefined
      }
    ],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Заключение по инструктажам',
          fullMarkdown: '### Виды инструктажа при приеме на работу\n' +
            '\n' +
            'При приеме на работу работодатель обязан провести с работником инструктажи по охране труда. Основные виды инструктажа включают:\n' +
            '\n' +
            '1.  **Вводный инструктаж**\n' +
            '\n' +
            '    *   Проводится со всеми вновь принимаемыми на работу сотрудниками.\n' +
            '    *   Регламентируется статьей 225 Трудового кодекса Российской Федерации (ТК РФ) и постановлением Минтруда России от 13 января 2003 г. № 1/29.\n' +
            '\n' +
            '2.  **Первичный инструктаж на рабочем месте**\n' +
            '\n' +
            '    *   Проводится до начала самостоятельной работы на рабочем месте.\n' +
            '    *   Определяется статьей 225 ТК РФ и постановлением Минтруда России от 13 января 2003 г. № 1/29.\n' +
            '\n' +
            '3.  **Повторный инструктаж**\n' +
            '\n' +
            '    *   Проводится не реже одного раза в шесть месяцев.\n' +
            '    *   Основан на статье 225 ТК РФ и постановлении Минтруда России от 13 января 2003 г. № 1/29.\n' +
            '\n' +
            '4.  **Внеплановый инструктаж**\n' +
            '\n' +
            '    *   Проводится при изменении условий труда, введении в действие новых нормативных актов, а также после аварий и несчастных случаев.\n' +
            '    *   Регламентируется той же статьей 225 ТК РФ и постановлением Минтруда России от 13 января 2003 г. № 1/29.\n' +
            '\n' +
            '5.  **Целевой инструктаж**\n' +
            '\n' +
            '    *   Проводится при выполнении разовых работ, не связанных с прямыми обязанностями работника, а также при ликвидации аварий и стихийных бедствий.\n' +
            '    *   Также регулируется статьей 225 ТК РФ и постановлением Минтруда России от 13 января 2003 г. № 1/29.\n' +
            '\n' +
            'Эти инструкции направлены на обеспечение безопасности и минимизацию рисков на рабочем месте, и их проведение является обязательным для всех работодателей.\n'
        }
      ],
      metadata: {},
      id: '71368ae5-a930-4862-9fe8-f0d458997d40'
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-09T17:20:52.349Z'
}
{
  message: 'Starting RAG retrieval process',
  level: 'info',
  timestamp: '2025-02-09T17:20:52.358Z'
}
{
  hasMessage: true,
  queryLength: 108,
  queryType: 'string',
  level: 'debug',
  message: 'Extracted query from last human message',
  timestamp: '2025-02-09T17:20:52.359Z'
}
{
  query: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-09T17:20:52.359Z'
}
{
  error: Error: Vector store is empty
      at performVectorSearch (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\rag\vector_store.ts:92:27)
      at async retryWithBackoff (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\agent\open-canvas\nodes\ragRetrieval.ts:22:14)
      at async RunnableCallable.ragRetrievalNode (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\agent\open-canvas\nodes\ragRetrieval.ts:139:30)
      at async RunnableCallable.invoke (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\utils.cjs:82:27)
      at async RunnableSequence.invoke (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\core\dist\runnables\base.cjs:1162:33)
      at async _runWithRetry (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\retry.cjs:99:22)
      at async executeTasksWithRetry (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\retry.cjs:72:29)
      at async CompiledStateGraph._streamIterator (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\index.cjs:764:48)
      at async Object.pull (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\core\dist\utils\stream.cjs:103:41),
  level: 'error',
  message: 'Vector search failed',
  timestamp: '2025-02-09T17:20:52.361Z'
}
{
  error: 'Vector store is empty',
  nextDelayMs: 1000,
  level: 'warn',
  message: 'Operation failed, attempt 1 of 3',
  timestamp: '2025-02-09T17:20:52.364Z'
}
{
  error: Error: Vector store is empty
      at performVectorSearch (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\rag\vector_store.ts:92:27)
      at runNextTicks (node:internal/process/task_queues:65:5)
      at process.processTimers (node:internal/timers:526:9)
      at async retryWithBackoff (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\agent\open-canvas\nodes\ragRetrieval.ts:22:14)
      at async RunnableCallable.ragRetrievalNode (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\agent\open-canvas\nodes\ragRetrieval.ts:139:30)
      at async RunnableCallable.invoke (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\utils.cjs:82:27)
      at async RunnableSequence.invoke (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\core\dist\runnables\base.cjs:1162:33)
      at async _runWithRetry (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\retry.cjs:99:22)
      at async executeTasksWithRetry (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\retry.cjs:72:29)
      at async CompiledStateGraph._streamIterator (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\index.cjs:764:48),
  level: 'error',
  message: 'Vector search failed',
  timestamp: '2025-02-09T17:20:53.377Z'
}
{
  error: 'Vector store is empty',
  nextDelayMs: 2000,
  level: 'warn',
  message: 'Operation failed, attempt 2 of 3',
  timestamp: '2025-02-09T17:20:53.378Z'
}
{
  error: Error: Vector store is empty
      at performVectorSearch (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\rag\vector_store.ts:92:27)
      at runNextTicks (node:internal/process/task_queues:65:5)
      at process.processTimers (node:internal/timers:526:9)
      at async retryWithBackoff (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\agent\open-canvas\nodes\ragRetrieval.ts:22:14)
      at async RunnableCallable.ragRetrievalNode (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\src\agent\open-canvas\nodes\ragRetrieval.ts:139:30)
      at async RunnableCallable.invoke (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\utils.cjs:82:27)
      at async RunnableSequence.invoke (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\core\dist\runnables\base.cjs:1162:33)
      at async _runWithRetry (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\retry.cjs:99:22)
      at async executeTasksWithRetry (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\retry.cjs:72:29)
      at async CompiledStateGraph._streamIterator (C:\Users\tebri\OneDrive\Documents\ts\open-canvas\node_modules\@langchain\langgraph\dist\pregel\index.cjs:764:48),
  level: 'error',
  message: 'Vector search failed',
  timestamp: '2025-02-09T17:20:55.421Z'
}
{
  error: 'Vector store is empty',
  nextDelayMs: 4000,
  level: 'warn',
  message: 'Operation failed, attempt 3 of 3',
  timestamp: '2025-02-09T17:20:55.422Z'
}
{
  query: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
  level: 'info',
  message: 'Vector store is empty, proceeding without context',
  timestamp: '2025-02-09T17:20:55.422Z'
}
{
  message: 'Starting artifact rewrite process',
  level: 'info',
  timestamp: '2025-02-09T17:20:55.431Z'
}
{
  message: 'Model initialized with temperature 0.5',
  level: 'debug',
  timestamp: '2025-02-09T17:20:55.431Z'
}
{
  message: 'Model bound with artifact generation tool',
  level: 'debug',
  timestamp: '2025-02-09T17:20:55.432Z'
}
{
  hasMessage: true,
  content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
  level: 'debug',
  message: 'Retrieved last human message',
  timestamp: '2025-02-09T17:20:55.432Z'
}
{
  lastHumanMessage: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
  retrievedContext: 'Нет дополнительного контекста.',
  artifactFullMarkdown: '### Виды инструктажа при приеме на работу\n' +
    '\n' +
    'При приеме на работу работодатель обязан провести с работником инструктажи по охране труда. Основные виды инструктажа включают:\n' +
    '\n' +
    '1.  **Вводный инструктаж**\n' +
    '\n' +
    '    *   Проводится со всеми вновь принимаемыми на работу сотрудниками.\n' +
    '    *   Регламентируется статьей 225 Трудового кодекса Российской Федерации (ТК РФ) и постановлением Минтруда России от 13 января 2003 г. № 1/29.\n' +
    '\n' +
    '2.  **Первичный инструктаж на рабочем месте**\n' +
    '\n' +
    '    *   Проводится до начала самостоятельной работы на рабочем месте.\n' +
    '    *   Определяется статьей 225 ТК РФ и постановлением Минтруда России от 13 января 2003 г. № 1/29.\n' +
    '\n' +
    '3.  **Повторный инструктаж**\n' +
    '\n' +
    '    *   Проводится не реже одного раза в шесть месяцев.\n' +
    '    *   Основан на статье 225 ТК РФ и постановлении Минтруда России от 13 января 2003 г. № 1/29.\n' +
    '\n' +
    '4.  **Внеплановый инструктаж**\n' +
    '\n' +
    '    *   Проводится при изменении условий труда, введении в действие новых нормативных актов, а также после аварий и несчастных случаев.\n' +
    '    *   Регламентируется той же статьей 225 ТК РФ и постановлением Минтруда России от 13 января 2003 г. № 1/29.\n' +
    '\n' +
    '5.  **Целевой инструктаж**\n' +
    '\n' +
    '    *   Проводится при выполнении разовых работ, не связанных с прямыми обязанностями работника, а также при ликвидации аварий и стихийных бедствий.\n' +
    '    *   Также регулируется статьей 225 ТК РФ и постановлением Минтруда России от 13 января 2003 г. № 1/29.\n' +
    '\n' +
    'Эти инструкции направлены на обеспечение безопасности и минимизацию рисков на рабочем месте, и их проведение является обязательным для всех работодателей.\n',
  level: 'debug',
  message: 'Components for system prompt',
  timestamp: '2025-02-09T17:20:55.433Z'
}
{
  promptLength: 1949,
  hasContext: false,
  hasOriginalDocument: true,
  level: 'debug',
  message: 'Final system prompt assembled',
  timestamp: '2025-02-09T17:20:55.434Z'
}
{
  message: 'Invoking model for artifact rewrite',
  level: 'info',
  timestamp: '2025-02-09T17:20:55.435Z'
}
{
  hasToolCalls: true,
  toolCallsCount: 1,
  level: 'debug',
  message: 'Model response received',
  timestamp: '2025-02-09T17:21:00.101Z'
}
{
  title: 'Заключение по видам инструктажа',
  contentLength: 1212,
  level: 'debug',
  message: 'Created new artifact content',
  timestamp: '2025-02-09T17:21:00.101Z'
}
{
  id: '71368ae5-a930-4862-9fe8-f0d458997d40',
  contentsLength: 1,
  currentIndex: 1,
  level: 'debug',
  message: 'Updated artifact object',
  timestamp: '2025-02-09T17:21:00.102Z'
}
{
  message: 'Successfully completed artifact rewrite',
  level: 'info',
  timestamp: '2025-02-09T17:21:00.102Z'
}
{
  message: 'Cleaning state, resetting to default inputs',
  level: 'debug',
  timestamp: '2025-02-09T17:21:01.295Z'
}
{
  message: 'Checking if title generation is needed. Message count: 3',
  level: 'info',
  timestamp: '2025-02-09T17:21:01.301Z'
}
{
  message: 'Skipping title generation - conversation already has more than 2 messages',
  level: 'debug',
  timestamp: '2025-02-09T17:21:01.301Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  cwd: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas',
  level: 'info',
  message: 'Starting document loading process',
  timestamp: '2025-02-09T17:23:45.393Z'
}
{
  message: 'Initializing new vector store connection',
  level: 'debug',
  timestamp: '2025-02-09T17:23:45.397Z'
}
{
  documentCount: undefined,
  level: 'debug',
  message: 'Found existing collection',
  timestamp: '2025-02-09T17:23:45.398Z'
}
{
  error: 'Failed to connect to ChromaDB collection',
  stack: 'Error: Failed to connect to ChromaDB collection\n' +
    '    at initializeVectorStore (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\rag\\vector_store.ts:56:15)\n' +
    '    at async getVectorStoreStatus (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\rag\\vector_store.ts:176:19)\n' +
    '    at async main (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\scripts\\load-documents.ts:42:27)',
  level: 'error',
  message: 'Failed to initialize vector store',
  timestamp: '2025-02-09T17:23:45.400Z'
}
{
  error: 'Failed to connect to ChromaDB collection',
  level: 'error',
  message: 'Failed to get vector store status',
  timestamp: '2025-02-09T17:23:45.401Z'
}
{
  isInitialized: false,
  documentCount: 0,
  level: 'info',
  message: 'Initial vector store status',
  timestamp: '2025-02-09T17:23:45.401Z'
}
{
  message: 'Clearing existing documents from vector store',
  level: 'info',
  timestamp: '2025-02-09T17:23:45.402Z'
}
{
  error: '\n' +
    '                You must provide either ids, where, or where_document to delete. If\n' +
    '                you want to delete all data in a collection you can delete the\n' +
    '                collection itself using the delete_collection method. Or alternatively,\n' +
    '                you can get() all the relevant ids and then delete them.\n' +
    '                ',
  level: 'warn',
  message: 'Failed to clear vector store',
  timestamp: '2025-02-09T17:23:45.584Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 1,
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-09T17:23:45.586Z'
}
{
  fileCount: 4,
  files: [
    { name: 'document1.md', extension: '.md' },
    { name: 'document2.md', extension: '.md' },
    { name: 'document3.md', extension: '.md' },
    { name: 'document4.md', extension: '.md' }
  ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-09T17:23:45.587Z'
}
{
  fileName: 'document1.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document1.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T17:23:45.588Z'
}
{
  fileName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T17:23:45.589Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T17:23:45.590Z'
}
{
  documentName: 'document1.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T17:23:45.591Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkSizes: [
    973, 901, 971, 937,
    972, 861, 915, 775,
    903, 648, 580, 875,
    274
  ],
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T17:23:45.593Z'
}
{
  message: 'Process interrupted, cleaning up...',
  level: 'warn',
  timestamp: '2025-02-09T17:24:35.937Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  cwd: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas',
  level: 'info',
  message: 'Starting document loading process',
  timestamp: '2025-02-09T17:25:32.041Z'
}
{
  message: 'Initializing new vector store connection',
  level: 'debug',
  timestamp: '2025-02-09T17:25:32.044Z'
}
{
  error: 'Collection not found',
  level: 'debug',
  message: 'Creating new collection',
  timestamp: '2025-02-09T17:25:32.045Z'
}
{
  error: 'Failed to connect to ChromaDB collection',
  stack: 'Error: Failed to connect to ChromaDB collection\n' +
    '    at initializeVectorStore (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\rag\\vector_store.ts:66:15)\n' +
    '    at async getVectorStoreStatus (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\rag\\vector_store.ts:186:19)\n' +
    '    at async main (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\scripts\\load-documents.ts:42:27)',
  level: 'error',
  message: 'Failed to initialize vector store',
  timestamp: '2025-02-09T17:25:32.048Z'
}
{
  error: 'Failed to connect to ChromaDB collection',
  level: 'error',
  message: 'Failed to get vector store status',
  timestamp: '2025-02-09T17:25:32.049Z'
}
{
  isInitialized: false,
  documentCount: 0,
  level: 'info',
  message: 'Initial vector store status',
  timestamp: '2025-02-09T17:25:32.050Z'
}
{
  message: 'Clearing existing documents from vector store',
  level: 'info',
  timestamp: '2025-02-09T17:25:32.050Z'
}
{
  error: '\n' +
    '                You must provide either ids, where, or where_document to delete. If\n' +
    '                you want to delete all data in a collection you can delete the\n' +
    '                collection itself using the delete_collection method. Or alternatively,\n' +
    '                you can get() all the relevant ids and then delete them.\n' +
    '                ',
  level: 'warn',
  message: 'Failed to clear vector store',
  timestamp: '2025-02-09T17:25:32.179Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 1,
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-09T17:25:32.180Z'
}
{
  fileCount: 4,
  files: [
    { name: 'document1.md', extension: '.md' },
    { name: 'document2.md', extension: '.md' },
    { name: 'document3.md', extension: '.md' },
    { name: 'document4.md', extension: '.md' }
  ],
  level: 'info',
  message: 'Found files in documents directory',
  timestamp: '2025-02-09T17:25:32.181Z'
}
{
  fileName: 'document1.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document1.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T17:25:32.182Z'
}
{
  fileName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T17:25:32.183Z'
}
{
  documentName: 'document1.md',
  contentLength: 10236,
  contentPreview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
    '\r\n' +
    'Вводный инструктаж по гражд...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T17:25:32.184Z'
}
{
  documentName: 'document1.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T17:25:32.185Z'
}
{
  documentName: 'document1.md',
  chunksCreated: 13,
  chunkSizes: [
    973, 901, 971, 937,
    972, 861, 915, 775,
    903, 648, 580, 875,
    274
  ],
  chunkPreviews: [
    {
      size: 973,
      preview: 'Как организовать и провести вводный инструктаж по гражданской обороне\r\n' +
        '\r\n' +
        'Вводный инструктаж по гражд...'
    },
    {
      size: 901,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кто проводит вводный инструктаж\r\n' +
        '2. С кем нужно проводить вводный инструктаж\r\n' +
        '3. К...'
    },
    {
      size: 971,
      preview: '- руководитель занятий по ГО.\r\n' +
        '\r\n' +
        'SOLUTION Кто должен заниматься ведением гражданской обороны в орган...'
    },
    {
      size: 937,
      preview: 'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работн...'
    },
    {
      size: 972,
      preview: '- наличие опасных производственных факторов в организации;\r\n' +
        '- место ее расположения;\r\n' +
        '- вероятность ...'
    },
    {
      size: 861,
      preview: 'Необходимо приказом или распоряжением утвердить порядок его проведения (п. 2.8 Примерного порядка ре...'
    },
    {
      size: 915,
      preview: 'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или ...'
    },
    {
      size: 775,
      preview: '5. Риски в случае непроведения вводного инструктажа\r\n' +
        '   За невыполнение обязанности провести вводный...'
    },
    {
      size: 903,
      preview: 'Вводный инструктаж по ЧС проводят все организации, которые используют в своей деятельности наемный т...'
    },
    {
      size: 648,
      preview: 'Для проведения вводного инструктажа по ЧС рекомендуется (п. п. 2.1 - 2.3 Примерного порядка реализац...'
    },
    {
      size: 580,
      preview: 'Срок проведения вводного инструктажа по ЧС - в течение 30 календарных дней с момента, когда новый ра...'
    },
    {
      size: 875,
      preview: 'Продолжительность вводного инструктажа по ЧС (количество отводимых на него часов) организация опреде...'
    },
    {
      size: 274,
      preview: 'По мнению специалистов МЧС России, допустимо ведение единого журнала учета вводного инструктажа по Г...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T17:25:32.186Z'
}
{
  addedCount: 13,
  totalCount: 716,
  level: 'debug',
  message: 'Documents added to vector store',
  timestamp: '2025-02-09T17:25:34.100Z'
}
{
  chunksCreated: 13,
  fileName: 'document1.md',
  level: 'info',
  message: 'Added document to vector store: document1.md',
  timestamp: '2025-02-09T17:25:34.100Z'
}
{
  fileName: 'document2.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document2.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T17:25:34.100Z'
}
{
  fileName: 'document2.md',
  contentLength: 8574,
  contentPreview: 'Как провести вводный инструктаж по охране труда\r\n' +
    '\r\n' +
    'Вводный инструктаж по охране труда обязаны провод...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T17:25:34.101Z'
}
{
  documentName: 'document2.md',
  contentLength: 8574,
  contentPreview: 'Как провести вводный инструктаж по охране труда\r\n' +
    '\r\n' +
    'Вводный инструктаж по охране труда обязаны провод...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T17:25:34.102Z'
}
{
  documentName: 'document2.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T17:25:34.102Z'
}
{
  documentName: 'document2.md',
  chunksCreated: 11,
  chunkSizes: [
    957, 775, 868, 650,
    949, 681, 922, 878,
    954, 890, 938
  ],
  chunkPreviews: [
    {
      size: 957,
      preview: 'Как провести вводный инструктаж по охране труда\r\n' +
        '\r\n' +
        'Вводный инструктаж по охране труда обязаны провод...'
    },
    {
      size: 775,
      preview: '5. Каковы риски в случае непроведения вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '6. Кто проводит вводны...'
    },
    {
      size: 868,
      preview: 'Работники организации (ИП), проводящие инструктаж, должны пройти обучение требованиям охраны труда в...'
    },
    {
      size: 650,
      preview: '2.1. Каков срок проведения вводного инструктажа по охране труда\r\n' +
        'Вводный инструктаж по охране труда ...'
    },
    {
      size: 949,
      preview: 'Инструктаж по охране труда на рабочем месте (в том числе и первичный) проводится в объеме мероприяти...'
    },
    {
      size: 681,
      preview: 'Для проведения вводного инструктажа вам нужно (п. п. 9, 11, 69, 88 Правил обучения по охране труда):...'
    },
    {
      size: 922,
      preview: 'Вводный инструктаж завершается проверкой знания требований охраны труда. Это неотъемлемая часть пров...'
    },
    {
      size: 878,
      preview: 'В Приложении N 1 указаны следующие темы для программы вводного инструктажа по охране труда:\r\n' +
        '\r\n' +
        '- Све...'
    },
    {
      size: 954,
      preview: '- Действия работников при возникновении возможных аварийных ситуаций. Виды сигнализаций и звуковых о...'
    },
    {
      size: 890,
      preview: 'Обратите внимание, что положения о ведении электронного документооборота в сфере трудовых отношений ...'
    },
    {
      size: 938,
      preview: '- фамилию, имя, отчество (при наличии), профессию (должность) работника, проводившего инструктаж;\r\n' +
        '-...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T17:25:34.103Z'
}
{
  addedCount: 11,
  totalCount: 727,
  level: 'debug',
  message: 'Documents added to vector store',
  timestamp: '2025-02-09T17:25:34.903Z'
}
{
  chunksCreated: 11,
  fileName: 'document2.md',
  level: 'info',
  message: 'Added document to vector store: document2.md',
  timestamp: '2025-02-09T17:25:34.904Z'
}
{
  fileName: 'document3.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document3.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T17:25:34.904Z'
}
{
  fileName: 'document3.md',
  contentLength: 17193,
  contentPreview: 'Как проводятся противопожарные инструктажи\r\n' +
    '\r\n' +
    'Допускать к работе на объекте защиты сотрудников можно...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T17:25:34.906Z'
}
{
  documentName: 'document3.md',
  contentLength: 17193,
  contentPreview: 'Как проводятся противопожарные инструктажи\r\n' +
    '\r\n' +
    'Допускать к работе на объекте защиты сотрудников можно...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T17:25:34.906Z'
}
{
  documentName: 'document3.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T17:25:34.907Z'
}
{
  documentName: 'document3.md',
  chunksCreated: 22,
  chunkSizes: [
    947, 917, 886, 854, 962,
    831, 909, 880, 961, 854,
    988, 919, 972, 970, 841,
    956, 933, 761, 871, 927,
    982, 143
  ],
  chunkPreviews: [
    {
      size: 947,
      preview: 'Как проводятся противопожарные инструктажи\r\n' +
        '\r\n' +
        'Допускать к работе на объекте защиты сотрудников можно...'
    },
    {
      size: 917,
      preview: '3. Как проводится первичный противопожарный инструктаж на рабочем месте\r\n' +
        '4. Как проводится повторный...'
    },
    {
      size: 886,
      preview: 'Обучение мерам пожарной безопасности осуществляется, в частности, по программам противопожарного инс...'
    },
    {
      size: 854,
      preview: '- изучения ими действий в случае возникновения пожара.\r\n' +
        '  Проведите противопожарный инструктаж в соо...'
    },
    {
      size: 962,
      preview: 'Противопожарный инструктаж завершается проверкой знаний и умений на предмет их соответствия требован...'
    },
    {
      size: 831,
      preview: '1.1. Кто проводит противопожарный инструктаж\r\n' +
        '  Противопожарный инструктаж проводят лица, которые ос...'
    },
    {
      size: 909,
      preview: 'Такими лицами могут быть (п. п. 7, 8 Приложения N 1 к этому Приказу):\r\n' +
        '- руководитель организации;\r\n' +
        '...'
    },
    {
      size: 880,
      preview: '- на вводный;\r\n' +
        '- первичный на рабочем месте;\r\n' +
        '- повторный;\r\n' +
        '- внеплановый;\r\n' +
        '- целевой.\r\n' +
        '\r\n' +
        '2. Как про...'
    },
    {
      size: 961,
      preview: 'При совмещении вводного противопожарного инструктажа и первичного противопожарного инструктажа на ра...'
    },
    {
      size: 854,
      preview: '- права и обязанности в области пожарной безопасности лиц, которые осуществляют трудовую или служебн...'
    },
    {
      size: 988,
      preview: 'Этот вид инструктажа нужно провести непосредственно на рабочем месте до начала трудовой (служебной) ...'
    },
    {
      size: 919,
      preview: '- общие сведения о взрывопожарной и пожарной опасности веществ и материалов, изготавливаемой продукц...'
    },
    {
      size: 972,
      preview: '- о лицах, которые осуществляют трудовую (служебную) деятельность в организации, связанную с охраной...'
    },
    {
      size: 970,
      preview: 'б) отнесены к категориям повышенной взрывопожароопасности, взрывопожароопасности, пожароопасности.\r\n' +
        '...'
    },
    {
      size: 841,
      preview: '5. Как проводится внеплановый противопожарный инструктаж\r\n' +
        '   Провести внеплановый противопожарный ин...'
    },
    {
      size: 956,
      preview: '- лица, осуществляющие трудовую или служебную деятельность в организации, допустили нарушения обязат...'
    },
    {
      size: 933,
      preview: '- руководитель организации или назначенное им лицо приняло соответствующее решение.\r\n' +
        '\r\n' +
        '  5.1. Как со...'
    },
    {
      size: 761,
      preview: 'В частности, его проводят (п. 18 Приложения N 1 к Приказу N 806):\r\n' +
        '\r\n' +
        '- перед выполнением огневых раб...'
    },
    {
      size: 871,
      preview: '7. Как заполнить журнал учета противопожарных инструктажей\r\n' +
        '   Должностное лицо, которое проводило п...'
    },
    {
      size: 927,
      preview: 'Запись в журнале не требуется, если оформляется наряд-допуск на выполнение огневых работ (п. 23 Прил...'
    },
    {
      size: 982,
      preview: 'Обратите внимание, что результаты проведения противопожарных инструктажей и проверки знаний и умений...'
    },
    {
      size: 143,
      preview: 'SAMPLE Образец заполнения журнала учета противопожарных инструктажей (на примере ситуации, когда про...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T17:25:34.907Z'
}
{
  addedCount: 22,
  totalCount: 749,
  level: 'debug',
  message: 'Documents added to vector store',
  timestamp: '2025-02-09T17:25:35.781Z'
}
{
  chunksCreated: 22,
  fileName: 'document3.md',
  level: 'info',
  message: 'Added document to vector store: document3.md',
  timestamp: '2025-02-09T17:25:35.781Z'
}
{
  fileName: 'document4.md',
  filePath: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents\\document4.md',
  level: 'debug',
  message: 'Processing file',
  timestamp: '2025-02-09T17:25:35.782Z'
}
{
  fileName: 'document4.md',
  contentLength: 5394,
  contentPreview: 'Какие бывают виды инструктажей по охране труда\r\n' +
    '\r\n' +
    'Инструктажи по охране труда подразделяются: на вво...',
  level: 'debug',
  message: 'File content read',
  timestamp: '2025-02-09T17:25:35.783Z'
}
{
  documentName: 'document4.md',
  contentLength: 5394,
  contentPreview: 'Какие бывают виды инструктажей по охране труда\r\n' +
    '\r\n' +
    'Инструктажи по охране труда подразделяются: на вво...',
  level: 'info',
  message: 'Starting document processing',
  timestamp: '2025-02-09T17:25:35.783Z'
}
{
  documentName: 'document4.md',
  chunkSize: 1000,
  chunkOverlap: 200,
  level: 'debug',
  message: 'Splitting document into chunks',
  timestamp: '2025-02-09T17:25:35.784Z'
}
{
  documentName: 'document4.md',
  chunksCreated: 8,
  chunkSizes: [
    213, 993, 905,
    513, 823, 926,
    899, 938
  ],
  chunkPreviews: [
    {
      size: 213,
      preview: 'Какие бывают виды инструктажей по охране труда\r\n' +
        '\r\n' +
        'Инструктажи по охране труда подразделяются: на вво...'
    },
    {
      size: 993,
      preview: 'Инструктажи по охране труда подразделяются: на вводный, инструктаж по охране труда на рабочем месте ...'
    },
    {
      size: 905,
      preview: 'Оглавление:\r\n' +
        '\r\n' +
        '1. Кому нужно проводить вводный инструктаж по охране труда\r\n' +
        '2. Кому нужно проводить п...'
    },
    {
      size: 513,
      preview: 'SAMPLE Образец приказа о проведении вводного инструктажа по охране труда\r\n' +
        '\r\n' +
        '7. Кому нужно проводить ...'
    },
    {
      size: 823,
      preview: 'В то же время некоторых работников можно освободить от первичного инструктажа (п. 13 Правил обучения...'
    },
    {
      size: 926,
      preview: 'Кто должен проводить инструктаж по охране труда на рабочем месте генеральному директору\r\n' +
        'Если генера...'
    },
    {
      size: 899,
      preview: '4. Кому и для каких целей нужно проводить внеплановый инструктаж по охране труда на рабочем месте\r\n' +
        ' ...'
    },
    {
      size: 938,
      preview: '5. Кому и для каких целей нужно проводить целевой инструктаж по охране труда\r\n' +
        '   Целевой инструктаж ...'
    }
  ],
  level: 'info',
  message: 'Document processing completed',
  timestamp: '2025-02-09T17:25:35.784Z'
}
{
  addedCount: 8,
  totalCount: 757,
  level: 'debug',
  message: 'Documents added to vector store',
  timestamp: '2025-02-09T17:25:36.157Z'
}
{
  chunksCreated: 8,
  fileName: 'document4.md',
  level: 'info',
  message: 'Added document to vector store: document4.md',
  timestamp: '2025-02-09T17:25:36.158Z'
}
{
  totalFiles: 4,
  totalDocumentsProcessed: 4,
  totalChunksCreated: 54,
  failedFiles: [],
  vectorStoreStatus: Promise { <pending> },
  level: 'info',
  message: 'Document loading process completed',
  timestamp: '2025-02-09T17:25:36.158Z'
}
{
  initialDocumentCount: 0,
  finalDocumentCount: 757,
  documentsAdded: 757,
  level: 'info',
  message: 'Document loading completed successfully',
  timestamp: '2025-02-09T17:25:36.169Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-09T17:26:25.188Z'
}
{
  hasCurrentArtifact: false,
  messageCount: 1,
  level: 'debug',
  message: 'Preparing LLM prompt for routing',
  timestamp: '2025-02-09T17:26:25.190Z'
}
{
  message: 'Initializing model for routing decision',
  level: 'debug',
  timestamp: '2025-02-09T17:26:25.191Z'
}
{
  message: 'Invoking model for routing decision',
  level: 'debug',
  timestamp: '2025-02-09T17:26:25.194Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-09T17:26:28.174Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
          additional_kwargs: {},
          response_metadata: {},
          id: 'a8f35043-e9f2-45da-bd37-5112b02b3850'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: 'a8f35043-e9f2-45da-bd37-5112b02b3850'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-09T17:26:28.180Z'
}
{
  message: 'Starting artifact generation process',
  level: 'info',
  timestamp: '2025-02-09T17:26:28.192Z'
}
{
  modelName: 'gpt-4o',
  modelProvider: 'openai',
  level: 'debug',
  message: 'Model configuration',
  timestamp: '2025-02-09T17:26:28.193Z'
}
{
  message: 'Model initialized with temperature 0.5',
  level: 'debug',
  timestamp: '2025-02-09T17:26:28.194Z'
}
{
  message: 'Model bound with artifact generation tool',
  level: 'debug',
  timestamp: '2025-02-09T17:26:28.194Z'
}
{
  memoriesLength: 278,
  level: 'debug',
  message: 'Retrieved formatted reflections',
  timestamp: '2025-02-09T17:26:28.196Z'
}
{
  promptLength: 1069,
  level: 'debug',
  message: 'Formatted new artifact prompt',
  timestamp: '2025-02-09T17:26:28.196Z'
}
{
  hasUserSystemPrompt: false,
  fullPromptLength: 1069,
  level: 'debug',
  message: 'Assembled full system prompt',
  timestamp: '2025-02-09T17:26:28.197Z'
}
{
  message: 'Invoking model for artifact generation',
  level: 'info',
  timestamp: '2025-02-09T17:26:28.197Z'
}
{
  hasToolCalls: true,
  toolCallsCount: 1,
  level: 'debug',
  message: 'Received model response',
  timestamp: '2025-02-09T17:26:38.362Z'
}
{
  title: 'Заключение по видам инструктажа',
  type: 'text',
  contentLength: 2005,
  content: 'При приеме на работу в Российской Федерации работодатель обязан провести несколько видов инструктажа для обеспечения безопасности труда и соблюдения трудового законодательства. Основные виды инструктажа включают:\n' +
    '\n' +
    '1. **Вводный инструктаж**: Проводится со всеми вновь принимаемыми на работу, а также с командированными, временными работниками, учащимися, проходящими производственную практику, и другими лицами, участвующими в производственной деятельности. \n' +
    '   - **Нормативная база**: Статья 225 Трудового кодекса РФ, Постановление Минтруда России от 13.01.2003 № 1/29 "Об утверждении Порядка обучения по охране труда и проверки знаний требований охраны труда работников организаций".\n' +
    '\n' +
    '2. **Первичный инструктаж на рабочем месте**: Проводится до начала самостоятельной работы со всеми работниками, вновь принятыми на работу, переведенными из одного подразделения в другое, а также с командированными, временными работниками.\n' +
    '   - **Нормативная база**: Статья 225 Трудового кодекса РФ, Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
    '\n' +
    '3. **Повторный инструктаж**: Проводится не реже одного раза в шесть месяцев для всех работников, независимо от квалификации, стажа и характера выполняемой работы.\n' +
    '   - **Нормативная база**: Статья 225 Трудового кодекса РФ, Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
    '\n' +
    '4. **Внеплановый инструктаж**: Проводится при изменении технологического процесса, замене или модернизации оборудования, изменении нормативных актов по охране труда.\n' +
    '   - **Нормативная база**: Статья 225 Трудового кодекса РФ, Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
    '\n' +
    '5. **Целевой инструктаж**: Проводится при выполнении разовых работ, не связанных с прямыми обязанностями по специальности, ликвидации аварий, стихийных бедствий и других чрезвычайных ситуаций.\n' +
    '   - **Нормативная база**: Статья 225 Трудового кодекса РФ, Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
    '\n' +
    'Эти виды инструктажа помогают обеспечить безопасность труда и соблюдение норм охраны труда на предприятии.',
  level: 'debug',
  message: 'Created new artifact content',
  timestamp: '2025-02-09T17:26:38.362Z'
}
{
  id: 'a2e34603-94fe-46b2-9749-43fb5b407724',
  currentIndex: 1,
  contentsLength: 1,
  content: 'При приеме на работу в Российской Федерации работодатель обязан провести несколько видов инструктажа для обеспечения безопасности труда и соблюдения трудового законодательства. Основные виды инструктажа включают:\n' +
    '\n' +
    '1. **Вводный инструктаж**: Проводится со всеми вновь принимаемыми на работу, а также с командированными, временными работниками, учащимися, проходящими производственную практику, и другими лицами, участвующими в производственной деятельности. \n' +
    '   - **Нормативная база**: Статья 225 Трудового кодекса РФ, Постановление Минтруда России от 13.01.2003 № 1/29 "Об утверждении Порядка обучения по охране труда и проверки знаний требований охраны труда работников организаций".\n' +
    '\n' +
    '2. **Первичный инструктаж на рабочем месте**: Проводится до начала самостоятельной работы со всеми работниками, вновь принятыми на работу, переведенными из одного подразделения в другое, а также с командированными, временными работниками.\n' +
    '   - **Нормативная база**: Статья 225 Трудового кодекса РФ, Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
    '\n' +
    '3. **Повторный инструктаж**: Проводится не реже одного раза в шесть месяцев для всех работников, независимо от квалификации, стажа и характера выполняемой работы.\n' +
    '   - **Нормативная база**: Статья 225 Трудового кодекса РФ, Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
    '\n' +
    '4. **Внеплановый инструктаж**: Проводится при изменении технологического процесса, замене или модернизации оборудования, изменении нормативных актов по охране труда.\n' +
    '   - **Нормативная база**: Статья 225 Трудового кодекса РФ, Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
    '\n' +
    '5. **Целевой инструктаж**: Проводится при выполнении разовых работ, не связанных с прямыми обязанностями по специальности, ликвидации аварий, стихийных бедствий и других чрезвычайных ситуаций.\n' +
    '   - **Нормативная база**: Статья 225 Трудового кодекса РФ, Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
    '\n' +
    'Эти виды инструктажа помогают обеспечить безопасность труда и соблюдение норм охраны труда на предприятии.',
  level: 'debug',
  message: 'Created new artifact object',
  timestamp: '2025-02-09T17:26:38.364Z'
}
{
  message: 'Successfully generated new artifact',
  level: 'info',
  timestamp: '2025-02-09T17:26:38.366Z'
}
{
  message: 'Cleaning state, resetting to default inputs',
  level: 'debug',
  timestamp: '2025-02-09T17:26:40.368Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-09T17:26:40.373Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-09T17:26:40.374Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-09T17:27:07.112Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-09T17:27:07.112Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
          additional_kwargs: {},
          response_metadata: {},
          id: 'a8f35043-e9f2-45da-bd37-5112b02b3850'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: 'a8f35043-e9f2-45da-bd37-5112b02b3850'
      },
      AIMessageChunk {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Ваше заключение по видам инструктажа при приеме на работу готово. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуется внести изменения или дополнения.',
          additional_kwargs: {},
          response_metadata: {
            usage: {
              prompt_tokens: 1007,
              completion_tokens: 43,
              total_tokens: 1050,
              prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
              completion_tokens_details: {
                reasoning_tokens: 0,
                audio_tokens: 0,
                accepted_prediction_tokens: 0,
                rejected_prediction_tokens: 0
              }
            }
          },
          tool_call_chunks: [],
          id: 'chatcmpl-Az5MkPZotqgesyWbXGqEn9noJcP1m',
          tool_calls: [],
          invalid_tool_calls: [],
          usage_metadata: undefined
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Ваше заключение по видам инструктажа при приеме на работу готово. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуется внести изменения или дополнения.',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {
          usage: {
            prompt_tokens: 1007,
            completion_tokens: 43,
            total_tokens: 1050,
            prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
            completion_tokens_details: {
              reasoning_tokens: 0,
              audio_tokens: 0,
              accepted_prediction_tokens: 0,
              rejected_prediction_tokens: 0
            }
          }
        },
        id: 'chatcmpl-Az5MkPZotqgesyWbXGqEn9noJcP1m',
        tool_calls: [],
        invalid_tool_calls: [],
        tool_call_chunks: [],
        usage_metadata: undefined
      }
    ],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Заключение по видам инструктажа',
          fullMarkdown: 'При приеме на работу в Российской Федерации работодатель обязан провести несколько видов инструктажа для обеспечения безопасности труда и соблюдения трудового законодательства. Основные виды инструктажа включают:\n' +
            '\n' +
            '1.  **Вводный инструктаж**: Проводится со всеми вновь принимаемыми на работу, а также с командированными, временными работниками, учащимися, проходящими производственную практику, и другими лицами, участвующими в производственной деятельности.\n' +
            '\n' +
            '    *   **Нормативная база**: Статья 225 Трудового кодекса РФ, Постановление Минтруда России от 13.01.2003 № 1/29 "Об утверждении Порядка обучения по охране труда и проверки знаний требований охраны труда работников организаций".\n' +
            '\n' +
            '2.  **Первичный инструктаж на рабочем месте**: Проводится до начала самостоятельной работы со всеми работниками, вновь принятыми на работу, переведенными из одного подразделения в другое, а также с командированными, временными работниками.\n' +
            '\n' +
            '    *   **Нормативная база**: Статья 225 Трудового кодекса РФ, Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
            '\n' +
            '3.  **Повторный инструктаж**: Проводится не реже одного раза в шесть месяцев для всех работников, независимо от квалификации, стажа и характера выполняемой работы.\n' +
            '\n' +
            '    *   **Нормативная база**: Статья 225 Трудового кодекса РФ, Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
            '\n' +
            '4.  **Внеплановый инструктаж**: Проводится при изменении технологического процесса, замене или модернизации оборудования, изменении нормативных актов по охране труда.\n' +
            '\n' +
            '    *   **Нормативная база**: Статья 225 Трудового кодекса РФ, Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
            '\n' +
            '5.  **Целевой инструктаж**: Проводится при выполнении разовых работ, не связанных с прямыми обязанностями по специальности, ликвидации аварий, стихийных бедствий и других чрезвычайных ситуаций.\n' +
            '\n' +
            '    *   **Нормативная база**: Статья 225 Трудового кодекса РФ, Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
            '\n' +
            'Эти виды инструктажа помогают обеспечить безопасность труда и соблюдение норм охраны труда на предприятии.\n'
        }
      ],
      metadata: {},
      id: 'a2e34603-94fe-46b2-9749-43fb5b407724'
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-09T17:27:07.118Z'
}
{
  message: 'Starting RAG retrieval process',
  level: 'info',
  timestamp: '2025-02-09T17:27:07.129Z'
}
{
  hasMessage: true,
  queryLength: 108,
  queryType: 'string',
  level: 'debug',
  message: 'Extracted query from last human message',
  timestamp: '2025-02-09T17:27:07.129Z'
}
{
  query: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-09T17:27:07.130Z'
}
{
  message: 'Initializing new vector store connection',
  level: 'debug',
  timestamp: '2025-02-09T17:27:07.131Z'
}
{
  error: 'Collection not found',
  level: 'debug',
  message: 'Creating new collection',
  timestamp: '2025-02-09T17:27:07.132Z'
}
{
  error: 'Failed to connect to ChromaDB collection',
  stack: 'Error: Failed to connect to ChromaDB collection\n' +
    '    at initializeVectorStore (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\rag\\vector_store.ts:66:15)\n' +
    '    at async performVectorSearch (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\rag\\vector_store.ts:140:19)\n' +
    '    at async retryWithBackoff (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\agent\\open-canvas\\nodes\\ragRetrieval.ts:22:14)\n' +
    '    at async RunnableCallable.ragRetrievalNode (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\agent\\open-canvas\\nodes\\ragRetrieval.ts:139:30)\n' +
    '    at async RunnableCallable.invoke (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\langgraph\\dist\\utils.cjs:82:27)\n' +
    '    at async RunnableSequence.invoke (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\core\\dist\\runnables\\base.cjs:1162:33)\n' +
    '    at async _runWithRetry (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\langgraph\\dist\\pregel\\retry.cjs:99:22)\n' +
    '    at async executeTasksWithRetry (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\langgraph\\dist\\pregel\\retry.cjs:72:29)\n' +
    '    at async CompiledStateGraph._streamIterator (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\langgraph\\dist\\pregel\\index.cjs:764:48)\n' +
    '    at async Object.pull (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\core\\dist\\utils\\stream.cjs:103:41)',
  level: 'error',
  message: 'Failed to initialize vector store',
  timestamp: '2025-02-09T17:27:07.135Z'
}
{
  error: 'Failed to connect to ChromaDB collection',
  query: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
  stack: 'Error: Failed to connect to ChromaDB collection\n' +
    '    at initializeVectorStore (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\rag\\vector_store.ts:66:15)\n' +
    '    at async performVectorSearch (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\rag\\vector_store.ts:140:19)\n' +
    '    at async retryWithBackoff (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\agent\\open-canvas\\nodes\\ragRetrieval.ts:22:14)\n' +
    '    at async RunnableCallable.ragRetrievalNode (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\agent\\open-canvas\\nodes\\ragRetrieval.ts:139:30)\n' +
    '    at async RunnableCallable.invoke (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\langgraph\\dist\\utils.cjs:82:27)\n' +
    '    at async RunnableSequence.invoke (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\core\\dist\\runnables\\base.cjs:1162:33)\n' +
    '    at async _runWithRetry (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\langgraph\\dist\\pregel\\retry.cjs:99:22)\n' +
    '    at async executeTasksWithRetry (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\langgraph\\dist\\pregel\\retry.cjs:72:29)\n' +
    '    at async CompiledStateGraph._streamIterator (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\langgraph\\dist\\pregel\\index.cjs:764:48)\n' +
    '    at async Object.pull (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\core\\dist\\utils\\stream.cjs:103:41)',
  level: 'error',
  message: 'Vector search failed',
  timestamp: '2025-02-09T17:27:07.137Z'
}
{
  error: 'Failed to connect to ChromaDB collection',
  nextDelayMs: 1000,
  level: 'warn',
  message: 'Operation failed, attempt 1 of 3',
  timestamp: '2025-02-09T17:27:07.138Z'
}
{
  error: 'Failed to access ChromaDB collection',
  query: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
  stack: 'Error: Failed to access ChromaDB collection\n' +
    '    at performVectorSearch (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\rag\\vector_store.ts:146:13)\n' +
    '    at async retryWithBackoff (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\agent\\open-canvas\\nodes\\ragRetrieval.ts:22:14)\n' +
    '    at async RunnableCallable.ragRetrievalNode (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\agent\\open-canvas\\nodes\\ragRetrieval.ts:139:30)\n' +
    '    at async RunnableCallable.invoke (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\langgraph\\dist\\utils.cjs:82:27)\n' +
    '    at async RunnableSequence.invoke (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\core\\dist\\runnables\\base.cjs:1162:33)\n' +
    '    at async _runWithRetry (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\langgraph\\dist\\pregel\\retry.cjs:99:22)\n' +
    '    at async executeTasksWithRetry (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\langgraph\\dist\\pregel\\retry.cjs:72:29)\n' +
    '    at async CompiledStateGraph._streamIterator (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\langgraph\\dist\\pregel\\index.cjs:764:48)\n' +
    '    at async Object.pull (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\core\\dist\\utils\\stream.cjs:103:41)',
  level: 'error',
  message: 'Vector search failed',
  timestamp: '2025-02-09T17:27:08.140Z'
}
{
  error: 'Failed to access ChromaDB collection',
  nextDelayMs: 2000,
  level: 'warn',
  message: 'Operation failed, attempt 2 of 3',
  timestamp: '2025-02-09T17:27:08.141Z'
}
{
  error: 'Failed to access ChromaDB collection',
  query: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
  stack: 'Error: Failed to access ChromaDB collection\n' +
    '    at performVectorSearch (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\rag\\vector_store.ts:146:13)\n' +
    '    at runNextTicks (node:internal/process/task_queues:65:5)\n' +
    '    at process.processTimers (node:internal/timers:526:9)\n' +
    '    at async retryWithBackoff (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\agent\\open-canvas\\nodes\\ragRetrieval.ts:22:14)\n' +
    '    at async RunnableCallable.ragRetrievalNode (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\agent\\open-canvas\\nodes\\ragRetrieval.ts:139:30)\n' +
    '    at async RunnableCallable.invoke (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\langgraph\\dist\\utils.cjs:82:27)\n' +
    '    at async RunnableSequence.invoke (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\core\\dist\\runnables\\base.cjs:1162:33)\n' +
    '    at async _runWithRetry (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\langgraph\\dist\\pregel\\retry.cjs:99:22)\n' +
    '    at async executeTasksWithRetry (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\langgraph\\dist\\pregel\\retry.cjs:72:29)\n' +
    '    at async CompiledStateGraph._streamIterator (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\langgraph\\dist\\pregel\\index.cjs:764:48)',
  level: 'error',
  message: 'Vector search failed',
  timestamp: '2025-02-09T17:27:10.184Z'
}
{
  error: 'Failed to access ChromaDB collection',
  nextDelayMs: 4000,
  level: 'warn',
  message: 'Operation failed, attempt 3 of 3',
  timestamp: '2025-02-09T17:27:10.185Z'
}
{
  error: 'Failed to access ChromaDB collection',
  query: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
  stack: 'Error: Failed to access ChromaDB collection\n' +
    '    at performVectorSearch (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\rag\\vector_store.ts:146:13)\n' +
    '    at runNextTicks (node:internal/process/task_queues:65:5)\n' +
    '    at process.processTimers (node:internal/timers:526:9)\n' +
    '    at async retryWithBackoff (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\agent\\open-canvas\\nodes\\ragRetrieval.ts:22:14)\n' +
    '    at async RunnableCallable.ragRetrievalNode (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\agent\\open-canvas\\nodes\\ragRetrieval.ts:139:30)\n' +
    '    at async RunnableCallable.invoke (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\langgraph\\dist\\utils.cjs:82:27)\n' +
    '    at async RunnableSequence.invoke (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\core\\dist\\runnables\\base.cjs:1162:33)\n' +
    '    at async _runWithRetry (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\langgraph\\dist\\pregel\\retry.cjs:99:22)\n' +
    '    at async executeTasksWithRetry (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\langgraph\\dist\\pregel\\retry.cjs:72:29)\n' +
    '    at async CompiledStateGraph._streamIterator (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\node_modules\\@langchain\\langgraph\\dist\\pregel\\index.cjs:764:48)',
  level: 'error',
  message: 'Error during RAG retrieval',
  timestamp: '2025-02-09T17:27:10.185Z'
}
{
  message: 'Starting artifact rewrite process',
  level: 'info',
  timestamp: '2025-02-09T17:27:10.196Z'
}
{
  message: 'Model initialized with temperature 0.5',
  level: 'debug',
  timestamp: '2025-02-09T17:27:10.197Z'
}
{
  message: 'Model bound with artifact generation tool',
  level: 'debug',
  timestamp: '2025-02-09T17:27:10.198Z'
}
{
  hasMessage: true,
  content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
  level: 'debug',
  message: 'Retrieved last human message',
  timestamp: '2025-02-09T17:27:10.198Z'
}
{
  lastHumanMessage: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
  retrievedContext: 'Нет дополнительного контекста.',
  artifactFullMarkdown: 'При приеме на работу в Российской Федерации работодатель обязан провести несколько видов инструктажа для обеспечения безопасности труда и соблюдения трудового законодательства. Основные виды инструктажа включают:\n' +
    '\n' +
    '1.  **Вводный инструктаж**: Проводится со всеми вновь принимаемыми на работу, а также с командированными, временными работниками, учащимися, проходящими производственную практику, и другими лицами, участвующими в производственной деятельности.\n' +
    '\n' +
    '    *   **Нормативная база**: Статья 225 Трудового кодекса РФ, Постановление Минтруда России от 13.01.2003 № 1/29 "Об утверждении Порядка обучения по охране труда и проверки знаний требований охраны труда работников организаций".\n' +
    '\n' +
    '2.  **Первичный инструктаж на рабочем месте**: Проводится до начала самостоятельной работы со всеми работниками, вновь принятыми на работу, переведенными из одного подразделения в другое, а также с командированными, временными работниками.\n' +
    '\n' +
    '    *   **Нормативная база**: Статья 225 Трудового кодекса РФ, Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
    '\n' +
    '3.  **Повторный инструктаж**: Проводится не реже одного раза в шесть месяцев для всех работников, независимо от квалификации, стажа и характера выполняемой работы.\n' +
    '\n' +
    '    *   **Нормативная база**: Статья 225 Трудового кодекса РФ, Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
    '\n' +
    '4.  **Внеплановый инструктаж**: Проводится при изменении технологического процесса, замене или модернизации оборудования, изменении нормативных актов по охране труда.\n' +
    '\n' +
    '    *   **Нормативная база**: Статья 225 Трудового кодекса РФ, Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
    '\n' +
    '5.  **Целевой инструктаж**: Проводится при выполнении разовых работ, не связанных с прямыми обязанностями по специальности, ликвидации аварий, стихийных бедствий и других чрезвычайных ситуаций.\n' +
    '\n' +
    '    *   **Нормативная база**: Статья 225 Трудового кодекса РФ, Постановление Минтруда России от 13.01.2003 № 1/29.\n' +
    '\n' +
    'Эти виды инструктажа помогают обеспечить безопасность труда и соблюдение норм охраны труда на предприятии.\n',
  level: 'debug',
  message: 'Components for system prompt',
  timestamp: '2025-02-09T17:27:10.198Z'
}
{
  promptLength: 2437,
  hasContext: false,
  hasOriginalDocument: true,
  level: 'debug',
  message: 'Final system prompt assembled',
  timestamp: '2025-02-09T17:27:10.200Z'
}
{
  message: 'Invoking model for artifact rewrite',
  level: 'info',
  timestamp: '2025-02-09T17:27:10.201Z'
}
{
  hasToolCalls: true,
  toolCallsCount: 1,
  level: 'debug',
  message: 'Model response received',
  timestamp: '2025-02-09T17:27:18.258Z'
}
{
  title: 'Заключение по видам инструктажа',
  contentLength: 2005,
  level: 'debug',
  message: 'Created new artifact content',
  timestamp: '2025-02-09T17:27:18.258Z'
}
{
  id: 'a2e34603-94fe-46b2-9749-43fb5b407724',
  contentsLength: 1,
  currentIndex: 1,
  level: 'debug',
  message: 'Updated artifact object',
  timestamp: '2025-02-09T17:27:18.259Z'
}
{
  message: 'Successfully completed artifact rewrite',
  level: 'info',
  timestamp: '2025-02-09T17:27:18.259Z'
}
{
  message: 'Cleaning state, resetting to default inputs',
  level: 'debug',
  timestamp: '2025-02-09T17:27:19.275Z'
}
{
  message: 'Checking if title generation is needed. Message count: 3',
  level: 'info',
  timestamp: '2025-02-09T17:27:19.279Z'
}
{
  message: 'Skipping title generation - conversation already has more than 2 messages',
  level: 'debug',
  timestamp: '2025-02-09T17:27:19.279Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  cwd: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas',
  level: 'info',
  message: 'Starting document loading process',
  timestamp: '2025-02-09T17:29:51.005Z'
}
{
  message: 'Initializing new vector store connection',
  level: 'debug',
  timestamp: '2025-02-09T17:29:51.010Z'
}
{
  error: 'Collection not found',
  level: 'debug',
  message: 'Creating new collection',
  timestamp: '2025-02-09T17:29:51.011Z'
}
{
  error: 'Failed to create ChromaDB collection',
  stack: 'Error: Failed to create ChromaDB collection\n' +
    '    at initializeVectorStore (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\rag\\vector_store.ts:59:17)\n' +
    '    at async getVectorStoreStatus (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\rag\\vector_store.ts:186:19)\n' +
    '    at async main (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\scripts\\load-documents.ts:42:27)',
  level: 'error',
  message: 'Failed to initialize vector store',
  timestamp: '2025-02-09T17:29:51.015Z'
}
{
  error: 'Failed to create ChromaDB collection',
  level: 'error',
  message: 'Failed to get vector store status',
  timestamp: '2025-02-09T17:29:51.016Z'
}
{
  isInitialized: false,
  documentCount: 0,
  level: 'info',
  message: 'Initial vector store status',
  timestamp: '2025-02-09T17:29:51.017Z'
}
{
  message: 'Clearing existing documents from vector store',
  level: 'info',
  timestamp: '2025-02-09T17:29:51.018Z'
}
{
  error: '\n' +
    '                You must provide either ids, where, or where_document to delete. If\n' +
    '                you want to delete all data in a collection you can delete the\n' +
    '                collection itself using the delete_collection method. Or alternatively,\n' +
    '                you can get() all the relevant ids and then delete them.\n' +
    '                ',
  level: 'warn',
  message: 'Failed to clear vector store',
  timestamp: '2025-02-09T17:29:51.199Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 1,
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-09T17:29:51.200Z'
}
{
  message: 'Initializing new vector store connection',
  level: 'debug',
  timestamp: '2025-02-09T17:29:51.201Z'
}
{
  error: 'Collection not found',
  level: 'debug',
  message: 'Creating new collection',
  timestamp: '2025-02-09T17:29:51.201Z'
}
{
  error: 'Failed to create ChromaDB collection',
  stack: 'Error: Failed to create ChromaDB collection\n' +
    '    at initializeVectorStore (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\rag\\vector_store.ts:59:17)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async loadDocumentsIntoVectorStore (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\rag\\initialize.ts:32:5)\n' +
    '    at async main (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\scripts\\load-documents.ts:49:5)',
  level: 'error',
  message: 'Failed to initialize vector store',
  timestamp: '2025-02-09T17:29:51.203Z'
}
{
  error: 'Failed to create ChromaDB collection',
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 1,
  level: 'error',
  message: 'Error loading documents',
  timestamp: '2025-02-09T17:29:51.204Z'
}
{
  attempt: 1,
  level: 'info',
  message: 'Retrying document loading',
  timestamp: '2025-02-09T17:29:51.204Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 2,
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-09T17:29:52.213Z'
}
{
  message: 'Initializing new vector store connection',
  level: 'debug',
  timestamp: '2025-02-09T17:29:52.214Z'
}
{
  error: 'Collection not found',
  level: 'debug',
  message: 'Creating new collection',
  timestamp: '2025-02-09T17:29:52.214Z'
}
{
  error: 'Failed to create ChromaDB collection',
  stack: 'Error: Failed to create ChromaDB collection\n' +
    '    at initializeVectorStore (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\rag\\vector_store.ts:59:17)\n' +
    '    at async loadDocumentsIntoVectorStore (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\rag\\initialize.ts:32:5)\n' +
    '    at async loadDocumentsIntoVectorStore (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\rag\\initialize.ts:134:7)\n' +
    '    at async main (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\scripts\\load-documents.ts:49:5)',
  level: 'error',
  message: 'Failed to initialize vector store',
  timestamp: '2025-02-09T17:29:52.215Z'
}
{
  error: 'Failed to create ChromaDB collection',
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 2,
  level: 'error',
  message: 'Error loading documents',
  timestamp: '2025-02-09T17:29:52.216Z'
}
{
  attempt: 2,
  level: 'info',
  message: 'Retrying document loading',
  timestamp: '2025-02-09T17:29:52.216Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 3,
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-09T17:29:53.224Z'
}
{
  message: 'Initializing new vector store connection',
  level: 'debug',
  timestamp: '2025-02-09T17:29:53.225Z'
}
{
  error: 'Collection not found',
  level: 'debug',
  message: 'Creating new collection',
  timestamp: '2025-02-09T17:29:53.225Z'
}
{
  error: 'Failed to create ChromaDB collection',
  stack: 'Error: Failed to create ChromaDB collection\n' +
    '    at initializeVectorStore (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\rag\\vector_store.ts:59:17)\n' +
    '    at async loadDocumentsIntoVectorStore (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\rag\\initialize.ts:32:5)\n' +
    '    at async loadDocumentsIntoVectorStore (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\rag\\initialize.ts:134:7)\n' +
    '    at async loadDocumentsIntoVectorStore (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\rag\\initialize.ts:134:7)\n' +
    '    at async main (C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\src\\scripts\\load-documents.ts:49:5)',
  level: 'error',
  message: 'Failed to initialize vector store',
  timestamp: '2025-02-09T17:29:53.226Z'
}
{
  error: 'Failed to create ChromaDB collection',
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 3,
  level: 'error',
  message: 'Error loading documents',
  timestamp: '2025-02-09T17:29:53.227Z'
}
{
  attempt: 3,
  level: 'info',
  message: 'Retrying document loading',
  timestamp: '2025-02-09T17:29:53.228Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  attempt: 4,
  level: 'info',
  message: 'Starting documents loading process',
  timestamp: '2025-02-09T17:29:54.230Z'
}
{
  documentsDir: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas\\documents',
  cwd: 'C:\\Users\\tebri\\OneDrive\\Documents\\ts\\open-canvas',
  level: 'info',
  message: 'Starting document loading process',
  timestamp: '2025-02-09T17:35:45.466Z'
}
{
  message: 'Initializing new vector store connection',
  level: 'debug',
  timestamp: '2025-02-09T17:35:45.469Z'
}
{
  error: 'Collection not found',
  level: 'debug',
  message: 'Collection not found via API, will create new one',
  timestamp: '2025-02-09T17:35:45.517Z'
}
{
  error: 'Error: You must provide one of "ids or "filter".',
  level: 'error',
  message: 'Failed to load documents',
  timestamp: '2025-02-09T18:11:49.195Z'
}
{
  message: 'No collection found to clear',
  level: 'warn',
  timestamp: '2025-02-09T18:15:08.694Z'
}
{
  count: 54,
  level: 'debug',
  message: 'Documents added to vector store',
  timestamp: '2025-02-09T18:15:10.245Z'
}
{
  totalFiles: 4,
  validDocuments: 4,
  skippedFiles: 0,
  level: 'info',
  message: 'Document loading completed',
  timestamp: '2025-02-09T18:15:10.245Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-09T18:22:41.119Z'
}
{
  hasCurrentArtifact: false,
  messageCount: 1,
  level: 'debug',
  message: 'Preparing LLM prompt for routing',
  timestamp: '2025-02-09T18:22:41.122Z'
}
{
  message: 'Initializing model for routing decision',
  level: 'debug',
  timestamp: '2025-02-09T18:22:41.122Z'
}
{
  message: 'Invoking model for routing decision',
  level: 'debug',
  timestamp: '2025-02-09T18:22:41.124Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-09T18:22:46.050Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
          additional_kwargs: {},
          response_metadata: {},
          id: '5bb62eb8-f482-42a3-b892-c0ae0683adeb'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: '5bb62eb8-f482-42a3-b892-c0ae0683adeb'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-09T18:22:46.055Z'
}
{
  message: 'Starting artifact generation process',
  level: 'info',
  timestamp: '2025-02-09T18:22:46.063Z'
}
{
  modelName: 'gpt-4o-mini',
  modelProvider: 'openai',
  level: 'debug',
  message: 'Model configuration',
  timestamp: '2025-02-09T18:22:46.064Z'
}
{
  message: 'Model initialized with temperature 0.5',
  level: 'debug',
  timestamp: '2025-02-09T18:22:46.065Z'
}
{
  message: 'Model bound with artifact generation tool',
  level: 'debug',
  timestamp: '2025-02-09T18:22:46.066Z'
}
{
  memoriesLength: 278,
  level: 'debug',
  message: 'Retrieved formatted reflections',
  timestamp: '2025-02-09T18:22:46.067Z'
}
{
  promptLength: 1069,
  level: 'debug',
  message: 'Formatted new artifact prompt',
  timestamp: '2025-02-09T18:22:46.068Z'
}
{
  hasUserSystemPrompt: false,
  fullPromptLength: 1069,
  level: 'debug',
  message: 'Assembled full system prompt',
  timestamp: '2025-02-09T18:22:46.068Z'
}
{
  message: 'Invoking model for artifact generation',
  level: 'info',
  timestamp: '2025-02-09T18:22:46.069Z'
}
{
  hasToolCalls: true,
  toolCallsCount: 1,
  level: 'debug',
  message: 'Received model response',
  timestamp: '2025-02-09T18:22:51.995Z'
}
{
  title: 'Заключение по инструктажам',
  type: 'text',
  contentLength: 1735,
  content: '## Заключение по видам инструктажа при приеме на работу\n' +
    '\n' +
    'При приеме на работу работодатель обязан провести инструктажи, которые являются важной частью обеспечения безопасности труда и ознакомления сотрудников с внутренними правилами компании. В соответствии с действующим законодательством, к основным видам инструктажей относятся:\n' +
    '\n' +
    '1. **Вводный инструктаж** — проводится для всех новых работников, независимо от их квалификации и стажа. Он включает ознакомление с общими правилами охраны труда, пожарной безопасности и внутренними нормативами организации. Основание: **Трудовой кодекс Российской Федерации** (ст. 212), **Постановление Минтруда России от 24.12.2020 № 1000н**.\n' +
    '\n' +
    '2. **Первичный инструктаж на рабочем месте** — проводится непосредственно на рабочем месте новым работникам с целью ознакомления с конкретными условиями труда, правилами и методами безопасного выполнения работы. Основание: **Правила проведения инструктажей по охране труда**, утвержденные **Приказом Минтруда России от 17.12.2010 № 1**.\n' +
    '\n' +
    '3. **Повторный инструктаж** — осуществляется периодически (не реже одного раза в 6 месяцев) для работников, которые продолжают выполнять свои обязанности. Он направлен на обновление знаний по охране труда и безопасности. Основание: **Приказ Минтруда России от 17.12.2010 № 1**.\n' +
    '\n' +
    '4. **Внеплановый инструктаж** — проводится при изменении условий труда, появления новых факторов, способных повлиять на безопасность, или после несчастных случаев на производстве. Основание: **Постановление Минтруда России от 24.12.2020 № 1000н**.\n' +
    '\n' +
    'Таким образом, соблюдение всех видов инструктажей является обязательным для обеспечения безопасных условий труда и защиты прав работников, что подтверждается действующими нормативными актами.',
  level: 'debug',
  message: 'Created new artifact content',
  timestamp: '2025-02-09T18:22:51.996Z'
}
{
  id: '85d51b13-5fc5-4686-af42-18aa9d29888e',
  currentIndex: 1,
  contentsLength: 1,
  content: '## Заключение по видам инструктажа при приеме на работу\n' +
    '\n' +
    'При приеме на работу работодатель обязан провести инструктажи, которые являются важной частью обеспечения безопасности труда и ознакомления сотрудников с внутренними правилами компании. В соответствии с действующим законодательством, к основным видам инструктажей относятся:\n' +
    '\n' +
    '1. **Вводный инструктаж** — проводится для всех новых работников, независимо от их квалификации и стажа. Он включает ознакомление с общими правилами охраны труда, пожарной безопасности и внутренними нормативами организации. Основание: **Трудовой кодекс Российской Федерации** (ст. 212), **Постановление Минтруда России от 24.12.2020 № 1000н**.\n' +
    '\n' +
    '2. **Первичный инструктаж на рабочем месте** — проводится непосредственно на рабочем месте новым работникам с целью ознакомления с конкретными условиями труда, правилами и методами безопасного выполнения работы. Основание: **Правила проведения инструктажей по охране труда**, утвержденные **Приказом Минтруда России от 17.12.2010 № 1**.\n' +
    '\n' +
    '3. **Повторный инструктаж** — осуществляется периодически (не реже одного раза в 6 месяцев) для работников, которые продолжают выполнять свои обязанности. Он направлен на обновление знаний по охране труда и безопасности. Основание: **Приказ Минтруда России от 17.12.2010 № 1**.\n' +
    '\n' +
    '4. **Внеплановый инструктаж** — проводится при изменении условий труда, появления новых факторов, способных повлиять на безопасность, или после несчастных случаев на производстве. Основание: **Постановление Минтруда России от 24.12.2020 № 1000н**.\n' +
    '\n' +
    'Таким образом, соблюдение всех видов инструктажей является обязательным для обеспечения безопасных условий труда и защиты прав работников, что подтверждается действующими нормативными актами.',
  level: 'debug',
  message: 'Created new artifact object',
  timestamp: '2025-02-09T18:22:51.998Z'
}
{
  message: 'Successfully generated new artifact',
  level: 'info',
  timestamp: '2025-02-09T18:22:51.999Z'
}
{
  message: 'Cleaning state, resetting to default inputs',
  level: 'debug',
  timestamp: '2025-02-09T18:22:53.528Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-09T18:22:53.532Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-09T18:22:53.533Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-09T18:23:21.239Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-09T18:23:21.239Z'
}
{
  currentState: {
    messages: [],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Заключение по инструктажам',
          fullMarkdown: '## Заключение по видам инструктажа при приеме на работу\n' +
            '\n' +
            'При приеме на работу работодатель обязан провести инструктажи, которые являются важной частью обеспечения безопасности труда и ознакомления сотрудников с внутренними правилами компании. В соответствии с действующим законодательством, к основным видам инструктажей относятся:\n' +
            '\n' +
            '1.  **Вводный инструктаж** — проводится для всех новых работников, независимо от их квалификации и стажа. Он включает ознакомление с общими правилами охраны труда, пожарной безопасности и внутренними нормативами организации. Основание: **Трудовой кодекс Российской Федерации** (ст. 212), **Постановление Минтруда России от 24.12.2020 № 1000н**.\n' +
            '2.  **Первичный инструктаж на рабочем месте** — проводится непосредственно на рабочем месте новым работникам с целью ознакомления с конкретными условиями труда, правилами и методами безопасного выполнения работы. Основание: **Правила проведения инструктажей по охране труда**, утвержденные **Приказом Минтруда России от 17.12.2010 № 1**.\n' +
            '3.  **Повторный инструктаж** — осуществляется периодически (не реже одного раза в 6 месяцев) для работников, которые продолжают выполнять свои обязанности. Он направлен на обновление знаний по охране труда и безопасности. Основание: **Приказ Минтруда России от 17.12.2010 № 1**.\n' +
            '4.  **Внеплановый инструктаж** — проводится при изменении условий труда, появления новых факторов, способных повлиять на безопасность, или после несчастных случаев на производстве. Основание: **Постановление Минтруда России от 24.12.2020 № 1000н**.\n' +
            '\n' +
            'Таким образом, соблюдение всех видов инструктажей является обязательным для обеспечения безопасных условий труда и защиты прав работников, что подтверждается действующими нормативными актами.\n'
        }
      ],
      metadata: {},
      id: '85d51b13-5fc5-4686-af42-18aa9d29888e'
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-09T18:23:21.244Z'
}
{
  message: 'Starting RAG retrieval process',
  level: 'info',
  timestamp: '2025-02-09T18:23:21.251Z'
}
{
  hasMessage: false,
  queryLength: 0,
  level: 'debug',
  message: 'Extracted query from last human message',
  timestamp: '2025-02-09T18:23:21.251Z'
}
{
  queryLength: 0,
  minRequired: 3,
  level: 'info',
  message: 'Query too short or empty, skipping retrieval',
  timestamp: '2025-02-09T18:23:21.252Z'
}
{
  message: 'Starting artifact rewrite process',
  level: 'info',
  timestamp: '2025-02-09T18:23:21.259Z'
}
{
  message: 'Model initialized with temperature 0.5',
  level: 'debug',
  timestamp: '2025-02-09T18:23:21.260Z'
}
{
  message: 'Model bound with artifact generation tool',
  level: 'debug',
  timestamp: '2025-02-09T18:23:21.260Z'
}
{
  hasMessage: false,
  content: 'No message found',
  level: 'debug',
  message: 'Retrieved last human message',
  timestamp: '2025-02-09T18:23:21.260Z'
}
{
  lastHumanMessage: 'Нет запроса.',
  retrievedContext: 'Нет дополнительного контекста.',
  artifactFullMarkdown: '## Заключение по видам инструктажа при приеме на работу\n' +
    '\n' +
    'При приеме на работу работодатель обязан провести инструктажи, которые являются важной частью обеспечения безопасности труда и ознакомления сотрудников с внутренними правилами компании. В соответствии с действующим законодательством, к основным видам инструктажей относятся:\n' +
    '\n' +
    '1.  **Вводный инструктаж** — проводится для всех новых работников, независимо от их квалификации и стажа. Он включает ознакомление с общими правилами охраны труда, пожарной безопасности и внутренними нормативами организации. Основание: **Трудовой кодекс Российской Федерации** (ст. 212), **Постановление Минтруда России от 24.12.2020 № 1000н**.\n' +
    '2.  **Первичный инструктаж на рабочем месте** — проводится непосредственно на рабочем месте новым работникам с целью ознакомления с конкретными условиями труда, правилами и методами безопасного выполнения работы. Основание: **Правила проведения инструктажей по охране труда**, утвержденные **Приказом Минтруда России от 17.12.2010 № 1**.\n' +
    '3.  **Повторный инструктаж** — осуществляется периодически (не реже одного раза в 6 месяцев) для работников, которые продолжают выполнять свои обязанности. Он направлен на обновление знаний по охране труда и безопасности. Основание: **Приказ Минтруда России от 17.12.2010 № 1**.\n' +
    '4.  **Внеплановый инструктаж** — проводится при изменении условий труда, появления новых факторов, способных повлиять на безопасность, или после несчастных случаев на производстве. Основание: **Постановление Минтруда России от 24.12.2020 № 1000н**.\n' +
    '\n' +
    'Таким образом, соблюдение всех видов инструктажей является обязательным для обеспечения безопасных условий труда и защиты прав работников, что подтверждается действующими нормативными актами.\n',
  level: 'debug',
  message: 'Components for system prompt',
  timestamp: '2025-02-09T18:23:21.261Z'
}
{
  promptLength: 2048,
  hasContext: false,
  hasOriginalDocument: true,
  level: 'debug',
  message: 'Final system prompt assembled',
  timestamp: '2025-02-09T18:23:21.263Z'
}
{
  message: 'Invoking model for artifact rewrite',
  level: 'info',
  timestamp: '2025-02-09T18:23:21.263Z'
}
{
  hasToolCalls: true,
  toolCallsCount: 1,
  level: 'debug',
  message: 'Model response received',
  timestamp: '2025-02-09T18:23:30.357Z'
}
{
  title: 'Виды инструктажей при приеме на работу',
  contentLength: 1800,
  level: 'debug',
  message: 'Created new artifact content',
  timestamp: '2025-02-09T18:23:30.358Z'
}
{
  id: '85d51b13-5fc5-4686-af42-18aa9d29888e',
  contentsLength: 1,
  currentIndex: 1,
  level: 'debug',
  message: 'Updated artifact object',
  timestamp: '2025-02-09T18:23:30.358Z'
}
{
  message: 'Successfully completed artifact rewrite',
  level: 'info',
  timestamp: '2025-02-09T18:23:30.359Z'
}
{
  message: 'Cleaning state, resetting to default inputs',
  level: 'debug',
  timestamp: '2025-02-09T18:23:31.615Z'
}
{
  message: 'Checking if title generation is needed. Message count: 1',
  level: 'info',
  timestamp: '2025-02-09T18:23:31.620Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-09T18:23:31.620Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-09T18:29:23.817Z'
}
{
  hasCurrentArtifact: false,
  messageCount: 1,
  level: 'debug',
  message: 'Preparing LLM prompt for routing',
  timestamp: '2025-02-09T18:29:23.820Z'
}
{
  message: 'Initializing model for routing decision',
  level: 'debug',
  timestamp: '2025-02-09T18:29:23.821Z'
}
{
  message: 'Invoking model for routing decision',
  level: 'debug',
  timestamp: '2025-02-09T18:29:23.823Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-09T18:29:25.807Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
          additional_kwargs: {},
          response_metadata: {},
          id: '0d7df309-f57a-4288-bdf9-f5f127f4b925'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: '0d7df309-f57a-4288-bdf9-f5f127f4b925'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-09T18:29:25.813Z'
}
{
  message: 'Starting artifact generation process',
  level: 'info',
  timestamp: '2025-02-09T18:29:25.823Z'
}
{
  modelName: 'gpt-4o-mini',
  modelProvider: 'openai',
  level: 'debug',
  message: 'Model configuration',
  timestamp: '2025-02-09T18:29:25.824Z'
}
{
  message: 'Model initialized with temperature 0.5',
  level: 'debug',
  timestamp: '2025-02-09T18:29:25.825Z'
}
{
  message: 'Model bound with artifact generation tool',
  level: 'debug',
  timestamp: '2025-02-09T18:29:25.826Z'
}
{
  memoriesLength: 278,
  level: 'debug',
  message: 'Retrieved formatted reflections',
  timestamp: '2025-02-09T18:29:25.827Z'
}
{
  promptLength: 1069,
  level: 'debug',
  message: 'Formatted new artifact prompt',
  timestamp: '2025-02-09T18:29:25.827Z'
}
{
  hasUserSystemPrompt: false,
  fullPromptLength: 1069,
  level: 'debug',
  message: 'Assembled full system prompt',
  timestamp: '2025-02-09T18:29:25.827Z'
}
{
  message: 'Invoking model for artifact generation',
  level: 'info',
  timestamp: '2025-02-09T18:29:25.828Z'
}
{
  hasToolCalls: true,
  toolCallsCount: 1,
  level: 'debug',
  message: 'Received model response',
  timestamp: '2025-02-09T18:29:30.443Z'
}
{
  title: 'Заключение по инструктажам',
  type: 'text',
  contentLength: 1180,
  content: '**Заключение по видам инструктажа при приеме на работу**  \n' +
    '  \n' +
    'При приеме на работу работодатель обязан провести инструктажи, которые обеспечивают безопасность и охрану труда. В соответствии с законодательством Российской Федерации, основными видами инструктажа являются:  \n' +
    '  \n' +
    '1. **Вводный инструктаж** – проводится для всех вновь принятых работников. Согласно статье 225 Трудового кодекса РФ, вводный инструктаж должен быть проведен перед началом работы.  \n' +
    '  \n' +
    '2. **Первичный инструктаж на рабочем месте** – проводится непосредственно на рабочем месте. Он регламентируется пунктом 1.2. Правил проведения инструктажей по охране труда, утвержденных Постановлением Минтруда России от 24.10.2002 № 73.  \n' +
    '  \n' +
    '3. **Повторный инструктаж** – осуществляется периодически, не реже одного раза в шесть месяцев, согласно пункту 4.1. указанных Правил.  \n' +
    '  \n' +
    '4. **Внеплановый инструктаж** – проводится в случае изменения условий труда или при возникновении аварийных ситуаций. Это предусмотрено пунктом 3.1. Правил.  \n' +
    '  \n' +
    'Таким образом, работодатели должны строго следовать установленным нормам и правилам, чтобы обеспечить безопасность работников и предотвратить несчастные случаи на производстве.',
  level: 'debug',
  message: 'Created new artifact content',
  timestamp: '2025-02-09T18:29:30.444Z'
}
{
  id: 'c8ce754b-dbc5-486d-90e3-9f7f77d95bcc',
  currentIndex: 1,
  contentsLength: 1,
  content: '**Заключение по видам инструктажа при приеме на работу**  \n' +
    '  \n' +
    'При приеме на работу работодатель обязан провести инструктажи, которые обеспечивают безопасность и охрану труда. В соответствии с законодательством Российской Федерации, основными видами инструктажа являются:  \n' +
    '  \n' +
    '1. **Вводный инструктаж** – проводится для всех вновь принятых работников. Согласно статье 225 Трудового кодекса РФ, вводный инструктаж должен быть проведен перед началом работы.  \n' +
    '  \n' +
    '2. **Первичный инструктаж на рабочем месте** – проводится непосредственно на рабочем месте. Он регламентируется пунктом 1.2. Правил проведения инструктажей по охране труда, утвержденных Постановлением Минтруда России от 24.10.2002 № 73.  \n' +
    '  \n' +
    '3. **Повторный инструктаж** – осуществляется периодически, не реже одного раза в шесть месяцев, согласно пункту 4.1. указанных Правил.  \n' +
    '  \n' +
    '4. **Внеплановый инструктаж** – проводится в случае изменения условий труда или при возникновении аварийных ситуаций. Это предусмотрено пунктом 3.1. Правил.  \n' +
    '  \n' +
    'Таким образом, работодатели должны строго следовать установленным нормам и правилам, чтобы обеспечить безопасность работников и предотвратить несчастные случаи на производстве.',
  level: 'debug',
  message: 'Created new artifact object',
  timestamp: '2025-02-09T18:29:30.446Z'
}
{
  message: 'Successfully generated new artifact',
  level: 'info',
  timestamp: '2025-02-09T18:29:30.447Z'
}
{
  message: 'Cleaning state, resetting to default inputs',
  level: 'debug',
  timestamp: '2025-02-09T18:29:32.631Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-09T18:29:32.638Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-09T18:29:32.639Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-09T18:30:17.986Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-09T18:30:17.987Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
          additional_kwargs: {},
          response_metadata: {},
          id: '0d7df309-f57a-4288-bdf9-f5f127f4b925'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: '0d7df309-f57a-4288-bdf9-f5f127f4b925'
      },
      AIMessageChunk {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Прилагаю подготовленное заключение по видам инструктажа при приеме на работу, включая ссылки на соответствующие нормативные документы. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуется внести изменения или дополнения.',
          additional_kwargs: {},
          response_metadata: {
            usage: {
              prompt_tokens: 750,
              completion_tokens: 54,
              total_tokens: 804,
              prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
              completion_tokens_details: {
                reasoning_tokens: 0,
                audio_tokens: 0,
                accepted_prediction_tokens: 0,
                rejected_prediction_tokens: 0
              }
            }
          },
          tool_call_chunks: [],
          id: 'chatcmpl-Az6LaDDZktoN0HlWT4EuVMSQcXTFi',
          tool_calls: [],
          invalid_tool_calls: [],
          usage_metadata: undefined
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Прилагаю подготовленное заключение по видам инструктажа при приеме на работу, включая ссылки на соответствующие нормативные документы. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуется внести изменения или дополнения.',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {
          usage: {
            prompt_tokens: 750,
            completion_tokens: 54,
            total_tokens: 804,
            prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
            completion_tokens_details: {
              reasoning_tokens: 0,
              audio_tokens: 0,
              accepted_prediction_tokens: 0,
              rejected_prediction_tokens: 0
            }
          }
        },
        id: 'chatcmpl-Az6LaDDZktoN0HlWT4EuVMSQcXTFi',
        tool_calls: [],
        invalid_tool_calls: [],
        tool_call_chunks: [],
        usage_metadata: undefined
      }
    ],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Заключение по инструктажам',
          fullMarkdown: '**Заключение по видам инструктажа при приеме на работу**\n' +
            '\n' +
            'При приеме на работу работодатель обязан провести инструктажи, которые обеспечивают безопасность и охрану труда. В соответствии с законодательством Российской Федерации, основными видами инструктажа являются:\n' +
            '\n' +
            '1.  **Вводный инструктаж** – проводится для всех вновь принятых работников. Согласно статье 225 Трудового кодекса РФ, вводный инструктаж должен быть проведен перед началом работы.\n' +
            '2.  **Первичный инструктаж на рабочем месте** – проводится непосредственно на рабочем месте. Он регламентируется пунктом 1.2. Правил проведения инструктажей по охране труда, утвержденных Постановлением Минтруда России от 24.10.2002 № 73.\n' +
            '3.  **Повторный инструктаж** – осуществляется периодически, не реже одного раза в шесть месяцев, согласно пункту 4.1. указанных Правил.\n' +
            '4.  **Внеплановый инструктаж** – проводится в случае изменения условий труда или при возникновении аварийных ситуаций. Это предусмотрено пунктом 3.1. Правил.\n' +
            '\n' +
            'Таким образом, работодатели должны строго следовать установленным нормам и правилам, чтобы обеспечить безопасность работников и предотвратить несчастные случаи на производстве.\n'
        }
      ],
      metadata: {},
      id: 'c8ce754b-dbc5-486d-90e3-9f7f77d95bcc'
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-09T18:30:17.991Z'
}
{
  message: 'Starting RAG retrieval process',
  level: 'info',
  timestamp: '2025-02-09T18:30:18.004Z'
}
{
  queryLength: 108,
  querySource: 'human_message',
  level: 'debug',
  message: 'Using query from last human message',
  timestamp: '2025-02-09T18:30:18.005Z'
}
{
  queryLength: 108,
  querySource: 'human_message',
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-09T18:30:18.005Z'
}
{
  documentsFound: 5,
  documents: [
    { source: 'document1.md', chunkIndex: 3, contentLength: 937 },
    { source: 'document2.md', chunkIndex: 5, contentLength: 681 },
    { source: 'document2.md', chunkIndex: 6, contentLength: 922 },
    { source: 'document1.md', chunkIndex: 6, contentLength: 915 },
    { source: 'document2.md', chunkIndex: 9, contentLength: 890 }
  ],
  querySource: 'human_message',
  level: 'debug',
  message: 'Vector search results',
  timestamp: '2025-02-09T18:30:19.070Z'
}
{
  message: 'Assembling context from retrieved documents',
  level: 'info',
  timestamp: '2025-02-09T18:30:19.071Z'
}
{
  documentCount: 5,
  level: 'debug',
  message: 'Starting context assembly',
  timestamp: '2025-02-09T18:30:19.071Z'
}
{
  sourceCount: 2,
  sources: [ 'document1.md', 'document2.md' ],
  level: 'debug',
  message: 'Grouped documents by source',
  timestamp: '2025-02-09T18:30:19.072Z'
}
{
  source: 'document1.md',
  addedDocsCount: 2,
  newTotalLength: 1854,
  level: 'debug',
  message: 'Added source content to context',
  timestamp: '2025-02-09T18:30:19.072Z'
}
{
  source: 'document2.md',
  addedDocsCount: 3,
  newTotalLength: 4351,
  level: 'debug',
  message: 'Added source content to context',
  timestamp: '2025-02-09T18:30:19.073Z'
}
{
  finalLength: 4402,
  sourceCount: 2,
  level: 'debug',
  message: 'Assembled final context',
  timestamp: '2025-02-09T18:30:19.073Z'
}
{
  contextLength: 4402,
  documentCount: 5,
  querySource: 'human_message',
  level: 'info',
  message: 'RAG retrieval completed successfully',
  timestamp: '2025-02-09T18:30:19.073Z'
}
{
  message: 'Starting artifact rewrite process',
  level: 'info',
  timestamp: '2025-02-09T18:30:19.084Z'
}
{
  message: 'Model initialized with temperature 0.5',
  level: 'debug',
  timestamp: '2025-02-09T18:30:19.086Z'
}
{
  message: 'Model bound with artifact generation tool',
  level: 'debug',
  timestamp: '2025-02-09T18:30:19.086Z'
}
{
  hasMessage: true,
  content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
  level: 'debug',
  message: 'Retrieved last human message',
  timestamp: '2025-02-09T18:30:19.087Z'
}
{
  lastHumanMessage: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
  retrievedContext: 'Source: document1.md\n' +
    '\n' +
    'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работников (пребывания командированного лица в организации) должна под подпись уведомить об этом работника, ответственного за проведение инструктажа (п. 1.7 Примерного порядка реализации вводного инструктажа по ГО).\r\n' +
    '   Как правило, вводный инструктаж проводят в специально оборудованном помещении с использованием современных технических средств обучения и наглядных пособий (плакатов, натурных экспонатов, макетов, моделей, кинофильмов и т.п.).\r\n' +
    '   Продолжительность вводного инструктажа работодатель определяет сам в программе вводного инструктажа (п. 2.5 Примерного порядка реализации вводного инструктажа по ГО). Количество часов зависит от объема информации, которую необходимо довести до инструктируемых. На объем информации могут влиять, например:\r\n' +
    '\r\n' +
    '- наличие опасных производственных факторов в организации;\r\n' +
    '- место ее расположения;\n' +
    '\n' +
    'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или в акте о прохождении работником вводного инструктажа по ГО. Этот акт надо направить в головной офис не позднее 20 календарных дней после проведения инструктажа (п. 2.8 Примерного порядка реализации вводного инструктажа по ГО).\r\n' +
    '\r\n' +
    '4. Как оформить результаты проведения вводного инструктажа\r\n' +
    '   После проведения вводного инструктажа по ГО необходимо проверить, как усвоен материал. Для этого нужно устно опросить инструктируемых.\r\n' +
    '   По результатам опроса в журнале учета вводного инструктажа по ГО проставьте отметку "ЗАЧЕТ" или "НЕЗАЧЕТ". Работник, который не смог ответить на вопросы и получил "НЕЗАЧЕТ", все равно допускается к работе, но в течение 30 дней должен пройти повторный инструктаж (п. 3.2 Примерного порядка реализации вводного инструктажа по ГО).\r\n' +
    '\r\n' +
    '5. Риски в случае непроведения вводного инструктажа\n' +
    '\n' +
    '---\n' +
    '\n' +
    'Source: document2.md\n' +
    '\n' +
    'Для проведения вводного инструктажа вам нужно (п. п. 9, 11, 69, 88 Правил обучения по охране труда):\r\n' +
    '\r\n' +
    '- самостоятельно определить формы и методы его проведения;\r\n' +
    '- разработать и утвердить программу проведения инструктажа;\r\n' +
    '- в локальных нормативных актах самостоятельно определить форму проведения проверки знания требований охраны труда работников при инструктаже по охране труда;\r\n' +
    '- разработать и утвердить порядок регистрации вводного инструктажа и форму его документирования.\r\n' +
    '  Вводный инструктаж завершается проверкой знания требований охраны труда. Это неотъемлемая часть проведения инструктажа по охране труда (пп. "а" п. 8, п. п. 23, 68 Правил обучения по охране труда).\n' +
    '\n' +
    'Вводный инструктаж завершается проверкой знания требований охраны труда. Это неотъемлемая часть проведения инструктажа по охране труда (пп. "а" п. 8, п. п. 23, 68 Правил обучения по охране труда).\r\n' +
    '  Если работник показал в рамках проверки знания требований охраны труда неудовлетворительные знания, его нельзя допускать к самостоятельному выполнению трудовых обязанностей. В течение 30 календарных дней со дня проведения проверки его нужно направить на повторную проверку (п. 79 Правил обучения по охране труда).\r\n' +
    '\r\n' +
    '3.1. Что включает программа вводного инструктажа по охране труда\r\n' +
    'Разработайте программу на основе Примерных перечней тем, приведенных в Приложении N 1 к Правилам обучения по охране труда. Примите во внимание специфику деятельности вашей организации. Утвердите программу с учетом мнения профсоюзного или иного уполномоченного работниками органа, если он у вас есть (п. 11 Правил обучения по охране труда).\n' +
    '\n' +
    'Обратите внимание, что положения о ведении электронного документооборота в сфере трудовых отношений не применяются к документам, подтверждающим прохождение работником инструктажей по охране труда, в том числе к подписываемым им лично (ч. 3 ст. 22.1 ТК РФ, Письмо Минтруда России от 30.05.2022 N 15-2/В-1677, сайт "Онлайнинспекция.рф", 2023).\r\n' +
    '   При регистрации проведения вводного инструктажа вы должны указывать следующую информацию (п. 86 Правил обучения по охране труда):\r\n' +
    '\r\n' +
    '- дату проведения инструктажа;\r\n' +
    '- фамилию, имя, отчество (при наличии) работника, прошедшего инструктаж;\r\n' +
    '- профессию (должность) этого работника;\r\n' +
    '- число, месяц, год его рождения;\r\n' +
    '- наименование подразделения, в котором он будет работать;\r\n' +
    '- фамилию, имя, отчество (при наличии), профессию (должность) работника, проводившего инструктаж;\r\n' +
    '- подписи работников - как прошедшего, так и проводившего инструктаж.',
  artifactFullMarkdown: '**Заключение по видам инструктажа при приеме на работу**\n' +
    '\n' +
    'При приеме на работу работодатель обязан провести инструктажи, которые обеспечивают безопасность и охрану труда. В соответствии с законодательством Российской Федерации, основными видами инструктажа являются:\n' +
    '\n' +
    '1.  **Вводный инструктаж** – проводится для всех вновь принятых работников. Согласно статье 225 Трудового кодекса РФ, вводный инструктаж должен быть проведен перед началом работы.\n' +
    '2.  **Первичный инструктаж на рабочем месте** – проводится непосредственно на рабочем месте. Он регламентируется пунктом 1.2. Правил проведения инструктажей по охране труда, утвержденных Постановлением Минтруда России от 24.10.2002 № 73.\n' +
    '3.  **Повторный инструктаж** – осуществляется периодически, не реже одного раза в шесть месяцев, согласно пункту 4.1. указанных Правил.\n' +
    '4.  **Внеплановый инструктаж** – проводится в случае изменения условий труда или при возникновении аварийных ситуаций. Это предусмотрено пунктом 3.1. Правил.\n' +
    '\n' +
    'Таким образом, работодатели должны строго следовать установленным нормам и правилам, чтобы обеспечить безопасность работников и предотвратить несчастные случаи на производстве.\n',
  level: 'debug',
  message: 'Components for system prompt',
  timestamp: '2025-02-09T18:30:19.087Z'
}
{
  promptLength: 5937,
  hasContext: true,
  hasOriginalDocument: true,
  level: 'debug',
  message: 'Final system prompt assembled',
  timestamp: '2025-02-09T18:30:19.091Z'
}
{
  message: 'Invoking model for artifact rewrite',
  level: 'info',
  timestamp: '2025-02-09T18:30:19.091Z'
}
{
  hasToolCalls: true,
  toolCallsCount: 1,
  level: 'debug',
  message: 'Model response received',
  timestamp: '2025-02-09T18:30:26.036Z'
}
{
  title: 'Заключение по инструктажу',
  contentLength: 1668,
  level: 'debug',
  message: 'Created new artifact content',
  timestamp: '2025-02-09T18:30:26.037Z'
}
{
  id: 'c8ce754b-dbc5-486d-90e3-9f7f77d95bcc',
  contentsLength: 1,
  currentIndex: 1,
  level: 'debug',
  message: 'Updated artifact object',
  timestamp: '2025-02-09T18:30:26.037Z'
}
{
  message: 'Successfully completed artifact rewrite',
  level: 'info',
  timestamp: '2025-02-09T18:30:26.038Z'
}
{
  message: 'Cleaning state, resetting to default inputs',
  level: 'debug',
  timestamp: '2025-02-09T18:30:27.128Z'
}
{
  message: 'Checking if title generation is needed. Message count: 3',
  level: 'info',
  timestamp: '2025-02-09T18:30:27.133Z'
}
{
  message: 'Skipping title generation - conversation already has more than 2 messages',
  level: 'debug',
  timestamp: '2025-02-09T18:30:27.133Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-09T18:57:53.358Z'
}
{
  hasCurrentArtifact: false,
  messageCount: 1,
  level: 'debug',
  message: 'Preparing LLM prompt for routing',
  timestamp: '2025-02-09T18:57:53.360Z'
}
{
  message: 'Initializing model for routing decision',
  level: 'debug',
  timestamp: '2025-02-09T18:57:53.361Z'
}
{
  message: 'Invoking model for routing decision',
  level: 'debug',
  timestamp: '2025-02-09T18:57:53.362Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-09T18:57:54.868Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
          additional_kwargs: {},
          response_metadata: {},
          id: 'ad517f79-ac99-4c65-a75b-1c763019c617'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: 'ad517f79-ac99-4c65-a75b-1c763019c617'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-09T18:57:54.873Z'
}
{
  message: 'Starting artifact generation process',
  level: 'info',
  timestamp: '2025-02-09T18:57:54.883Z'
}
{
  modelName: 'gpt-4o-mini',
  modelProvider: 'openai',
  level: 'debug',
  message: 'Model configuration',
  timestamp: '2025-02-09T18:57:54.884Z'
}
{
  message: 'Model initialized with temperature 0.5',
  level: 'debug',
  timestamp: '2025-02-09T18:57:54.884Z'
}
{
  message: 'Model bound with artifact generation tool',
  level: 'debug',
  timestamp: '2025-02-09T18:57:54.885Z'
}
{
  memoriesLength: 278,
  level: 'debug',
  message: 'Retrieved formatted reflections',
  timestamp: '2025-02-09T18:57:54.887Z'
}
{
  promptLength: 1069,
  level: 'debug',
  message: 'Formatted new artifact prompt',
  timestamp: '2025-02-09T18:57:54.887Z'
}
{
  hasUserSystemPrompt: false,
  fullPromptLength: 1069,
  level: 'debug',
  message: 'Assembled full system prompt',
  timestamp: '2025-02-09T18:57:54.887Z'
}
{
  message: 'Invoking model for artifact generation',
  level: 'info',
  timestamp: '2025-02-09T18:57:54.888Z'
}
{
  hasToolCalls: true,
  toolCallsCount: 1,
  level: 'debug',
  message: 'Received model response',
  timestamp: '2025-02-09T18:58:00.836Z'
}
{
  title: 'Заключение по инструктажам',
  type: 'text',
  contentLength: 1530,
  content: '## Заключение по видам инструктажа при приеме на работу\n' +
    '\n' +
    'В соответствии с действующим законодательством Российской Федерации, при приеме на работу работодатель обязан провести инструктажи, целью которых является обеспечение безопасных условий труда и ознакомление работников с их правами и обязанностями. Основные виды инструктажей включают:\n' +
    '\n' +
    '1. **Вводный инструктаж** - проводится для всех новых работников, независимо от их квалификации. Основные требования к проведению вводного инструктажа установлены в **Правилах по охране труда** (Постановление Правительства РФ от 24.12.2002 № 45).\n' +
    '\n' +
    '2. **Первичный инструктаж на рабочем месте** - осуществляется непосредственно перед началом работы и включает ознакомление с конкретными условиями труда и потенциальными опасностями. Регулируется **Приказом Минтруда России от 24.12.2013 № 1н**.\n' +
    '\n' +
    '3. **Повторный инструктаж** - проводится через определенные промежутки времени, установленные внутренними нормативными актами организации, но не реже одного раза в год. Это требование содержится в **Постановлении Правительства РФ от 24.12.2002 № 45**.\n' +
    '\n' +
    '4. **Целевой инструктаж** - может проводиться в случае введения новых технологий или оборудования, а также при изменении условий труда. Основные положения о целевом инструктаже изложены в **Приказе Минтруда России от 24.12.2013 № 1н**.\n' +
    '\n' +
    'Таким образом, соблюдение указанных видов инструктажей является обязательным для обеспечения безопасности и здоровья работников, а также для выполнения требований законодательства в области охраны труда.',
  level: 'debug',
  message: 'Created new artifact content',
  timestamp: '2025-02-09T18:58:00.837Z'
}
{
  id: '9266a510-a1b7-4145-87c9-3e24988182ed',
  currentIndex: 1,
  contentsLength: 1,
  content: '## Заключение по видам инструктажа при приеме на работу\n' +
    '\n' +
    'В соответствии с действующим законодательством Российской Федерации, при приеме на работу работодатель обязан провести инструктажи, целью которых является обеспечение безопасных условий труда и ознакомление работников с их правами и обязанностями. Основные виды инструктажей включают:\n' +
    '\n' +
    '1. **Вводный инструктаж** - проводится для всех новых работников, независимо от их квалификации. Основные требования к проведению вводного инструктажа установлены в **Правилах по охране труда** (Постановление Правительства РФ от 24.12.2002 № 45).\n' +
    '\n' +
    '2. **Первичный инструктаж на рабочем месте** - осуществляется непосредственно перед началом работы и включает ознакомление с конкретными условиями труда и потенциальными опасностями. Регулируется **Приказом Минтруда России от 24.12.2013 № 1н**.\n' +
    '\n' +
    '3. **Повторный инструктаж** - проводится через определенные промежутки времени, установленные внутренними нормативными актами организации, но не реже одного раза в год. Это требование содержится в **Постановлении Правительства РФ от 24.12.2002 № 45**.\n' +
    '\n' +
    '4. **Целевой инструктаж** - может проводиться в случае введения новых технологий или оборудования, а также при изменении условий труда. Основные положения о целевом инструктаже изложены в **Приказе Минтруда России от 24.12.2013 № 1н**.\n' +
    '\n' +
    'Таким образом, соблюдение указанных видов инструктажей является обязательным для обеспечения безопасности и здоровья работников, а также для выполнения требований законодательства в области охраны труда.',
  level: 'debug',
  message: 'Created new artifact object',
  timestamp: '2025-02-09T18:58:00.838Z'
}
{
  message: 'Successfully generated new artifact',
  level: 'info',
  timestamp: '2025-02-09T18:58:00.840Z'
}
{
  message: 'Cleaning state, resetting to default inputs',
  level: 'debug',
  timestamp: '2025-02-09T18:58:02.567Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-09T18:58:02.572Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-09T18:58:02.572Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-09T18:58:14.975Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-09T18:58:14.975Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
          additional_kwargs: {},
          response_metadata: {},
          id: 'ad517f79-ac99-4c65-a75b-1c763019c617'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: 'ad517f79-ac99-4c65-a75b-1c763019c617'
      },
      AIMessageChunk {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Уважаемый коллега, подготовлено заключение по видам инструктажа при приеме на работу с учетом всех необходимых нормативных ссылок. Ознакомьтесь, пожалуйста, с документом и дайте знать, если потребуется внести изменения или дополнения.',
          additional_kwargs: {},
          response_metadata: {
            usage: {
              prompt_tokens: 827,
              completion_tokens: 55,
              total_tokens: 882,
              prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
              completion_tokens_details: {
                reasoning_tokens: 0,
                audio_tokens: 0,
                accepted_prediction_tokens: 0,
                rejected_prediction_tokens: 0
              }
            }
          },
          tool_call_chunks: [],
          id: 'chatcmpl-Az6nB0vhsvoyqMECkxRnxYEXyFXI9',
          tool_calls: [],
          invalid_tool_calls: [],
          usage_metadata: undefined
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Уважаемый коллега, подготовлено заключение по видам инструктажа при приеме на работу с учетом всех необходимых нормативных ссылок. Ознакомьтесь, пожалуйста, с документом и дайте знать, если потребуется внести изменения или дополнения.',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {
          usage: {
            prompt_tokens: 827,
            completion_tokens: 55,
            total_tokens: 882,
            prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
            completion_tokens_details: {
              reasoning_tokens: 0,
              audio_tokens: 0,
              accepted_prediction_tokens: 0,
              rejected_prediction_tokens: 0
            }
          }
        },
        id: 'chatcmpl-Az6nB0vhsvoyqMECkxRnxYEXyFXI9',
        tool_calls: [],
        invalid_tool_calls: [],
        tool_call_chunks: [],
        usage_metadata: undefined
      }
    ],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Заключение по инструктажам',
          fullMarkdown: '## Заключение по видам инструктажа при приеме на работу\n' +
            '\n' +
            'В соответствии с действующим законодательством Российской Федерации, при приеме на работу работодатель обязан провести инструктажи, целью которых является обеспечение безопасных условий труда и ознакомление работников с их правами и обязанностями. Основные виды инструктажей включают:\n' +
            '\n' +
            '1.  **Вводный инструктаж** - проводится для всех новых работников, независимо от их квалификации. Основные требования к проведению вводного инструктажа установлены в **Правилах по охране труда** (Постановление Правительства РФ от 24.12.2002 № 45).\n' +
            '2.  **Первичный инструктаж на рабочем месте** - осуществляется непосредственно перед началом работы и включает ознакомление с конкретными условиями труда и потенциальными опасностями. Регулируется **Приказом Минтруда России от 24.12.2013 № 1н**.\n' +
            '3.  **Повторный инструктаж** - проводится через определенные промежутки времени, установленные внутренними нормативными актами организации, но не реже одного раза в год. Это требование содержится в **Постановлении Правительства РФ от 24.12.2002 № 45**.\n' +
            '4.  **Целевой инструктаж** - может проводиться в случае введения новых технологий или оборудования, а также при изменении условий труда. Основные положения о целевом инструктаже изложены в **Приказе Минтруда России от 24.12.2013 № 1н**.\n' +
            '\n' +
            'Таким образом, соблюдение указанных видов инструктажей является обязательным для обеспечения безопасности и здоровья работников, а также для выполнения требований законодательства в области охраны труда.\n'
        }
      ],
      metadata: {},
      id: '9266a510-a1b7-4145-87c9-3e24988182ed'
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-09T18:58:14.979Z'
}
{
  message: 'Starting RAG retrieval process',
  level: 'info',
  timestamp: '2025-02-09T18:58:14.988Z'
}
{
  queryLength: 108,
  querySource: 'human_message',
  level: 'debug',
  message: 'Using query from last human message',
  timestamp: '2025-02-09T18:58:14.988Z'
}
{
  queryLength: 108,
  querySource: 'human_message',
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-09T18:58:14.989Z'
}
{
  documentsFound: 5,
  documents: [
    { source: 'document1.md', chunkIndex: 3, contentLength: 937 },
    { source: 'document2.md', chunkIndex: 5, contentLength: 681 },
    { source: 'document2.md', chunkIndex: 6, contentLength: 922 },
    { source: 'document1.md', chunkIndex: 6, contentLength: 915 },
    { source: 'document2.md', chunkIndex: 9, contentLength: 890 }
  ],
  querySource: 'human_message',
  level: 'debug',
  message: 'Vector search results',
  timestamp: '2025-02-09T18:58:16.025Z'
}
{
  message: 'Assembling context from retrieved documents',
  level: 'info',
  timestamp: '2025-02-09T18:58:16.026Z'
}
{
  documentCount: 5,
  level: 'debug',
  message: 'Starting context assembly',
  timestamp: '2025-02-09T18:58:16.026Z'
}
{
  sourceCount: 2,
  sources: [ 'document1.md', 'document2.md' ],
  level: 'debug',
  message: 'Grouped documents by source',
  timestamp: '2025-02-09T18:58:16.027Z'
}
{
  source: 'document1.md',
  addedDocsCount: 2,
  newTotalLength: 1854,
  level: 'debug',
  message: 'Added source content to context',
  timestamp: '2025-02-09T18:58:16.027Z'
}
{
  source: 'document2.md',
  addedDocsCount: 3,
  newTotalLength: 4351,
  level: 'debug',
  message: 'Added source content to context',
  timestamp: '2025-02-09T18:58:16.027Z'
}
{
  finalLength: 4402,
  sourceCount: 2,
  level: 'debug',
  message: 'Assembled final context',
  timestamp: '2025-02-09T18:58:16.028Z'
}
{
  contextLength: 4402,
  documentCount: 5,
  querySource: 'human_message',
  level: 'info',
  message: 'RAG retrieval completed successfully',
  timestamp: '2025-02-09T18:58:16.028Z'
}
{
  message: 'Starting artifact rewrite process',
  level: 'info',
  timestamp: '2025-02-09T18:58:16.039Z'
}
{
  message: 'Model initialized with temperature 0.5',
  level: 'debug',
  timestamp: '2025-02-09T18:58:16.039Z'
}
{
  message: 'Model bound with artifact generation tool',
  level: 'debug',
  timestamp: '2025-02-09T18:58:16.040Z'
}
{
  hasMessage: true,
  content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
  level: 'debug',
  message: 'Retrieved last human message',
  timestamp: '2025-02-09T18:58:16.040Z'
}
{
  lastHumanMessage: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
  retrievedContext: 'Source: document1.md\n' +
    '\n' +
    'Для этого кадровая служба в течение семи календарных дней с даты начала трудовой деятельности работников (пребывания командированного лица в организации) должна под подпись уведомить об этом работника, ответственного за проведение инструктажа (п. 1.7 Примерного порядка реализации вводного инструктажа по ГО).\r\n' +
    '   Как правило, вводный инструктаж проводят в специально оборудованном помещении с использованием современных технических средств обучения и наглядных пособий (плакатов, натурных экспонатов, макетов, моделей, кинофильмов и т.п.).\r\n' +
    '   Продолжительность вводного инструктажа работодатель определяет сам в программе вводного инструктажа (п. 2.5 Примерного порядка реализации вводного инструктажа по ГО). Количество часов зависит от объема информации, которую необходимо довести до инструктируемых. На объем информации могут влиять, например:\r\n' +
    '\r\n' +
    '- наличие опасных производственных факторов в организации;\r\n' +
    '- место ее расположения;\n' +
    '\n' +
    'Проведение вводного инструктажа в дистанционной форме нужно зафиксировать в электронном журнале или в акте о прохождении работником вводного инструктажа по ГО. Этот акт надо направить в головной офис не позднее 20 календарных дней после проведения инструктажа (п. 2.8 Примерного порядка реализации вводного инструктажа по ГО).\r\n' +
    '\r\n' +
    '4. Как оформить результаты проведения вводного инструктажа\r\n' +
    '   После проведения вводного инструктажа по ГО необходимо проверить, как усвоен материал. Для этого нужно устно опросить инструктируемых.\r\n' +
    '   По результатам опроса в журнале учета вводного инструктажа по ГО проставьте отметку "ЗАЧЕТ" или "НЕЗАЧЕТ". Работник, который не смог ответить на вопросы и получил "НЕЗАЧЕТ", все равно допускается к работе, но в течение 30 дней должен пройти повторный инструктаж (п. 3.2 Примерного порядка реализации вводного инструктажа по ГО).\r\n' +
    '\r\n' +
    '5. Риски в случае непроведения вводного инструктажа\n' +
    '\n' +
    '---\n' +
    '\n' +
    'Source: document2.md\n' +
    '\n' +
    'Для проведения вводного инструктажа вам нужно (п. п. 9, 11, 69, 88 Правил обучения по охране труда):\r\n' +
    '\r\n' +
    '- самостоятельно определить формы и методы его проведения;\r\n' +
    '- разработать и утвердить программу проведения инструктажа;\r\n' +
    '- в локальных нормативных актах самостоятельно определить форму проведения проверки знания требований охраны труда работников при инструктаже по охране труда;\r\n' +
    '- разработать и утвердить порядок регистрации вводного инструктажа и форму его документирования.\r\n' +
    '  Вводный инструктаж завершается проверкой знания требований охраны труда. Это неотъемлемая часть проведения инструктажа по охране труда (пп. "а" п. 8, п. п. 23, 68 Правил обучения по охране труда).\n' +
    '\n' +
    'Вводный инструктаж завершается проверкой знания требований охраны труда. Это неотъемлемая часть проведения инструктажа по охране труда (пп. "а" п. 8, п. п. 23, 68 Правил обучения по охране труда).\r\n' +
    '  Если работник показал в рамках проверки знания требований охраны труда неудовлетворительные знания, его нельзя допускать к самостоятельному выполнению трудовых обязанностей. В течение 30 календарных дней со дня проведения проверки его нужно направить на повторную проверку (п. 79 Правил обучения по охране труда).\r\n' +
    '\r\n' +
    '3.1. Что включает программа вводного инструктажа по охране труда\r\n' +
    'Разработайте программу на основе Примерных перечней тем, приведенных в Приложении N 1 к Правилам обучения по охране труда. Примите во внимание специфику деятельности вашей организации. Утвердите программу с учетом мнения профсоюзного или иного уполномоченного работниками органа, если он у вас есть (п. 11 Правил обучения по охране труда).\n' +
    '\n' +
    'Обратите внимание, что положения о ведении электронного документооборота в сфере трудовых отношений не применяются к документам, подтверждающим прохождение работником инструктажей по охране труда, в том числе к подписываемым им лично (ч. 3 ст. 22.1 ТК РФ, Письмо Минтруда России от 30.05.2022 N 15-2/В-1677, сайт "Онлайнинспекция.рф", 2023).\r\n' +
    '   При регистрации проведения вводного инструктажа вы должны указывать следующую информацию (п. 86 Правил обучения по охране труда):\r\n' +
    '\r\n' +
    '- дату проведения инструктажа;\r\n' +
    '- фамилию, имя, отчество (при наличии) работника, прошедшего инструктаж;\r\n' +
    '- профессию (должность) этого работника;\r\n' +
    '- число, месяц, год его рождения;\r\n' +
    '- наименование подразделения, в котором он будет работать;\r\n' +
    '- фамилию, имя, отчество (при наличии), профессию (должность) работника, проводившего инструктаж;\r\n' +
    '- подписи работников - как прошедшего, так и проводившего инструктаж.',
  artifactFullMarkdown: '## Заключение по видам инструктажа при приеме на работу\n' +
    '\n' +
    'В соответствии с действующим законодательством Российской Федерации, при приеме на работу работодатель обязан провести инструктажи, целью которых является обеспечение безопасных условий труда и ознакомление работников с их правами и обязанностями. Основные виды инструктажей включают:\n' +
    '\n' +
    '1.  **Вводный инструктаж** - проводится для всех новых работников, независимо от их квалификации. Основные требования к проведению вводного инструктажа установлены в **Правилах по охране труда** (Постановление Правительства РФ от 24.12.2002 № 45).\n' +
    '2.  **Первичный инструктаж на рабочем месте** - осуществляется непосредственно перед началом работы и включает ознакомление с конкретными условиями труда и потенциальными опасностями. Регулируется **Приказом Минтруда России от 24.12.2013 № 1н**.\n' +
    '3.  **Повторный инструктаж** - проводится через определенные промежутки времени, установленные внутренними нормативными актами организации, но не реже одного раза в год. Это требование содержится в **Постановлении Правительства РФ от 24.12.2002 № 45**.\n' +
    '4.  **Целевой инструктаж** - может проводиться в случае введения новых технологий или оборудования, а также при изменении условий труда. Основные положения о целевом инструктаже изложены в **Приказе Минтруда России от 24.12.2013 № 1н**.\n' +
    '\n' +
    'Таким образом, соблюдение указанных видов инструктажей является обязательным для обеспечения безопасности и здоровья работников, а также для выполнения требований законодательства в области охраны труда.\n',
  level: 'debug',
  message: 'Components for system prompt',
  timestamp: '2025-02-09T18:58:16.041Z'
}
{
  promptLength: 6311,
  hasContext: true,
  hasOriginalDocument: true,
  level: 'debug',
  message: 'Final system prompt assembled',
  timestamp: '2025-02-09T18:58:16.045Z'
}
{
  message: 'Invoking model for artifact rewrite',
  level: 'info',
  timestamp: '2025-02-09T18:58:16.046Z'
}
{
  hasToolCalls: true,
  toolCallsCount: 1,
  level: 'debug',
  message: 'Model response received',
  timestamp: '2025-02-09T18:58:21.951Z'
}
{
  title: 'Заключение по инструктажам',
  contentLength: 1552,
  level: 'debug',
  message: 'Created new artifact content',
  timestamp: '2025-02-09T18:58:21.951Z'
}
{
  id: '9266a510-a1b7-4145-87c9-3e24988182ed',
  contentsLength: 1,
  currentIndex: 2,
  level: 'debug',
  message: 'Updated artifact object',
  timestamp: '2025-02-09T18:58:21.952Z'
}
{
  message: 'Successfully completed artifact rewrite',
  level: 'info',
  timestamp: '2025-02-09T18:58:21.952Z'
}
{
  message: 'Cleaning state, resetting to default inputs',
  level: 'debug',
  timestamp: '2025-02-09T18:58:23.392Z'
}
{
  message: 'Checking if title generation is needed. Message count: 3',
  level: 'info',
  timestamp: '2025-02-09T18:58:23.396Z'
}
{
  message: 'Skipping title generation - conversation already has more than 2 messages',
  level: 'debug',
  timestamp: '2025-02-09T18:58:23.396Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-09T19:03:59.748Z'
}
{
  hasCurrentArtifact: false,
  messageCount: 1,
  level: 'debug',
  message: 'Preparing LLM prompt for routing',
  timestamp: '2025-02-09T19:03:59.750Z'
}
{
  message: 'Initializing model for routing decision',
  level: 'debug',
  timestamp: '2025-02-09T19:03:59.751Z'
}
{
  message: 'Invoking model for routing decision',
  level: 'debug',
  timestamp: '2025-02-09T19:03:59.753Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-09T19:04:01.177Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
          additional_kwargs: {},
          response_metadata: {},
          id: '804d62a8-0bf4-4cea-91b6-8a75217b3261'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: '804d62a8-0bf4-4cea-91b6-8a75217b3261'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-09T19:04:01.182Z'
}
{
  message: 'Starting artifact generation process',
  level: 'info',
  timestamp: '2025-02-09T19:04:01.191Z'
}
{
  modelName: 'gpt-4o-mini',
  modelProvider: 'openai',
  level: 'debug',
  message: 'Model configuration',
  timestamp: '2025-02-09T19:04:01.192Z'
}
{
  message: 'Model initialized with temperature 0.5',
  level: 'debug',
  timestamp: '2025-02-09T19:04:01.193Z'
}
{
  message: 'Model bound with artifact generation tool',
  level: 'debug',
  timestamp: '2025-02-09T19:04:01.194Z'
}
{
  memoriesLength: 278,
  level: 'debug',
  message: 'Retrieved formatted reflections',
  timestamp: '2025-02-09T19:04:01.195Z'
}
{
  promptLength: 1069,
  level: 'debug',
  message: 'Formatted new artifact prompt',
  timestamp: '2025-02-09T19:04:01.196Z'
}
{
  hasUserSystemPrompt: false,
  fullPromptLength: 1069,
  level: 'debug',
  message: 'Assembled full system prompt',
  timestamp: '2025-02-09T19:04:01.196Z'
}
{
  message: 'Invoking model for artifact generation',
  level: 'info',
  timestamp: '2025-02-09T19:04:01.196Z'
}
{
  hasToolCalls: true,
  toolCallsCount: 1,
  level: 'debug',
  message: 'Received model response',
  timestamp: '2025-02-09T19:04:11.823Z'
}
{
  title: 'Заключение по инструктажам',
  type: 'text',
  contentLength: 1625,
  content: '## Заключение по видам инструктажа при приеме на работу\n' +
    '\n' +
    'При приеме на работу работодатель обязан провести инструктажи, направленные на обеспечение безопасности и здоровья работников. В соответствии с действующим законодательством, выделяют несколько видов инструктажей:\n' +
    '\n' +
    '1. **Вводный инструктаж** - проводится для всех новых работников, независимо от их квалификации и стажа. Он включает в себя ознакомление с основными требованиями охраны труда, правилами внутреннего распорядка и организацией рабочего места. Основным нормативным документом, регулирующим данный вид инструктажа, является **Приказ Минтруда России от 24.10.2002 № 73**.\n' +
    '\n' +
    '2. **Первичный инструктаж на рабочем месте** - проводится непосредственно на рабочем месте после вводного инструктажа. Он включает в себя ознакомление с конкретными условиями труда, опасностями и мерами безопасности. Основным нормативным документом является **Положение о порядке проведения инструктажей по охране труда**, утвержденное **Приказом Минтруда России от 17.03.2003 № 30**.\n' +
    '\n' +
    '3. **Повторный инструктаж** - проводится периодически, не реже одного раза в 6 месяцев, с целью обновления знаний работников по охране труда. Регулируется теми же документами, что и первичный инструктаж.\n' +
    '\n' +
    '4. **Внеплановый инструктаж** - проводится в случае изменения условий труда, появления новых опасностей или после несчастных случаев на производстве. Основные требования определены в **Приказе Минтруда России от 24.10.2002 № 73**.\n' +
    '\n' +
    'Таким образом, соблюдение всех видов инструктажей при приеме на работу является обязательным для обеспечения безопасных условий труда и защиты здоровья работников.',
  level: 'debug',
  message: 'Created new artifact content',
  timestamp: '2025-02-09T19:04:11.823Z'
}
{
  id: '53e8742d-8121-4b80-9066-949530efafdc',
  currentIndex: 1,
  contentsLength: 1,
  content: '## Заключение по видам инструктажа при приеме на работу\n' +
    '\n' +
    'При приеме на работу работодатель обязан провести инструктажи, направленные на обеспечение безопасности и здоровья работников. В соответствии с действующим законодательством, выделяют несколько видов инструктажей:\n' +
    '\n' +
    '1. **Вводный инструктаж** - проводится для всех новых работников, независимо от их квалификации и стажа. Он включает в себя ознакомление с основными требованиями охраны труда, правилами внутреннего распорядка и организацией рабочего места. Основным нормативным документом, регулирующим данный вид инструктажа, является **Приказ Минтруда России от 24.10.2002 № 73**.\n' +
    '\n' +
    '2. **Первичный инструктаж на рабочем месте** - проводится непосредственно на рабочем месте после вводного инструктажа. Он включает в себя ознакомление с конкретными условиями труда, опасностями и мерами безопасности. Основным нормативным документом является **Положение о порядке проведения инструктажей по охране труда**, утвержденное **Приказом Минтруда России от 17.03.2003 № 30**.\n' +
    '\n' +
    '3. **Повторный инструктаж** - проводится периодически, не реже одного раза в 6 месяцев, с целью обновления знаний работников по охране труда. Регулируется теми же документами, что и первичный инструктаж.\n' +
    '\n' +
    '4. **Внеплановый инструктаж** - проводится в случае изменения условий труда, появления новых опасностей или после несчастных случаев на производстве. Основные требования определены в **Приказе Минтруда России от 24.10.2002 № 73**.\n' +
    '\n' +
    'Таким образом, соблюдение всех видов инструктажей при приеме на работу является обязательным для обеспечения безопасных условий труда и защиты здоровья работников.',
  level: 'debug',
  message: 'Created new artifact object',
  timestamp: '2025-02-09T19:04:11.825Z'
}
{
  message: 'Successfully generated new artifact',
  level: 'info',
  timestamp: '2025-02-09T19:04:11.827Z'
}
{
  message: 'Cleaning state, resetting to default inputs',
  level: 'debug',
  timestamp: '2025-02-09T19:04:12.957Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-09T19:04:12.962Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-09T19:04:12.963Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-09T19:04:28.917Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-09T19:04:28.917Z'
}
{
  currentState: {
    messages: [],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Заключение по инструктажам',
          fullMarkdown: '## Заключение по видам инструктажа при приеме на работу\n' +
            '\n' +
            'При приеме на работу работодатель обязан провести инструктажи, направленные на обеспечение безопасности и здоровья работников. В соответствии с действующим законодательством, выделяют несколько видов инструктажей:\n' +
            '\n' +
            '1.  **Вводный инструктаж** - проводится для всех новых работников, независимо от их квалификации и стажа. Он включает в себя ознакомление с основными требованиями охраны труда, правилами внутреннего распорядка и организацией рабочего места. Основным нормативным документом, регулирующим данный вид инструктажа, является **Приказ Минтруда России от 24.10.2002 № 73**.\n' +
            '2.  **Первичный инструктаж на рабочем месте** - проводится непосредственно на рабочем месте после вводного инструктажа. Он включает в себя ознакомление с конкретными условиями труда, опасностями и мерами безопасности. Основным нормативным документом является **Положение о порядке проведения инструктажей по охране труда**, утвержденное **Приказом Минтруда России от 17.03.2003 № 30**.\n' +
            '3.  **Повторный инструктаж** - проводится периодически, не реже одного раза в 6 месяцев, с целью обновления знаний работников по охране труда. Регулируется теми же документами, что и первичный инструктаж.\n' +
            '4.  **Внеплановый инструктаж** - проводится в случае изменения условий труда, появления новых опасностей или после несчастных случаев на производстве. Основные требования определены в **Приказе Минтруда России от 24.10.2002 № 73**.\n' +
            '\n' +
            'Таким образом, соблюдение всех видов инструктажей при приеме на работу является обязательным для обеспечения безопасных условий труда и защиты здоровья работников.\n'
        }
      ],
      metadata: {},
      id: '53e8742d-8121-4b80-9066-949530efafdc'
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-09T19:04:28.922Z'
}
{
  message: 'Starting RAG retrieval process',
  level: 'info',
  timestamp: '2025-02-09T19:04:28.930Z'
}
{
  queryLength: 0,
  minRequired: 3,
  querySource: '',
  level: 'info',
  message: 'Query too short or empty, skipping retrieval',
  timestamp: '2025-02-09T19:04:28.931Z'
}
{
  message: 'Starting artifact rewrite process',
  level: 'info',
  timestamp: '2025-02-09T19:04:28.939Z'
}
{
  message: 'Model initialized with temperature 0.5',
  level: 'debug',
  timestamp: '2025-02-09T19:04:28.939Z'
}
{
  message: 'Model bound with artifact generation tool',
  level: 'debug',
  timestamp: '2025-02-09T19:04:28.940Z'
}
{
  hasMessage: false,
  content: 'No message found',
  level: 'debug',
  message: 'Retrieved last human message',
  timestamp: '2025-02-09T19:04:28.940Z'
}
{
  lastHumanMessage: 'Нет запроса.',
  retrievedContext: 'Нет дополнительного контекста.',
  artifactFullMarkdown: '## Заключение по видам инструктажа при приеме на работу\n' +
    '\n' +
    'При приеме на работу работодатель обязан провести инструктажи, направленные на обеспечение безопасности и здоровья работников. В соответствии с действующим законодательством, выделяют несколько видов инструктажей:\n' +
    '\n' +
    '1.  **Вводный инструктаж** - проводится для всех новых работников, независимо от их квалификации и стажа. Он включает в себя ознакомление с основными требованиями охраны труда, правилами внутреннего распорядка и организацией рабочего места. Основным нормативным документом, регулирующим данный вид инструктажа, является **Приказ Минтруда России от 24.10.2002 № 73**.\n' +
    '2.  **Первичный инструктаж на рабочем месте** - проводится непосредственно на рабочем месте после вводного инструктажа. Он включает в себя ознакомление с конкретными условиями труда, опасностями и мерами безопасности. Основным нормативным документом является **Положение о порядке проведения инструктажей по охране труда**, утвержденное **Приказом Минтруда России от 17.03.2003 № 30**.\n' +
    '3.  **Повторный инструктаж** - проводится периодически, не реже одного раза в 6 месяцев, с целью обновления знаний работников по охране труда. Регулируется теми же документами, что и первичный инструктаж.\n' +
    '4.  **Внеплановый инструктаж** - проводится в случае изменения условий труда, появления новых опасностей или после несчастных случаев на производстве. Основные требования определены в **Приказе Минтруда России от 24.10.2002 № 73**.\n' +
    '\n' +
    'Таким образом, соблюдение всех видов инструктажей при приеме на работу является обязательным для обеспечения безопасных условий труда и защиты здоровья работников.\n',
  level: 'debug',
  message: 'Components for system prompt',
  timestamp: '2025-02-09T19:04:28.941Z'
}
{
  promptLength: 1938,
  hasContext: false,
  hasOriginalDocument: true,
  level: 'debug',
  message: 'Final system prompt assembled',
  timestamp: '2025-02-09T19:04:28.942Z'
}
{
  message: 'Invoking model for artifact rewrite',
  level: 'info',
  timestamp: '2025-02-09T19:04:28.942Z'
}
{
  hasToolCalls: true,
  toolCallsCount: 1,
  level: 'debug',
  message: 'Model response received',
  timestamp: '2025-02-09T19:04:37.058Z'
}
{
  title: 'Инструктажи при приеме на работу',
  contentLength: 1642,
  level: 'debug',
  message: 'Created new artifact content',
  timestamp: '2025-02-09T19:04:37.059Z'
}
{
  id: '53e8742d-8121-4b80-9066-949530efafdc',
  contentsLength: 2,
  currentIndex: 2,
  isNewVersion: true,
  level: 'debug',
  message: 'Updated artifact object',
  timestamp: '2025-02-09T19:04:37.060Z'
}
{
  message: 'Successfully completed artifact rewrite',
  level: 'info',
  timestamp: '2025-02-09T19:04:37.060Z'
}
{
  message: 'Cleaning state, resetting to default inputs',
  level: 'debug',
  timestamp: '2025-02-09T19:04:38.229Z'
}
{
  message: 'Checking if title generation is needed. Message count: 1',
  level: 'info',
  timestamp: '2025-02-09T19:04:38.233Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-09T19:04:38.233Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-09T19:17:56.895Z'
}
{
  hasCurrentArtifact: false,
  messageCount: 1,
  level: 'debug',
  message: 'Preparing LLM prompt for routing',
  timestamp: '2025-02-09T19:17:56.898Z'
}
{
  message: 'Initializing model for routing decision',
  level: 'debug',
  timestamp: '2025-02-09T19:17:56.898Z'
}
{
  message: 'Invoking model for routing decision',
  level: 'debug',
  timestamp: '2025-02-09T19:17:56.900Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-09T19:17:58.632Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
          additional_kwargs: {},
          response_metadata: {},
          id: '8f0bb8af-c02c-424f-9fe8-fea54dfa0486'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: '8f0bb8af-c02c-424f-9fe8-fea54dfa0486'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-09T19:17:58.636Z'
}
{
  message: 'Starting artifact generation process',
  level: 'info',
  timestamp: '2025-02-09T19:17:58.646Z'
}
{
  modelName: 'gpt-4o-mini',
  modelProvider: 'openai',
  level: 'debug',
  message: 'Model configuration',
  timestamp: '2025-02-09T19:17:58.646Z'
}
{
  message: 'Model initialized with temperature 0.5',
  level: 'debug',
  timestamp: '2025-02-09T19:17:58.647Z'
}
{
  message: 'Model bound with artifact generation tool',
  level: 'debug',
  timestamp: '2025-02-09T19:17:58.647Z'
}
{
  memoriesLength: 278,
  level: 'debug',
  message: 'Retrieved formatted reflections',
  timestamp: '2025-02-09T19:17:58.648Z'
}
{
  promptLength: 1069,
  level: 'debug',
  message: 'Formatted new artifact prompt',
  timestamp: '2025-02-09T19:17:58.649Z'
}
{
  hasUserSystemPrompt: false,
  fullPromptLength: 1069,
  level: 'debug',
  message: 'Assembled full system prompt',
  timestamp: '2025-02-09T19:17:58.649Z'
}
{
  message: 'Invoking model for artifact generation',
  level: 'info',
  timestamp: '2025-02-09T19:17:58.650Z'
}
{
  hasToolCalls: true,
  toolCallsCount: 1,
  level: 'debug',
  message: 'Received model response',
  timestamp: '2025-02-09T19:18:03.743Z'
}
{
  title: 'Заключение по видам инструктажа',
  type: 'text',
  contentLength: 1238,
  content: 'При приеме на работу работодатель обязан провести различные виды инструктажей, которые регламентированы действующим законодательством. Основными видами инструктажа являются:\n' +
    '\n' +
    '1. **Вводный инструктаж** — проводится для всех новых работников и включает информацию о правилах внутреннего трудового распорядка, охране труда и технике безопасности. Регулируется статьей 225 Трудового кодекса РФ и Постановлением Минтруда России от 24.10.2002 № 73.\n' +
    '\n' +
    '2. **Первичный инструктаж на рабочем месте** — осуществляется непосредственно перед началом работы и включает специфические аспекты, касающиеся конкретной должности. Данный вид инструктажа также регламентируется Постановлением Минтруда России от 24.10.2002 № 73.\n' +
    '\n' +
    '3. **Повторный инструктаж** — проводится с периодичностью, установленной внутренними нормативными документами предприятия, но не реже одного раза в год. Порядок его проведения описан в вышеупомянутом Постановлении.\n' +
    '\n' +
    '4. **Целевой инструктаж** — проводится в случае введения новых технологий, оборудования или при изменении условий труда. Установлен статьей 225 Трудового кодекса РФ.\n' +
    '\n' +
    'Таким образом, соблюдение всех видов инструктажей является обязательным условием для обеспечения безопасных условий труда и защиты прав работников.',
  level: 'debug',
  message: 'Created new artifact content',
  timestamp: '2025-02-09T19:18:03.744Z'
}
{
  id: '24d84f4d-bbfd-4801-a015-3332b2dbc63d',
  currentIndex: 1,
  contentsLength: 1,
  content: 'При приеме на работу работодатель обязан провести различные виды инструктажей, которые регламентированы действующим законодательством. Основными видами инструктажа являются:\n' +
    '\n' +
    '1. **Вводный инструктаж** — проводится для всех новых работников и включает информацию о правилах внутреннего трудового распорядка, охране труда и технике безопасности. Регулируется статьей 225 Трудового кодекса РФ и Постановлением Минтруда России от 24.10.2002 № 73.\n' +
    '\n' +
    '2. **Первичный инструктаж на рабочем месте** — осуществляется непосредственно перед началом работы и включает специфические аспекты, касающиеся конкретной должности. Данный вид инструктажа также регламентируется Постановлением Минтруда России от 24.10.2002 № 73.\n' +
    '\n' +
    '3. **Повторный инструктаж** — проводится с периодичностью, установленной внутренними нормативными документами предприятия, но не реже одного раза в год. Порядок его проведения описан в вышеупомянутом Постановлении.\n' +
    '\n' +
    '4. **Целевой инструктаж** — проводится в случае введения новых технологий, оборудования или при изменении условий труда. Установлен статьей 225 Трудового кодекса РФ.\n' +
    '\n' +
    'Таким образом, соблюдение всех видов инструктажей является обязательным условием для обеспечения безопасных условий труда и защиты прав работников.',
  level: 'debug',
  message: 'Created new artifact object',
  timestamp: '2025-02-09T19:18:03.745Z'
}
{
  message: 'Successfully generated new artifact',
  level: 'info',
  timestamp: '2025-02-09T19:18:03.746Z'
}
{
  message: 'Cleaning state, resetting to default inputs',
  level: 'debug',
  timestamp: '2025-02-09T19:18:05.162Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-09T19:18:05.166Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-09T19:18:05.167Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-09T19:18:23.395Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-09T19:18:23.396Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
          additional_kwargs: {},
          response_metadata: {},
          id: '8f0bb8af-c02c-424f-9fe8-fea54dfa0486'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: '8f0bb8af-c02c-424f-9fe8-fea54dfa0486'
      },
      AIMessageChunk {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Представляю вам заключение по видам инструктажа при приеме на работу с указанием соответствующих нормативных документов. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуется внести изменения или дополнения.',
          additional_kwargs: {},
          response_metadata: {
            usage: {
              prompt_tokens: 755,
              completion_tokens: 52,
              total_tokens: 807,
              prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
              completion_tokens_details: {
                reasoning_tokens: 0,
                audio_tokens: 0,
                accepted_prediction_tokens: 0,
                rejected_prediction_tokens: 0
              }
            }
          },
          tool_call_chunks: [],
          id: 'chatcmpl-Az76aLgBQAExQwgX9CHGXfuB0EfTq',
          tool_calls: [],
          invalid_tool_calls: [],
          usage_metadata: undefined
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Представляю вам заключение по видам инструктажа при приеме на работу с указанием соответствующих нормативных документов. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуется внести изменения или дополнения.',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {
          usage: {
            prompt_tokens: 755,
            completion_tokens: 52,
            total_tokens: 807,
            prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
            completion_tokens_details: {
              reasoning_tokens: 0,
              audio_tokens: 0,
              accepted_prediction_tokens: 0,
              rejected_prediction_tokens: 0
            }
          }
        },
        id: 'chatcmpl-Az76aLgBQAExQwgX9CHGXfuB0EfTq',
        tool_calls: [],
        invalid_tool_calls: [],
        tool_call_chunks: [],
        usage_metadata: undefined
      }
    ],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Заключение по видам инструктажа',
          fullMarkdown: 'При приеме на работу работодатель обязан провести различные виды инструктажей, которые регламентированы действующим законодательством. Основными видами инструктажа являются:\n' +
            '\n' +
            '1.  **Вводный инструктаж** — проводится для всех новых работников и включает информацию о правилах внутреннего трудового распорядка, охране труда и технике безопасности. Регулируется статьей 225 Трудового кодекса РФ и Постановлением Минтруда России от 24.10.2002 № 73.\n' +
            '2.  **Первичный инструктаж на рабочем месте** — осуществляется непосредственно перед началом работы и включает специфические аспекты, касающиеся конкретной должности. Данный вид инструктажа также регламентируется Постановлением Минтруда России от 24.10.2002 № 73.\n' +
            '3.  **Повторный инструктаж** — проводится с периодичностью, установленной внутренними нормативными документами предприятия, но не реже одного раза в год. Порядок его проведения описан в вышеупомянутом Постановлении.\n' +
            '4.  **Целевой инструктаж** — проводится в случае введения новых технологий, оборудования или при изменении условий труда. Установлен статьей 225 Трудового кодекса РФ.\n' +
            '\n' +
            'Таким образом, соблюдение всех видов инструктажей является обязательным условием для обеспечения безопасных условий труда и защиты прав работников.\n'
        }
      ],
      metadata: {},
      id: '24d84f4d-bbfd-4801-a015-3332b2dbc63d'
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-09T19:18:23.400Z'
}
{
  message: 'Starting RAG retrieval process',
  level: 'info',
  timestamp: '2025-02-09T19:18:23.413Z'
}
{
  queryLength: 108,
  querySource: 'human_message',
  level: 'debug',
  message: 'Using query from last human message',
  timestamp: '2025-02-09T19:18:23.413Z'
}
{
  queryLength: 108,
  querySource: 'human_message',
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-09T19:18:23.414Z'
}
{
  documentsFound: 5,
  documents: [
    { source: 'document1.md', chunkIndex: 3, contentLength: 937 },
    { source: 'document2.md', chunkIndex: 5, contentLength: 681 },
    { source: 'document2.md', chunkIndex: 6, contentLength: 922 },
    { source: 'document1.md', chunkIndex: 6, contentLength: 915 },
    { source: 'document2.md', chunkIndex: 9, contentLength: 890 }
  ],
  querySource: 'human_message',
  level: 'debug',
  message: 'Vector search results',
  timestamp: '2025-02-09T19:18:24.559Z'
}
{
  message: 'Assembling context from retrieved documents',
  level: 'info',
  timestamp: '2025-02-09T19:18:24.559Z'
}
{
  documentCount: 5,
  level: 'debug',
  message: 'Starting context assembly',
  timestamp: '2025-02-09T19:18:24.560Z'
}
{
  sourceCount: 2,
  sources: [ 'document1.md', 'document2.md' ],
  level: 'debug',
  message: 'Grouped documents by source',
  timestamp: '2025-02-09T19:18:24.560Z'
}
{
  source: 'document1.md',
  addedDocsCount: 2,
  newTotalLength: 1854,
  level: 'debug',
  message: 'Added source content to context',
  timestamp: '2025-02-09T19:18:24.561Z'
}
{
  source: 'document2.md',
  addedDocsCount: 3,
  newTotalLength: 4351,
  level: 'debug',
  message: 'Added source content to context',
  timestamp: '2025-02-09T19:18:24.561Z'
}
{
  finalLength: 4402,
  sourceCount: 2,
  level: 'debug',
  message: 'Assembled final context',
  timestamp: '2025-02-09T19:18:24.561Z'
}
{
  contextLength: 4402,
  documentCount: 5,
  querySource: 'human_message',
  level: 'info',
  message: 'RAG retrieval completed successfully',
  timestamp: '2025-02-09T19:18:24.562Z'
}
{
  message: 'Starting artifact rewrite process',
  level: 'info',
  timestamp: '2025-02-09T19:18:24.569Z'
}
{
  message: 'Model initialized with configuration',
  level: 'debug',
  timestamp: '2025-02-09T19:18:24.570Z'
}
{
  hasMemories: true,
  level: 'debug',
  message: 'Retrieved reflections',
  timestamp: '2025-02-09T19:18:24.571Z'
}
{
  message: 'Invoking model for artifact rewrite',
  level: 'info',
  timestamp: '2025-02-09T19:18:24.571Z'
}
{
  hasContent: true,
  level: 'debug',
  message: 'Created new artifact content',
  timestamp: '2025-02-09T19:18:35.212Z'
}
{
  message: 'Successfully completed artifact rewrite',
  level: 'info',
  timestamp: '2025-02-09T19:18:35.212Z'
}
{
  message: 'Cleaning state, resetting to default inputs',
  level: 'debug',
  timestamp: '2025-02-09T19:18:36.391Z'
}
{
  message: 'Checking if title generation is needed. Message count: 3',
  level: 'info',
  timestamp: '2025-02-09T19:18:36.395Z'
}
{
  message: 'Skipping title generation - conversation already has more than 2 messages',
  level: 'debug',
  timestamp: '2025-02-09T19:18:36.396Z'
}
{
  hasArtifact: false,
  hasHighlightedText: false,
  customQuickActionId: null,
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-09T19:33:29.974Z'
}
{
  hasCurrentArtifact: false,
  messageCount: 1,
  level: 'debug',
  message: 'Preparing LLM prompt for routing',
  timestamp: '2025-02-09T19:33:29.977Z'
}
{
  message: 'Initializing model for routing decision',
  level: 'debug',
  timestamp: '2025-02-09T19:33:29.978Z'
}
{
  message: 'Invoking model for routing decision',
  level: 'debug',
  timestamp: '2025-02-09T19:33:29.980Z'
}
{
  selectedRoute: 'generateArtifact',
  level: 'info',
  message: 'Path generation complete',
  timestamp: '2025-02-09T19:33:32.136Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
          additional_kwargs: {},
          response_metadata: {},
          id: '278c4ab5-8daa-4e2e-bfe3-9c7c9fe63376'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: '278c4ab5-8daa-4e2e-bfe3-9c7c9fe63376'
      }
    ],
    next: 'generateArtifact'
  },
  nextNode: 'generateArtifact',
  level: 'info',
  message: 'Routing to next node: generateArtifact',
  timestamp: '2025-02-09T19:33:32.141Z'
}
{
  message: 'Starting artifact generation process',
  level: 'info',
  timestamp: '2025-02-09T19:33:32.155Z'
}
{
  modelName: 'gpt-4o-mini',
  modelProvider: 'openai',
  level: 'debug',
  message: 'Model configuration',
  timestamp: '2025-02-09T19:33:32.156Z'
}
{
  message: 'Model initialized with temperature 0.5',
  level: 'debug',
  timestamp: '2025-02-09T19:33:32.157Z'
}
{
  message: 'Model bound with artifact generation tool',
  level: 'debug',
  timestamp: '2025-02-09T19:33:32.157Z'
}
{
  memoriesLength: 278,
  level: 'debug',
  message: 'Retrieved formatted reflections',
  timestamp: '2025-02-09T19:33:32.158Z'
}
{
  promptLength: 1069,
  level: 'debug',
  message: 'Formatted new artifact prompt',
  timestamp: '2025-02-09T19:33:32.159Z'
}
{
  hasUserSystemPrompt: false,
  fullPromptLength: 1069,
  level: 'debug',
  message: 'Assembled full system prompt',
  timestamp: '2025-02-09T19:33:32.159Z'
}
{
  message: 'Invoking model for artifact generation',
  level: 'info',
  timestamp: '2025-02-09T19:33:32.160Z'
}
{
  hasToolCalls: true,
  toolCallsCount: 1,
  level: 'debug',
  message: 'Received model response',
  timestamp: '2025-02-09T19:33:42.888Z'
}
{
  title: 'Заключение по инструктажу',
  type: 'text',
  contentLength: 1579,
  content: '### Заключение по видам инструктажа при приеме на работу\n' +
    '\n' +
    'При приеме на работу работник должен пройти несколько видов инструктажа, которые обеспечивают его безопасность и информированность о правилах внутреннего распорядка. Основные виды инструктажа включают:\n' +
    '\n' +
    '1. **Вводный инструктаж** — проводится для всех новых работников и включает общие сведения о предприятии, его структуре, основных правилах безопасности и охраны труда. Основные требования к проведению вводного инструктажа установлены в **Постановлении Правительства РФ от 24.12.2002 № 80**.\n' +
    '\n' +
    '2. **Первичный инструктаж на рабочем месте** — осуществляется непосредственно на рабочем месте и включает в себя ознакомление с конкретными условиями труда, оборудованием и технологиями, которые будут использоваться. Данный вид инструктажа регламентируется **Приказом Минтруда России от 15.12.2010 № 1049н**.\n' +
    '\n' +
    '3. **Повторный инструктаж** — проводится периодически для поддержания знаний работников о правилах безопасности. Частота его проведения определяется исходя из специфики работы и требований охраны труда, как указано в **Приказе Минтруда России от 29.12.2014 № 1040н**.\n' +
    '\n' +
    '4. **Внеплановый инструктаж** — может быть проведен в случае изменения условий труда, введения нового оборудования или технологий, а также при возникновении несчастного случая. Основные принципы его проведения изложены в **Постановлении Правительства РФ от 24.12.2002 № 80**.\n' +
    '\n' +
    'Таким образом, соблюдение всех видов инструктажа при приеме на работу является обязательным и направлено на обеспечение безопасных условий труда и защиту прав работников.',
  level: 'debug',
  message: 'Created new artifact content',
  timestamp: '2025-02-09T19:33:42.889Z'
}
{
  id: 'cbdce50f-4023-4911-8551-f1e93be13b2e',
  currentIndex: 1,
  contentsLength: 1,
  content: '### Заключение по видам инструктажа при приеме на работу\n' +
    '\n' +
    'При приеме на работу работник должен пройти несколько видов инструктажа, которые обеспечивают его безопасность и информированность о правилах внутреннего распорядка. Основные виды инструктажа включают:\n' +
    '\n' +
    '1. **Вводный инструктаж** — проводится для всех новых работников и включает общие сведения о предприятии, его структуре, основных правилах безопасности и охраны труда. Основные требования к проведению вводного инструктажа установлены в **Постановлении Правительства РФ от 24.12.2002 № 80**.\n' +
    '\n' +
    '2. **Первичный инструктаж на рабочем месте** — осуществляется непосредственно на рабочем месте и включает в себя ознакомление с конкретными условиями труда, оборудованием и технологиями, которые будут использоваться. Данный вид инструктажа регламентируется **Приказом Минтруда России от 15.12.2010 № 1049н**.\n' +
    '\n' +
    '3. **Повторный инструктаж** — проводится периодически для поддержания знаний работников о правилах безопасности. Частота его проведения определяется исходя из специфики работы и требований охраны труда, как указано в **Приказе Минтруда России от 29.12.2014 № 1040н**.\n' +
    '\n' +
    '4. **Внеплановый инструктаж** — может быть проведен в случае изменения условий труда, введения нового оборудования или технологий, а также при возникновении несчастного случая. Основные принципы его проведения изложены в **Постановлении Правительства РФ от 24.12.2002 № 80**.\n' +
    '\n' +
    'Таким образом, соблюдение всех видов инструктажа при приеме на работу является обязательным и направлено на обеспечение безопасных условий труда и защиту прав работников.',
  level: 'debug',
  message: 'Created new artifact object',
  timestamp: '2025-02-09T19:33:42.890Z'
}
{
  message: 'Successfully generated new artifact',
  level: 'info',
  timestamp: '2025-02-09T19:33:42.892Z'
}
{
  message: 'Cleaning state, resetting to default inputs',
  level: 'debug',
  timestamp: '2025-02-09T19:33:43.994Z'
}
{
  message: 'Checking if title generation is needed. Message count: 2',
  level: 'info',
  timestamp: '2025-02-09T19:33:44.001Z'
}
{
  message: 'Initiating title generation for new conversation',
  level: 'info',
  timestamp: '2025-02-09T19:33:44.001Z'
}
{
  hasArtifact: true,
  hasHighlightedText: false,
  customQuickActionId: 'rag_rewrite',
  level: 'info',
  message: 'Starting path generation',
  timestamp: '2025-02-09T19:34:00.570Z'
}
{
  message: 'Routing to ragRetrieval for RAG rewrite action',
  level: 'info',
  timestamp: '2025-02-09T19:34:00.571Z'
}
{
  currentState: {
    messages: [
      HumanMessage {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
          additional_kwargs: {},
          response_metadata: {},
          id: '278c4ab5-8daa-4e2e-bfe3-9c7c9fe63376'
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Составь короткое заключение по видам инструктажа при приеме на работу (со ссылками на нормативные документы)',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {},
        id: '278c4ab5-8daa-4e2e-bfe3-9c7c9fe63376'
      },
      AIMessageChunk {
        lc_serializable: true,
        lc_kwargs: {
          content: 'Представляю вашему вниманию заключение по видам инструктажа при приеме на работу, с учетом всех необходимых нормативных ссылок. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуется внести изменения или дополнения.',
          additional_kwargs: {},
          response_metadata: {
            usage: {
              prompt_tokens: 846,
              completion_tokens: 55,
              total_tokens: 901,
              prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
              completion_tokens_details: {
                reasoning_tokens: 0,
                audio_tokens: 0,
                accepted_prediction_tokens: 0,
                rejected_prediction_tokens: 0
              }
            }
          },
          tool_call_chunks: [],
          id: 'chatcmpl-Az7Lj0gTy7oF3f1ew8GQs3o7hq2NF',
          tool_calls: [],
          invalid_tool_calls: [],
          usage_metadata: undefined
        },
        lc_namespace: [ 'langchain_core', 'messages' ],
        content: 'Представляю вашему вниманию заключение по видам инструктажа при приеме на работу, с учетом всех необходимых нормативных ссылок. Пожалуйста, ознакомьтесь с документом и дайте знать, если потребуется внести изменения или дополнения.',
        name: undefined,
        additional_kwargs: {},
        response_metadata: {
          usage: {
            prompt_tokens: 846,
            completion_tokens: 55,
            total_tokens: 901,
            prompt_tokens_details: { cached_tokens: 0, audio_tokens: 0 },
            completion_tokens_details: {
              reasoning_tokens: 0,
              audio_tokens: 0,
              accepted_prediction_tokens: 0,
              rejected_prediction_tokens: 0
            }
          }
        },
        id: 'chatcmpl-Az7Lj0gTy7oF3f1ew8GQs3o7hq2NF',
        tool_calls: [],
        invalid_tool_calls: [],
        tool_call_chunks: [],
        usage_metadata: undefined
      }
    ],
    artifact: {
      currentIndex: 1,
      contents: [
        {
          index: 1,
          type: 'text',
          title: 'Заключение по инструктажу',
          fullMarkdown: '### Заключение по видам инструктажа при приеме на работу\n' +
            '\n' +
            'При приеме на работу работник должен пройти несколько видов инструктажа, которые обеспечивают его безопасность и информированность о правилах внутреннего распорядка. Основные виды инструктажа включают:\n' +
            '\n' +
            '1.  **Вводный инструктаж** — проводится для всех новых работников и включает общие сведения о предприятии, его структуре, основных правилах безопасности и охраны труда. Основные требования к проведению вводного инструктажа установлены в **Постановлении Правительства РФ от 24.12.2002 № 80**.\n' +
            '2.  **Первичный инструктаж на рабочем месте** — осуществляется непосредственно на рабочем месте и включает в себя ознакомление с конкретными условиями труда, оборудованием и технологиями, которые будут использоваться. Данный вид инструктажа регламентируется **Приказом Минтруда России от 15.12.2010 № 1049н**.\n' +
            '3.  **Повторный инструктаж** — проводится периодически для поддержания знаний работников о правилах безопасности. Частота его проведения определяется исходя из специфики работы и требований охраны труда, как указано в **Приказе Минтруда России от 29.12.2014 № 1040н**.\n' +
            '4.  **Внеплановый инструктаж** — может быть проведен в случае изменения условий труда, введения нового оборудования или технологий, а также при возникновении несчастного случая. Основные принципы его проведения изложены в **Постановлении Правительства РФ от 24.12.2002 № 80**.\n' +
            '\n' +
            'Таким образом, соблюдение всех видов инструктажа при приеме на работу является обязательным и направлено на обеспечение безопасных условий труда и защиту прав работников.\n'
        }
      ],
      metadata: {},
      id: 'cbdce50f-4023-4911-8551-f1e93be13b2e'
    },
    next: 'ragRetrieval',
    customQuickActionId: 'rag_rewrite'
  },
  nextNode: 'ragRetrieval',
  level: 'info',
  message: 'Routing to next node: ragRetrieval',
  timestamp: '2025-02-09T19:34:00.576Z'
}
{
  message: 'Starting RAG retrieval process',
  level: 'info',
  timestamp: '2025-02-09T19:34:00.585Z'
}
{
  queryLength: 108,
  querySource: 'human_message',
  level: 'debug',
  message: 'Using query from last human message',
  timestamp: '2025-02-09T19:34:00.585Z'
}
{
  queryLength: 108,
  querySource: 'human_message',
  level: 'info',
  message: 'Performing vector search',
  timestamp: '2025-02-09T19:34:00.585Z'
}
{
  documentsFound: 5,
  documents: [
    { source: 'document1.md', chunkIndex: 3, contentLength: 937 },
    { source: 'document2.md', chunkIndex: 5, contentLength: 681 },
    { source: 'document2.md', chunkIndex: 6, contentLength: 922 },
    { source: 'document1.md', chunkIndex: 6, contentLength: 915 },
    { source: 'document2.md', chunkIndex: 9, contentLength: 890 }
  ],
  querySource: 'human_message',
  level: 'debug',
  message: 'Vector search results',
  timestamp: '2025-02-09T19:34:01.496Z'
}
{
  message: 'Assembling context from retrieved documents',
  level: 'info',
  timestamp: '2025-02-09T19:34:01.497Z'
}
{
  documentCount: 5,
  level: 'debug',
  message: 'Starting context assembly',
  timestamp: '2025-02-09T19:34:01.498Z'
}
{
  sourceCount: 2,
  sources: [ 'document1.md', 'document2.md' ],
  level: 'debug',
  message: 'Grouped documents by source',
  timestamp: '2025-02-09T19:34:01.498Z'
}
{
  source: 'document1.md',
  addedDocsCount: 2,
  newTotalLength: 1854,
  level: 'debug',
  message: 'Added source content to context',
  timestamp: '2025-02-09T19:34:01.498Z'
}
{
  source: 'document2.md',
  addedDocsCount: 3,
  newTotalLength: 4351,
  level: 'debug',
  message: 'Added source content to context',
  timestamp: '2025-02-09T19:34:01.498Z'
}
{
  finalLength: 4402,
  sourceCount: 2,
  level: 'debug',
  message: 'Assembled final context',
  timestamp: '2025-02-09T19:34:01.499Z'
}
{
  contextLength: 4402,
  documentCount: 5,
  querySource: 'human_message',
  level: 'info',
  message: 'RAG retrieval completed successfully',
  timestamp: '2025-02-09T19:34:01.499Z'
}
{
  message: 'Starting artifact rewrite process',
  level: 'info',
  timestamp: '2025-02-09T19:34:01.508Z'
}
{
  message: 'Model initialized with configuration',
  level: 'debug',
  timestamp: '2025-02-09T19:34:01.509Z'
}
{
  message: 'Starting artifact metadata update process',
  level: 'info',
  timestamp: '2025-02-09T19:34:01.510Z'
}
{
  modelProvider: 'openai',
  level: 'debug',
  message: 'Model configuration',
  timestamp: '2025-02-09T19:34:01.510Z'
}
{
  message: 'Model initialized and bound with metadata update tool',
  level: 'debug',
  timestamp: '2025-02-09T19:34:01.511Z'
}
{
  memoriesLength: 278,
  level: 'debug',
  message: 'Retrieved formatted reflections',
  timestamp: '2025-02-09T19:34:01.517Z'
}
{
  title: 'Заключение по инструктажу',
  type: 'text',
  contentLength: 1581,
  level: 'debug',
  message: 'Retrieved current artifact content',
  timestamp: '2025-02-09T19:34:01.517Z'
}
{
  promptLength: 2324,
  level: 'debug',
  message: 'Assembled metadata update prompt',
  timestamp: '2025-02-09T19:34:01.518Z'
}
{
  message: 'Created synthetic human message for RAG rewrite',
  level: 'debug',
  timestamp: '2025-02-09T19:34:01.519Z'
}
{
  message: 'Invoking model for metadata update',
  level: 'info',
  timestamp: '2025-02-09T19:34:01.519Z'
}
{
  hasToolCalls: true,
  toolCallsCount: 1,
  level: 'debug',
  message: 'Received model response',
  timestamp: '2025-02-09T19:34:02.702Z'
}
{
  hasUpdates: true,
  updatedTitle: 'Заключение по инструктажу',
  level: 'info',
  message: 'Completed metadata update process',
  timestamp: '2025-02-09T19:34:02.703Z'
}
{
  hasMetaUpdate: true,
  isNewType: false,
  newType: 'text',
  level: 'debug',
  message: 'Metadata update processed',
  timestamp: '2025-02-09T19:34:02.703Z'
}
{
  hasMemories: true,
  level: 'debug',
  message: 'Retrieved reflections',
  timestamp: '2025-02-09T19:34:02.703Z'
}
{
  message: 'Invoking model for artifact rewrite',
  level: 'info',
  timestamp: '2025-02-09T19:34:02.704Z'
}
{
  hasContent: true,
  type: 'text',
  level: 'debug',
  message: 'Created new artifact content',
  timestamp: '2025-02-09T19:34:13.223Z'
}
{
  message: 'Successfully completed artifact rewrite',
  level: 'info',
  timestamp: '2025-02-09T19:34:13.223Z'
}
{
  message: 'Cleaning state, resetting to default inputs',
  level: 'debug',
  timestamp: '2025-02-09T19:34:14.664Z'
}
{
  message: 'Checking if title generation is needed. Message count: 3',
  level: 'info',
  timestamp: '2025-02-09T19:34:14.667Z'
}
{
  message: 'Skipping title generation - conversation already has more than 2 messages',
  level: 'debug',
  timestamp: '2025-02-09T19:34:14.668Z'
}
